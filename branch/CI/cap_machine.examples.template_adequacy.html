<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.examples.template_adequacy</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">auth</span> <span class="id" title="library">agree</span> <span class="id" title="library">excl</span> <span class="id" title="library">gmap</span> <span class="id" title="library">gset</span> <span class="id" title="library">frac</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">invariants</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">adequacy</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.iris_extra.html#"><span class="id" title="library">iris_extra</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.rules.html#"><span class="id" title="library">rules</span></a> <a class="idref" href="cap_machine.logrel.html#"><span class="id" title="library">logrel</span></a> <a class="idref" href="cap_machine.fundamental.html#"><span class="id" title="library">fundamental</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine.examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="cap_machine.examples.addr_reg_sample.html#"><span class="id" title="library">addr_reg_sample</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#"><span class="id" title="library">mkregion_helpers</span></a> <a class="idref" href="cap_machine.proofmode.disjoint_regions_tactics.html#"><span class="id" title="library">disjoint_regions_tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="prog" class="idref" href="#prog"><span class="id" title="record">prog</span></a> := <span class="id" title="var">MkProg</span> {<br/>
&nbsp;&nbsp;<a id="prog_start" class="idref" href="#prog_start"><span class="id" title="projection">prog_start</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="prog_end" class="idref" href="#prog_end"><span class="id" title="projection">prog_end</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="prog_instrs" class="idref" href="#prog_instrs"><span class="id" title="projection">prog_instrs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="prog_size" class="idref" href="#prog_size"><span class="id" title="projection">prog_size</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start:2"><span class="id" title="method">prog_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs:4"><span class="id" title="method">prog_instrs</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end:3"><span class="id" title="method">prog_end</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="prog_region" class="idref" href="#prog_region"><span class="id" title="definition">prog_region</span></a> (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>): <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="adv_condition" class="idref" href="#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a id="adv:7" class="idref" href="#adv:7"><span class="id" title="binder">adv</span></a> <a id="w:8" class="idref" href="#w:8"><span class="id" title="binder">w</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:8"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="cap_machine.logrel.html#in_region"><span class="id" title="definition">in_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:8"><span class="id" title="variable">w</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#adv:7"><span class="id" title="variable">adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#adv:7"><span class="id" title="variable">adv</span></a>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="empty_prog" class="idref" href="#empty_prog"><span class="id" title="definition">empty_prog</span></a> <a id="a:9" class="idref" href="#a:9"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a> := <a class="idref" href="cap_machine.examples.template_adequacy.html#MkProg"><span class="id" title="constructor">MkProg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:9"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:9"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="empty_prog_region" class="idref" href="#empty_prog_region"><span class="id" title="lemma">empty_prog_region</span></a> <a id="a:10" class="idref" href="#a:10"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog"><span class="id" title="definition">empty_prog</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:10"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">∅</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog"><span class="id" title="definition">empty_prog</span></a> /<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_empty"><span class="id" title="lemma">finz_seq_between_empty</span></a>;[|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prog_region_dom" class="idref" href="#prog_region_dom"><span class="id" title="lemma">prog_region_dom</span></a> (<a id="P:11" class="idref" href="#P:11"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:11"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:11"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:11"><span class="id" title="variable">P</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <span class="id" title="lemma">dom_list_to_map_L</span> <span class="id" title="lemma">fst_zip</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_length"><span class="id" title="lemma">finz_seq_between_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_size"><span class="id" title="projection">prog_size</span></a> <span class="id" title="var">P</span>). <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="memory_inv" class="idref" href="#memory_inv"><span class="id" title="record">memory_inv</span></a> := <span class="id" title="var">MkMemoryInv</span> {<br/>
&nbsp;&nbsp;<a id="minv" class="idref" href="#minv"><span class="id" title="projection">minv</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="minv_dom" class="idref" href="#minv_dom"><span class="id" title="projection">minv_dom</span></a> : <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="minv_dom_correct" class="idref" href="#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:15" class="idref" href="#m:15"><span class="id" title="binder">m</span></a> <a id="m':16" class="idref" href="#m':16"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:17" class="idref" href="#a:17"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:17"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom:14"><span class="id" title="method">minv_dom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:15"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:17"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':16"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:17"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#x:18"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv:13"><span class="id" title="method">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:15"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv:13"><span class="id" title="method">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':16"><span class="id" title="variable">m'</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minv_sub_extend" class="idref" href="#minv_sub_extend"><span class="id" title="lemma">minv_sub_extend</span></a> (<a id="m:20" class="idref" href="#m:20"><span class="id" title="binder">m</span></a> <a id="m':21" class="idref" href="#m':21"><span class="id" title="binder">m'</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="I:22" class="idref" href="#I:22"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:22"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:20"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#m:20"><span class="id" title="variable">m</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':21"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:22"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:20"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:22"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':21"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">is_Some</span> (<span class="id" title="var">m</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsub</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minv_sub_restrict" class="idref" href="#minv_sub_restrict"><span class="id" title="lemma">minv_sub_restrict</span></a> (<a id="m:23" class="idref" href="#m:23"><span class="id" title="binder">m</span></a> <a id="m':24" class="idref" href="#m':24"><span class="id" title="binder">m'</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="I:25" class="idref" href="#I:25"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:25"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:23"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#m:23"><span class="id" title="variable">m</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':24"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:25"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':24"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:25"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:23"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">is_Some</span> (<span class="id" title="var">m</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_dom_is_dom" class="idref" href="#filter_dom_is_dom"><span class="id" title="lemma">filter_dom_is_dom</span></a> (<a id="m:26" class="idref" href="#m:26"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="d:27" class="idref" href="#d:27"><span class="id" title="binder">d</span></a>: <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#d:27"><span class="id" title="variable">d</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:26"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:29" class="idref" href="#pat:29"><span class="id" title="binder">(</span></a><a id="a:28" class="idref" href="#a:28"><span class="id" title="binder"><span id="pat:29" class="id">a</span></span></a><a id="pat:29" class="idref" href="#pat:29"><span class="id" title="binder">,</span></a> <a id="pat:29" class="idref" href="#pat:29"><span class="id" title="binder">_</span></a><a id="pat:29" class="idref" href="#pat:29"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:28"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#d:27"><span class="id" title="variable">d</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:26"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#d:27"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">set_eq</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">dom_filter_L</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hd</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="minv_sep" class="idref" href="#minv_sep"><span class="id" title="definition">minv_sep</span></a> `{<a id="H:31" class="idref" href="#H:31"><span class="id" title="binder">memG</span></a> <a id="837da4610b9e0a7574f49c54d2569297" class="idref" href="#837da4610b9e0a7574f49c54d2569297"><span class="id" title="binder"><span id="H:31" class="id">Σ</span></span></a>} (<a id="I:32" class="idref" href="#I:32"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>): <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#837da4610b9e0a7574f49c54d2569297"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="m:33" class="idref" href="#m:33"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:34" class="idref" href="#a:34"><span class="id" title="binder"><span id="a:35" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:36" class="idref" href="#w:36"><span class="id" title="binder"><span id="w:37" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:33"><span class="id" title="variable">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:34"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:36"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:33"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:32"><span class="id" title="variable">I</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:32"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:33"><span class="id" title="variable">m</span></a><span class="id" title="notation">⌝</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="basic" class="idref" href="#basic"><span class="id" title="module">basic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="basic.is_initial_registers" class="idref" href="#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:38" class="idref" href="#P:38"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:39" class="idref" href="#reg:39"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:39"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:38"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:38"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:38"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:40" class="idref" href="#r:40"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:40"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:41" class="idref" href="#w:41"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:39"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:40"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:41"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:41"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic.initial_registers_full_map" class="idref" href="#basic.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:42" class="idref" href="#P:42"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:43" class="idref" href="#reg:43"><span class="id" title="binder">reg</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:42"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:43"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:44" class="idref" href="#r:44"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:43"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:44"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="basic.is_initial_memory" class="idref" href="#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:45" class="idref" href="#P:45"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:46" class="idref" href="#m:46"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:45"><span class="id" title="variable">P</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:46"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="basic.Adequacy" class="idref" href="#basic.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="0f349382f796b4f2cbdf3887d61145a1" class="idref" href="#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:48" class="idref" href="#inv_preg:48"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:49" class="idref" href="#mem_preg:49"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:50" class="idref" href="#reg_preg:50"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:51" class="idref" href="#seal_store_preg:51"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:52" class="idref" href="#na_invg:52"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:53" class="idref" href="#MP:53"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:54" class="idref" href="#P:54"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:55" class="idref" href="#I:55"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="basic.invN" class="idref" href="#basic.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="basic.template_adequacy'" class="idref" href="#basic.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> <a id="m':57" class="idref" href="#m':57"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:58" class="idref" href="#reg:58"><span class="id" title="binder">reg</span></a> <a id="reg':59" class="idref" href="#reg':59"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:60" class="idref" href="#es:60"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:56"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:58"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:56"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:63" class="idref" href="#prog_map:63"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">(</span></a><a id="a:61" class="idref" href="#a:61"><span class="id" title="binder"><span id="pat:62" class="id">a</span></span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">,</span></a> <a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">_</span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:61"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:64" class="idref" href="#H:64"><span class="id" title="binder">memG</span></a> <a id="H:64" class="idref" href="#H:64"><span class="id" title="binder">Σ</span></a>, <a id="H0:65" class="idref" href="#H0:65"><span class="id" title="binder">regG</span></a> <a id="H0:65" class="idref" href="#H0:65"><span class="id" title="binder">Σ</span></a>, <a id="H1:66" class="idref" href="#H1:66"><span class="id" title="binder">sealStoreG</span></a> <a id="H1:66" class="idref" href="#H1:66"><span class="id" title="binder">Σ</span></a>, <a id="H2:67" class="idref" href="#H2:67"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H2:67" class="idref" href="#H2:67"><span class="id" title="binder">Σ</span></a>} <a id="rmap:68" class="idref" href="#rmap:68"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:68"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:69" class="idref" href="#r:69"><span class="id" title="binder"><span id="r:70" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:71" class="idref" href="#w:71"><span class="id" title="binder"><span id="w:72" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:68"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:69"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:71"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:71"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:73" class="idref" href="#a:73"><span class="id" title="binder"><span id="a:74" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:75" class="idref" href="#w:75"><span class="id" title="binder"><span id="w:76" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:63"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:73"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:75"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:58"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:56"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:60"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':59"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':57"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':57"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="definition">wp_invariance</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <span class="id" title="constructor">NotStuck</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:77" class="idref" href="#c:77"><span class="id" title="binder"><span id="c:78" class="id">c</span></span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:77"><span class="id" title="variable">c</span></a><span class="id" title="notation">.2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. 2: <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="cap_machine.seal_store.html#seal_store_init"><span class="id" title="axiom">seal_store_init</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">seal_storeg</span>) "Hseal_store".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<span class="id" title="lemma">na_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">seal_storeg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_subseteq</span> <span class="id" title="notation">with</span> "Hmem"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hprog". <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:82" class="id"><span id="pat:84" class="id">(</span></span></span></a><a id="a:79" class="idref" href="#a:79"><span class="id" title="binder"><span id="pat:80" class="id"><span id="a:81" class="id"><span id="pat:82" class="id"><span id="a:83" class="id"><span id="pat:84" class="id">a</span></span></span></span></span></span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:82" class="id"><span id="pat:84" class="id">,</span></span></span></a> <a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:82" class="id"><span id="pat:84" class="id">_</span></span></span></a><a id="pat:80" class="idref" href="#pat:80"><span class="id" title="binder"><span id="pat:82" class="id"><span id="pat:84" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:79"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <span class="id" title="notation">∪</span> <span class="id" title="var">prog_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_filter_union_complement</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog_inv Hprog]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_filter_complement</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">with</span> "[Hprog_inv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region_dom"><span class="id" title="axiom">prog_region_dom</span></a>//. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_filter_subseteq</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:85" class="idref" href="#r:85"><span class="id" title="binder"><span id="r:86" class="id"><span id="r:89" class="id"><span id="r:90" class="id">r</span></span></span></span></a><span class="id" title="notation">↦</span><a id="w:87" class="idref" href="#w:87"><span class="id" title="binder"><span id="w:88" class="id"><span id="w:91" class="id"><span id="w:92" class="id">w</span></span></span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">rmap</span><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:85"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:87"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:87"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_mono</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:93" class="idref" href="#r:93"><span class="id" title="binder"><span id="r:94" class="id">r</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<span class="id" title="var">reg</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:93"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="var">Hspec</span> <span class="id" title="var">rmap</span> <span class="id" title="notation">with</span> "[$HPC $Hreg $Hprog $Hinv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">dom_delete_L</span> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="781cc6ac800ff5ee4132feeb1e847894" class="idref" href="#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="binder"><span id="8222f0ea3aca5a6b9e14fe0688e0aff9" class="id">σ</span></span></a> <a id="45a3e163619a7b9caf1efb7297d932ee" class="idref" href="#45a3e163619a7b9caf1efb7297d932ee"><span class="id" title="binder"><span id="afa1240fc23748d138bac81b4bc24dfa" class="id">κs</span></span></a> <span class="id" title="var">_</span> =&gt; (<span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <span class="id" title="notation">with</span> "Hmem' Hmi"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="basic.template_adequacy" class="idref" href="#basic.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:99" class="idref" href="#H:99"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:100" class="idref" href="#P:100"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:101" class="idref" href="#I:101"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> <a id="m':103" class="idref" href="#m':103"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:104" class="idref" href="#reg:104"><span class="id" title="binder">reg</span></a> <a id="reg':105" class="idref" href="#reg':105"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:106" class="idref" href="#es:106"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:104"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:101"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:101"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:109" class="idref" href="#prog_map:109"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">(</span></a><a id="a:107" class="idref" href="#a:107"><span class="id" title="binder"><span id="pat:108" class="id">a</span></span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">,</span></a> <a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">_</span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:107"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:101"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:111" class="idref" href="#H0:111"><span class="id" title="binder">memG</span></a> <a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder"><span id="H0:111" class="id">Σ</span></span></a>, <a id="H1:112" class="idref" href="#H1:112"><span class="id" title="binder">regG</span></a> <a id="H1:112" class="idref" href="#H1:112"><span class="id" title="binder">Σ</span></a>, <a id="H2:113" class="idref" href="#H2:113"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:113" class="idref" href="#H2:113"><span class="id" title="binder">Σ</span></a>, <a id="H3:114" class="idref" href="#H3:114"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:114" class="idref" href="#H3:114"><span class="id" title="binder">Σ</span></a>} <a id="rmap:115" class="idref" href="#rmap:115"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:115"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:101"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:100"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:116" class="idref" href="#r:116"><span class="id" title="binder"><span id="r:117" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:118" class="idref" href="#w:118"><span class="id" title="binder"><span id="w:119" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:115"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:116"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:118"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:118"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:120" class="idref" href="#a:120"><span class="id" title="binder"><span id="a:121" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:122" class="idref" href="#w:122"><span class="id" title="binder"><span id="w:123" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:109"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:120"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:122"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:104"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:102"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:106"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':105"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':103"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:101"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':103"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic"><span class="id" title="module">basic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_and_data" class="idref" href="#with_adv_and_data"><span class="id" title="module">with_adv_and_data</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data.is_initial_registers" class="idref" href="#with_adv_and_data.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:124" class="idref" href="#P:124"><span class="id" title="binder">P</span></a> <a id="Adv:125" class="idref" href="#Adv:125"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:126" class="idref" href="#reg:126"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:127" class="idref" href="#r_adv:127"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:126"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:124"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:124"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:124"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:126"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:127"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:125"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:125"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:125"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:127"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:128" class="idref" href="#r:128"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:128"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:127"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:129" class="idref" href="#w:129"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:126"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:128"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:129"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:129"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_data.initial_registers_full_map" class="idref" href="#with_adv_and_data.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:130" class="idref" href="#P:130"><span class="id" title="binder">P</span></a> <a id="Adv:131" class="idref" href="#Adv:131"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:132" class="idref" href="#reg:132"><span class="id" title="binder">reg</span></a> <a id="r_adv:133" class="idref" href="#r_adv:133"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:130"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:131"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:132"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:133"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:134" class="idref" href="#r:134"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:132"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:134"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data.is_initial_memory" class="idref" href="#with_adv_and_data.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:135" class="idref" href="#P:135"><span class="id" title="binder">P</span></a> <a id="Adv:136" class="idref" href="#Adv:136"><span class="id" title="binder">Adv</span></a> <a id="AdvData:137" class="idref" href="#AdvData:137"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:138" class="idref" href="#m:138"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:135"><span class="id" title="variable">P</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:138"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:136"><span class="id" title="variable">Adv</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:138"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:137"><span class="id" title="variable">AdvData</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:138"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:135"><span class="id" title="variable">P</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:136"><span class="id" title="variable">Adv</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:135"><span class="id" title="variable">P</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:137"><span class="id" title="variable">AdvData</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:136"><span class="id" title="variable">Adv</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:137"><span class="id" title="variable">AdvData</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_and_data.Adequacy" class="idref" href="#with_adv_and_data.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="c64a4e18afb901fc0065484d2bee7e79" class="idref" href="#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:140" class="idref" href="#inv_preg:140"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:141" class="idref" href="#mem_preg:141"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:142" class="idref" href="#reg_preg:142"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:143" class="idref" href="#seal_store_preg:143"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:144" class="idref" href="#na_invg:144"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:145" class="idref" href="#MP:145"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:146" class="idref" href="#P:146"><span class="id" title="binder">P</span></a> <a id="Adv:147" class="idref" href="#Adv:147"><span class="id" title="binder">Adv</span></a> <a id="AdvData:148" class="idref" href="#AdvData:148"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:149" class="idref" href="#I:149"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:150" class="idref" href="#r_adv:150"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data.invN" class="idref" href="#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_data.template_adequacy'" class="idref" href="#with_adv_and_data.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:151" class="idref" href="#m:151"><span class="id" title="binder">m</span></a> <a id="m':152" class="idref" href="#m':152"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:153" class="idref" href="#reg:153"><span class="id" title="binder">reg</span></a> <a id="reg':154" class="idref" href="#reg':154"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:155" class="idref" href="#es:155"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:151"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:153"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:156" class="idref" href="#w:156"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:156"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:151"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:159" class="idref" href="#prog_map:159"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:158" class="idref" href="#pat:158"><span class="id" title="binder">(</span></a><a id="a:157" class="idref" href="#a:157"><span class="id" title="binder"><span id="pat:158" class="id">a</span></span></a><a id="pat:158" class="idref" href="#pat:158"><span class="id" title="binder">,</span></a> <a id="pat:158" class="idref" href="#pat:158"><span class="id" title="binder">_</span></a><a id="pat:158" class="idref" href="#pat:158"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:157"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:160" class="idref" href="#H:160"><span class="id" title="binder">memG</span></a> <a id="H:160" class="idref" href="#H:160"><span class="id" title="binder">Σ</span></a>, <a id="H0:161" class="idref" href="#H0:161"><span class="id" title="binder">regG</span></a> <a id="H0:161" class="idref" href="#H0:161"><span class="id" title="binder">Σ</span></a>, <a id="H1:162" class="idref" href="#H1:162"><span class="id" title="binder">sealStoreG</span></a> <a id="H1:162" class="idref" href="#H1:162"><span class="id" title="binder">Σ</span></a>, <a id="NA:163" class="idref" href="#NA:163"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a>} <a id="rmap:164" class="idref" href="#rmap:164"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:164"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:163"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:165" class="idref" href="#r:165"><span class="id" title="binder"><span id="r:166" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:167" class="idref" href="#w:167"><span class="id" title="binder"><span id="w:168" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:164"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:165"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:167"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:167"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:169" class="idref" href="#a:169"><span class="id" title="binder"><span id="a:170" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:171" class="idref" href="#w:171"><span class="id" title="binder"><span id="w:172" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:169"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:171"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:173" class="idref" href="#a:173"><span class="id" title="binder"><span id="a:174" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:175" class="idref" href="#w:175"><span class="id" title="binder"><span id="w:176" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:175"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:177" class="idref" href="#a:177"><span class="id" title="binder"><span id="a:178" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:179" class="idref" href="#w:179"><span class="id" title="binder"><span id="w:180" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:159"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:177"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:179"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:153"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:151"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:155"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':154"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':152"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':152"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadvdata</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="definition">wp_invariance</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <span class="id" title="constructor">NotStuck</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:181" class="idref" href="#c:181"><span class="id" title="binder"><span id="c:182" class="id">c</span></span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:181"><span class="id" title="variable">c</span></a><span class="id" title="notation">.2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="cap_machine.seal_store.html#seal_store_init"><span class="id" title="axiom">seal_store_init</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">seal_storeg</span>) "Hseal_store".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<span class="id" title="lemma">na_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#382a24320cc63d3631668cdd41730c18"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">seal_storeg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">HAD</span> &amp; [<span class="id" title="var">Hdisj1</span> [<span class="id" title="var">Hdisj2</span> <span class="id" title="var">Hdisj3</span>] ]).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_subseteq</span> <span class="id" title="notation">with</span> "Hmem"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HAD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprogadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog Hadvdata]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">assumption</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:188" class="id">(</span></span></span></a><a id="a:183" class="idref" href="#a:183"><span class="id" title="binder"><span id="pat:184" class="id"><span id="a:185" class="id"><span id="pat:186" class="id"><span id="a:187" class="id"><span id="pat:188" class="id">a</span></span></span></span></span></span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:188" class="id">,</span></span></span></a> <a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:188" class="id">_</span></span></span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder"><span id="pat:186" class="id"><span id="pat:188" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:183"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <span class="id" title="notation">∪</span> <span class="id" title="var">prog_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_filter_union_complement</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog_inv Hprog]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_filter_complement</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">with</span> "[Hprog_inv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region_dom"><span class="id" title="axiom">prog_region_dom</span></a>//. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.P"><span class="id" title="variable">P</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_filter_subseteq</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:189" class="idref" href="#r:189"><span class="id" title="binder"><span id="r:190" class="id"><span id="r:193" class="id"><span id="r:194" class="id">r</span></span></span></span></a><span class="id" title="notation">↦</span><a id="w:191" class="idref" href="#w:191"><span class="id" title="binder"><span id="w:192" class="id"><span id="w:195" class="id"><span id="w:196" class="id">w</span></span></span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">rmap</span><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:189"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:191"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:191"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_mono</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:197" class="idref" href="#r:197"><span class="id" title="binder"><span id="r:198" class="id">r</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<span class="id" title="var">reg</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:197"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="var">Hspec</span> <span class="id" title="var">rmap</span> <span class="id" title="notation">with</span> "[$HPC $Hr0 $Hreg $Hprog $Hadv $Hinv $Hna $Hadvdata]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">dom_delete_L</span> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="2fcffadf619328bb2c6038ecd49e3ed2" class="idref" href="#2fcffadf619328bb2c6038ecd49e3ed2"><span class="id" title="binder"><span id="114311b711f39d5fc7b21cd1efa50f3e" class="id">σ</span></span></a> <a id="950b695c8ca64f8f19eb5fb43d52426f" class="idref" href="#950b695c8ca64f8f19eb5fb43d52426f"><span class="id" title="binder"><span id="0f977b5315a715d3a0c1a2b072d17d30" class="id">κs</span></span></a> <span class="id" title="var">_</span> =&gt; (<span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#2fcffadf619328bb2c6038ecd49e3ed2"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#2fcffadf619328bb2c6038ecd49e3ed2"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <span class="id" title="notation">with</span> "Hmem' Hmi"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_data.template_adequacy" class="idref" href="#with_adv_and_data.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:204" class="idref" href="#P:204"><span class="id" title="binder">P</span></a> <a id="Adv:205" class="idref" href="#Adv:205"><span class="id" title="binder">Adv</span></a> <a id="AdvData:206" class="idref" href="#AdvData:206"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:207" class="idref" href="#I:207"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:208" class="idref" href="#r_adv:208"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:209" class="idref" href="#m:209"><span class="id" title="binder">m</span></a> <a id="m':210" class="idref" href="#m':210"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:211" class="idref" href="#reg:211"><span class="id" title="binder">reg</span></a> <a id="reg':212" class="idref" href="#reg':212"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:213" class="idref" href="#es:213"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:206"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:209"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:211"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:208"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:214" class="idref" href="#w:214"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:214"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:206"><span class="id" title="variable">AdvData</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:206"><span class="id" title="variable">AdvData</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:207"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:209"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:207"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:217" class="idref" href="#prog_map:217"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">(</span></a><a id="a:215" class="idref" href="#a:215"><span class="id" title="binder"><span id="pat:216" class="id">a</span></span></a><a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">,</span></a> <a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">_</span></a><a id="pat:216" class="idref" href="#pat:216"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:215"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:207"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:219" class="idref" href="#H0:219"><span class="id" title="binder">memG</span></a> <a id="ccf293e838f888857628a551bd743fea" class="idref" href="#ccf293e838f888857628a551bd743fea"><span class="id" title="binder"><span id="H0:219" class="id">Σ</span></span></a>, <a id="H1:220" class="idref" href="#H1:220"><span class="id" title="binder">regG</span></a> <a id="H1:220" class="idref" href="#H1:220"><span class="id" title="binder">Σ</span></a>, <a id="H2:221" class="idref" href="#H2:221"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:221" class="idref" href="#H2:221"><span class="id" title="binder">Σ</span></a>, <a id="H3:222" class="idref" href="#H3:222"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:222" class="idref" href="#H3:222"><span class="id" title="binder">Σ</span></a>} <a id="rmap:223" class="idref" href="#rmap:223"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:223"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:208"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:207"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:204"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:208"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:224" class="idref" href="#r:224"><span class="id" title="binder"><span id="r:225" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:226" class="idref" href="#w:226"><span class="id" title="binder"><span id="w:227" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:223"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:224"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:226"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:226"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:228" class="idref" href="#a:228"><span class="id" title="binder"><span id="a:229" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:230" class="idref" href="#w:230"><span class="id" title="binder"><span id="w:231" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:205"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:228"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:230"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:232" class="idref" href="#a:232"><span class="id" title="binder"><span id="a:233" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:234" class="idref" href="#w:234"><span class="id" title="binder"><span id="w:235" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:206"><span class="id" title="variable">AdvData</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:234"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:236" class="idref" href="#a:236"><span class="id" title="binder"><span id="a:237" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:238" class="idref" href="#w:238"><span class="id" title="binder"><span id="w:239" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:217"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:236"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:238"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:211"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:209"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:213"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':212"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':210"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:207"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':210"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data"><span class="id" title="module">with_adv_and_data</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv" class="idref" href="#with_adv"><span class="id" title="module">with_adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv.is_initial_registers" class="idref" href="#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:240" class="idref" href="#P:240"><span class="id" title="binder">P</span></a> <a id="Adv:241" class="idref" href="#Adv:241"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:242" class="idref" href="#reg:242"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:243" class="idref" href="#r_adv:243"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:242"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:240"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:240"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:240"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:242"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:243"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:241"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:241"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:241"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:243"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:244" class="idref" href="#r:244"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:244"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:243"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:245" class="idref" href="#w:245"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:242"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:244"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:245"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:245"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv.initial_registers_full_map" class="idref" href="#with_adv.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:246" class="idref" href="#P:246"><span class="id" title="binder">P</span></a> <a id="Adv:247" class="idref" href="#Adv:247"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:248" class="idref" href="#reg:248"><span class="id" title="binder">reg</span></a> <a id="r_adv:249" class="idref" href="#r_adv:249"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:247"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:248"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:249"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:250" class="idref" href="#r:250"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:248"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:250"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv.is_initial_memory" class="idref" href="#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:251" class="idref" href="#P:251"><span class="id" title="binder">P</span></a> <a id="Adv:252" class="idref" href="#Adv:252"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:253" class="idref" href="#m:253"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:251"><span class="id" title="variable">P</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:253"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:252"><span class="id" title="variable">Adv</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:253"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:251"><span class="id" title="variable">P</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:252"><span class="id" title="variable">Adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_adv.Adequacy" class="idref" href="#with_adv.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="502932cb5c683f7d8457df62e646fd3a" class="idref" href="#502932cb5c683f7d8457df62e646fd3a"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:255" class="idref" href="#inv_preg:255"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:256" class="idref" href="#mem_preg:256"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:257" class="idref" href="#reg_preg:257"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:258" class="idref" href="#seal_store_preg:258"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:259" class="idref" href="#na_invg:259"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:260" class="idref" href="#MP:260"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:261" class="idref" href="#P:261"><span class="id" title="binder">P</span></a> <a id="Adv:262" class="idref" href="#Adv:262"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:263" class="idref" href="#I:263"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:264" class="idref" href="#r_adv:264"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv.invN" class="idref" href="#with_adv.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv.template_adequacy'" class="idref" href="#with_adv.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:265" class="idref" href="#m:265"><span class="id" title="binder">m</span></a> <a id="m':266" class="idref" href="#m':266"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:267" class="idref" href="#reg:267"><span class="id" title="binder">reg</span></a> <a id="reg':268" class="idref" href="#reg':268"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:269" class="idref" href="#es:269"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:265"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:267"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:265"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:272" class="idref" href="#prog_map:272"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:271" class="idref" href="#pat:271"><span class="id" title="binder">(</span></a><a id="a:270" class="idref" href="#a:270"><span class="id" title="binder"><span id="pat:271" class="id">a</span></span></a><a id="pat:271" class="idref" href="#pat:271"><span class="id" title="binder">,</span></a> <a id="pat:271" class="idref" href="#pat:271"><span class="id" title="binder">_</span></a><a id="pat:271" class="idref" href="#pat:271"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:270"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:273" class="idref" href="#H:273"><span class="id" title="binder">memG</span></a> <a id="H:273" class="idref" href="#H:273"><span class="id" title="binder">Σ</span></a>, <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">regG</span></a> <a id="H0:274" class="idref" href="#H0:274"><span class="id" title="binder">Σ</span></a>, <a id="H1:275" class="idref" href="#H1:275"><span class="id" title="binder">sealStoreG</span></a> <a id="H1:275" class="idref" href="#H1:275"><span class="id" title="binder">Σ</span></a>, <a id="NA:276" class="idref" href="#NA:276"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>} <a id="rmap:277" class="idref" href="#rmap:277"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:277"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:276"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:278" class="idref" href="#r:278"><span class="id" title="binder"><span id="r:279" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:280" class="idref" href="#w:280"><span class="id" title="binder"><span id="w:281" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:277"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:280"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:280"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:282" class="idref" href="#a:282"><span class="id" title="binder"><span id="a:283" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:284" class="idref" href="#w:284"><span class="id" title="binder"><span id="w:285" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:282"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:284"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:286" class="idref" href="#a:286"><span class="id" title="binder"><span id="a:287" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:288" class="idref" href="#w:288"><span class="id" title="binder"><span id="w:289" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:272"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:286"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:288"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:267"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:265"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:269"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':268"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':266"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':266"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="definition">wp_invariance</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <span class="id" title="constructor">NotStuck</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:290" class="idref" href="#c:290"><span class="id" title="binder"><span id="c:291" class="id">c</span></span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:290"><span class="id" title="variable">c</span></a><span class="id" title="notation">.2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="cap_machine.seal_store.html#seal_store_init"><span class="id" title="axiom">seal_store_init</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">seal_storeg</span>) "Hseal_store".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<span class="id" title="lemma">na_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">seal_storeg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">Hdisj</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_subseteq</span> <span class="id" title="notation">with</span> "Hmem"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprogadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">assumption</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:293" class="idref" href="#pat:293"><span class="id" title="binder"><span id="pat:295" class="id"><span id="pat:297" class="id">(</span></span></span></a><a id="a:292" class="idref" href="#a:292"><span class="id" title="binder"><span id="pat:293" class="id"><span id="a:294" class="id"><span id="pat:295" class="id"><span id="a:296" class="id"><span id="pat:297" class="id">a</span></span></span></span></span></span></a><a id="pat:293" class="idref" href="#pat:293"><span class="id" title="binder"><span id="pat:295" class="id"><span id="pat:297" class="id">,</span></span></span></a> <a id="pat:293" class="idref" href="#pat:293"><span class="id" title="binder"><span id="pat:295" class="id"><span id="pat:297" class="id">_</span></span></span></a><a id="pat:293" class="idref" href="#pat:293"><span class="id" title="binder"><span id="pat:295" class="id"><span id="pat:297" class="id">)</span></span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:292"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <span class="id" title="notation">∪</span> <span class="id" title="var">prog_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_filter_union_complement</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog_inv Hprog]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_filter_complement</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">with</span> "[Hprog_inv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region_dom"><span class="id" title="axiom">prog_region_dom</span></a>//. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_filter_subseteq</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:298" class="idref" href="#r:298"><span class="id" title="binder"><span id="r:299" class="id"><span id="r:302" class="id"><span id="r:303" class="id">r</span></span></span></span></a><span class="id" title="notation">↦</span><a id="w:300" class="idref" href="#w:300"><span class="id" title="binder"><span id="w:301" class="id"><span id="w:304" class="id"><span id="w:305" class="id">w</span></span></span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">rmap</span><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:298"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:300"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:300"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_mono</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:306" class="idref" href="#r:306"><span class="id" title="binder"><span id="r:307" class="id">r</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<span class="id" title="var">reg</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:306"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="var">Hspec</span> <span class="id" title="var">rmap</span> <span class="id" title="notation">with</span> "[$HPC $Hr0 $Hreg $Hprog $Hadv $Hinv $Hna]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">dom_delete_L</span> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="bf539eddcb1cb802410af5309cc464fa" class="idref" href="#bf539eddcb1cb802410af5309cc464fa"><span class="id" title="binder"><span id="d82ffc8ecf1f5d25e43216662d9febee" class="id">σ</span></span></a> <a id="68c55c500803c33e4d8946104bdc771c" class="idref" href="#68c55c500803c33e4d8946104bdc771c"><span class="id" title="binder"><span id="aa91093dfba665f54102a5f482e2fa4e" class="id">κs</span></span></a> <span class="id" title="var">_</span> =&gt; (<span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#bf539eddcb1cb802410af5309cc464fa"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#bf539eddcb1cb802410af5309cc464fa"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <span class="id" title="notation">with</span> "Hmem' Hmi"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv.template_adequacy" class="idref" href="#with_adv.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:312" class="idref" href="#H:312"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:313" class="idref" href="#P:313"><span class="id" title="binder">P</span></a> <a id="Adv:314" class="idref" href="#Adv:314"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:315" class="idref" href="#I:315"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:316" class="idref" href="#r_adv:316"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:317" class="idref" href="#m:317"><span class="id" title="binder">m</span></a> <a id="m':318" class="idref" href="#m':318"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:319" class="idref" href="#reg:319"><span class="id" title="binder">reg</span></a> <a id="reg':320" class="idref" href="#reg':320"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:321" class="idref" href="#es:321"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:317"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:319"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:316"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:315"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:317"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:315"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:324" class="idref" href="#prog_map:324"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:323" class="idref" href="#pat:323"><span class="id" title="binder">(</span></a><a id="a:322" class="idref" href="#a:322"><span class="id" title="binder"><span id="pat:323" class="id">a</span></span></a><a id="pat:323" class="idref" href="#pat:323"><span class="id" title="binder">,</span></a> <a id="pat:323" class="idref" href="#pat:323"><span class="id" title="binder">_</span></a><a id="pat:323" class="idref" href="#pat:323"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:322"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:315"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:326" class="idref" href="#H0:326"><span class="id" title="binder">memG</span></a> <a id="254f4fe056e9633ec7276ff785e9e7df" class="idref" href="#254f4fe056e9633ec7276ff785e9e7df"><span class="id" title="binder"><span id="H0:326" class="id">Σ</span></span></a>, <a id="H1:327" class="idref" href="#H1:327"><span class="id" title="binder">regG</span></a> <a id="H1:327" class="idref" href="#H1:327"><span class="id" title="binder">Σ</span></a>, <a id="H2:328" class="idref" href="#H2:328"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:328" class="idref" href="#H2:328"><span class="id" title="binder">Σ</span></a>, <a id="H3:329" class="idref" href="#H3:329"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:329" class="idref" href="#H3:329"><span class="id" title="binder">Σ</span></a>} <a id="rmap:330" class="idref" href="#rmap:330"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:330"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:316"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:315"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:313"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:316"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:331" class="idref" href="#r:331"><span class="id" title="binder"><span id="r:332" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:333" class="idref" href="#w:333"><span class="id" title="binder"><span id="w:334" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:330"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:331"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:333"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:333"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:335" class="idref" href="#a:335"><span class="id" title="binder"><span id="a:336" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:337" class="idref" href="#w:337"><span class="id" title="binder"><span id="w:338" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:314"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:335"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:337"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:339" class="idref" href="#a:339"><span class="id" title="binder"><span id="a:340" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:341" class="idref" href="#w:341"><span class="id" title="binder"><span id="w:342" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:324"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:339"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:341"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:319"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:317"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:321"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':320"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':318"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:315"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':318"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv"><span class="id" title="module">with_adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_ints" class="idref" href="#with_adv_ints"><span class="id" title="module">with_adv_ints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_ints.is_initial_registers" class="idref" href="#with_adv_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:343" class="idref" href="#P:343"><span class="id" title="binder">P</span></a> <a id="Adv:344" class="idref" href="#Adv:344"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:345" class="idref" href="#reg:345"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:346" class="idref" href="#r_adv:346"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:345"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:343"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:343"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:343"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:345"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:346"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:344"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:344"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:344"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:346"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:347" class="idref" href="#r:347"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:347"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:346"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:348" class="idref" href="#w:348"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:345"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:347"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:348"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:348"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_ints.initial_registers_full_map" class="idref" href="#with_adv_ints.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:349" class="idref" href="#P:349"><span class="id" title="binder">P</span></a> <a id="Adv:350" class="idref" href="#Adv:350"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:351" class="idref" href="#reg:351"><span class="id" title="binder">reg</span></a> <a id="r_adv:352" class="idref" href="#r_adv:352"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:349"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:350"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:351"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:352"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:353" class="idref" href="#r:353"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:351"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:353"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_ints.is_initial_memory" class="idref" href="#with_adv_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:354" class="idref" href="#P:354"><span class="id" title="binder">P</span></a> <a id="Adv:355" class="idref" href="#Adv:355"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:356" class="idref" href="#m:356"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:354"><span class="id" title="variable">P</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:356"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:355"><span class="id" title="variable">Adv</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:356"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:354"><span class="id" title="variable">P</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:355"><span class="id" title="variable">Adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_ints.Adequacy" class="idref" href="#with_adv_ints.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="4e4d13bd2d43126de138a3e7bb4e64b3" class="idref" href="#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:358" class="idref" href="#inv_preg:358"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:359" class="idref" href="#mem_preg:359"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:360" class="idref" href="#reg_preg:360"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:361" class="idref" href="#seal_store_preg:361"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:362" class="idref" href="#na_invg:362"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:363" class="idref" href="#MP:363"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:364" class="idref" href="#P:364"><span class="id" title="binder">P</span></a> <a id="Adv:365" class="idref" href="#Adv:365"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:366" class="idref" href="#I:366"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:367" class="idref" href="#r_adv:367"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_ints.invN" class="idref" href="#with_adv_ints.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_ints.template_adequacy'" class="idref" href="#with_adv_ints.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:368" class="idref" href="#m:368"><span class="id" title="binder">m</span></a> <a id="m':369" class="idref" href="#m':369"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:370" class="idref" href="#reg:370"><span class="id" title="binder">reg</span></a> <a id="reg':371" class="idref" href="#reg':371"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:372" class="idref" href="#es:372"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:368"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:370"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:373" class="idref" href="#w:373"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:373"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:368"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:376" class="idref" href="#prog_map:376"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:375" class="idref" href="#pat:375"><span class="id" title="binder">(</span></a><a id="a:374" class="idref" href="#a:374"><span class="id" title="binder"><span id="pat:375" class="id">a</span></span></a><a id="pat:375" class="idref" href="#pat:375"><span class="id" title="binder">,</span></a> <a id="pat:375" class="idref" href="#pat:375"><span class="id" title="binder">_</span></a><a id="pat:375" class="idref" href="#pat:375"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:374"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:377" class="idref" href="#H:377"><span class="id" title="binder">memG</span></a> <a id="H:377" class="idref" href="#H:377"><span class="id" title="binder">Σ</span></a>, <a id="H0:378" class="idref" href="#H0:378"><span class="id" title="binder">regG</span></a> <a id="H0:378" class="idref" href="#H0:378"><span class="id" title="binder">Σ</span></a>, <a id="H1:379" class="idref" href="#H1:379"><span class="id" title="binder">sealStoreG</span></a> <a id="H1:379" class="idref" href="#H1:379"><span class="id" title="binder">Σ</span></a>, <a id="NA:380" class="idref" href="#NA:380"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c76697f6253b61060e146c3e808e0fcf"><span class="id" title="variable">Σ</span></a>} <a id="rmap:381" class="idref" href="#rmap:381"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:381"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:380"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:382" class="idref" href="#r:382"><span class="id" title="binder"><span id="r:383" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:384" class="idref" href="#w:384"><span class="id" title="binder"><span id="w:385" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:381"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:382"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:384"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:384"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:386" class="idref" href="#a:386"><span class="id" title="binder"><span id="a:387" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:388" class="idref" href="#w:388"><span class="id" title="binder"><span id="w:389" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:386"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:388"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:390" class="idref" href="#a:390"><span class="id" title="binder"><span id="a:391" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:392" class="idref" href="#w:392"><span class="id" title="binder"><span id="w:393" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:376"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:390"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:392"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:370"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:368"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:372"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':371"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':369"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':369"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data.template_adequacy'"><span class="id" title="axiom">with_adv_and_data.template_adequacy'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">AdvData</span>:=<a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog"><span class="id" title="definition">empty_prog</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>));[<span class="id" title="tactic">eauto</span>..| |<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">Hdisj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog_region"><span class="id" title="axiom">empty_prog_region</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_empty_subseteq</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">Hadv</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">iIntros</span> "(?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">Hspec</span>;<span class="id" title="tactic">eauto</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_ints.template_adequacy" class="idref" href="#with_adv_ints.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:394" class="idref" href="#H:394"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:395" class="idref" href="#P:395"><span class="id" title="binder">P</span></a> <a id="Adv:396" class="idref" href="#Adv:396"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:397" class="idref" href="#I:397"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:398" class="idref" href="#r_adv:398"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:399" class="idref" href="#m:399"><span class="id" title="binder">m</span></a> <a id="m':400" class="idref" href="#m':400"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:401" class="idref" href="#reg:401"><span class="id" title="binder">reg</span></a> <a id="reg':402" class="idref" href="#reg':402"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:403" class="idref" href="#es:403"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:399"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:401"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:398"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:404" class="idref" href="#w:404"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:404"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:397"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:399"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:397"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:407" class="idref" href="#prog_map:407"><span class="id" title="binder">prog_map</span></a> := <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:406" class="idref" href="#pat:406"><span class="id" title="binder">(</span></a><a id="a:405" class="idref" href="#a:405"><span class="id" title="binder"><span id="pat:406" class="id">a</span></span></a><a id="pat:406" class="idref" href="#pat:406"><span class="id" title="binder">,</span></a> <a id="pat:406" class="idref" href="#pat:406"><span class="id" title="binder">_</span></a><a id="pat:406" class="idref" href="#pat:406"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:405"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:397"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:409" class="idref" href="#H0:409"><span class="id" title="binder">memG</span></a> <a id="883366d2886dc1e3b90dedb8e8e5156e" class="idref" href="#883366d2886dc1e3b90dedb8e8e5156e"><span class="id" title="binder"><span id="H0:409" class="id">Σ</span></span></a>, <a id="H1:410" class="idref" href="#H1:410"><span class="id" title="binder">regG</span></a> <a id="H1:410" class="idref" href="#H1:410"><span class="id" title="binder">Σ</span></a>, <a id="H2:411" class="idref" href="#H2:411"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:411" class="idref" href="#H2:411"><span class="id" title="binder">Σ</span></a>, <a id="H3:412" class="idref" href="#H3:412"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:412" class="idref" href="#H3:412"><span class="id" title="binder">Σ</span></a>} <a id="rmap:413" class="idref" href="#rmap:413"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:413"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:398"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:397"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:395"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:398"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:414" class="idref" href="#r:414"><span class="id" title="binder"><span id="r:415" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:416" class="idref" href="#w:416"><span class="id" title="binder"><span id="w:417" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:413"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:414"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:416"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:416"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:418" class="idref" href="#a:418"><span class="id" title="binder"><span id="a:419" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:420" class="idref" href="#w:420"><span class="id" title="binder"><span id="w:421" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:396"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:418"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:420"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:422" class="idref" href="#a:422"><span class="id" title="binder"><span id="a:423" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:424" class="idref" href="#w:424"><span class="id" title="binder"><span id="w:425" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:407"><span class="id" title="variable">prog_map</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:422"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:424"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:401"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:399"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:403"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':402"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':400"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:397"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':400"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_ints"><span class="id" title="module">with_adv_ints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="lib_entry" class="idref" href="#lib_entry"><span class="id" title="record">lib_entry</span></a> := <span class="id" title="var">MkLibEntry</span> {<br/>
&nbsp;&nbsp;<a id="lib_start" class="idref" href="#lib_start"><span class="id" title="projection">lib_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="lib_end" class="idref" href="#lib_end"><span class="id" title="projection">lib_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="lib_entrypoint" class="idref" href="#lib_entrypoint"><span class="id" title="projection">lib_entrypoint</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="lib_full_content" class="idref" href="#lib_full_content"><span class="id" title="projection">lib_full_content</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="entry_points" class="idref" href="#entry_points"><span class="id" title="definition">entry_points</span></a> (<a id="l:431" class="idref" href="#l:431"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entry"><span class="id" title="record">lib_entry</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="entry:432" class="idref" href="#entry:432"><span class="id" title="binder">entry</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_start"><span class="id" title="projection">lib_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:432"><span class="id" title="variable">entry</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_end"><span class="id" title="projection">lib_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:432"><span class="id" title="variable">entry</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entrypoint"><span class="id" title="projection">lib_entrypoint</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:432"><span class="id" title="variable">entry</span></a>)) <a class="idref" href="cap_machine.examples.template_adequacy.html#l:431"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="lib" class="idref" href="#lib"><span class="id" title="record">lib</span></a> := <span class="id" title="var">MkLib</span> {<br/>
&nbsp;&nbsp;<a id="pub_libs" class="idref" href="#pub_libs"><span class="id" title="projection">pub_libs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entry"><span class="id" title="record">lib_entry</span></a>;<br/>
&nbsp;&nbsp;<a id="priv_libs" class="idref" href="#priv_libs"><span class="id" title="projection">priv_libs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entry"><span class="id" title="record">lib_entry</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="tbl" class="idref" href="#tbl"><span class="id" title="record">tbl</span></a> {<a id="p:436" class="idref" href="#p:436"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>} {<a id="l:437" class="idref" href="#l:437"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entry"><span class="id" title="record">lib_entry</span></a>} := <span class="id" title="var">MkTbl</span> {<br/>
&nbsp;&nbsp;<a id="prog_lower_bound" class="idref" href="#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="tbl_start" class="idref" href="#tbl_start"><span class="id" title="projection">tbl_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="tbl_end" class="idref" href="#tbl_end"><span class="id" title="projection">tbl_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="tbl_size" class="idref" href="#tbl_size"><span class="id" title="projection">tbl_size</span></a> : (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:440"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:437"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:441"><span class="id" title="method">tbl_end</span></a> ;<br/>
&nbsp;&nbsp;<a id="tbl_prog_link" class="idref" href="#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> : (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound:439"><span class="id" title="method">prog_lower_bound</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:436"><span class="id" title="variable">p</span></a>) ;<br/>
<br/>
&nbsp;&nbsp;<a id="tbl_disj" class="idref" href="#tbl_disj"><span class="id" title="projection">tbl_disj</span></a> : <a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:440"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:441"><span class="id" title="method">tbl_end</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#entry_points"><span class="id" title="definition">entry_points</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:437"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">##ₘ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound:439"><span class="id" title="method">prog_lower_bound</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:436"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:440"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:441"><span class="id" title="method">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:440"><span class="id" title="method">tbl_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:436"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tbl_region" class="idref" href="#tbl_region"><span class="id" title="definition">tbl_region</span></a> {<a id="p:445" class="idref" href="#p:445"><span class="id" title="binder">p</span></a> <a id="l:446" class="idref" href="#l:446"><span class="id" title="binder">l</span></a>} (<a id="t:447" class="idref" href="#t:447"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:445"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:446"><span class="id" title="variable">l</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:447"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:447"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#entry_points"><span class="id" title="definition">entry_points</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:446"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="prog_lower_bound_region" class="idref" href="#prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> {<a id="l:448" class="idref" href="#l:448"><span class="id" title="binder">l</span></a>} (<a id="p:449" class="idref" href="#p:449"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:450" class="idref" href="#t:450"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:449"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:448"><span class="id" title="variable">l</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:450"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:449"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:450"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:450"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:450"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:449"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="prog_tbl_region" class="idref" href="#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> {<a id="l:451" class="idref" href="#l:451"><span class="id" title="binder">l</span></a>} (<a id="p:452" class="idref" href="#p:452"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:453" class="idref" href="#t:453"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:452"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:451"><span class="id" title="variable">l</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:452"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:453"><span class="id" title="variable">t</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:453"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="prog_tbl_data_region" class="idref" href="#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> {<a id="l:454" class="idref" href="#l:454"><span class="id" title="binder">l</span></a>} (<a id="p:455" class="idref" href="#p:455"><span class="id" title="binder">p</span></a> <a id="data:456" class="idref" href="#data:456"><span class="id" title="binder">data</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:457" class="idref" href="#t:457"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:455"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:454"><span class="id" title="variable">l</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:455"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:457"><span class="id" title="variable">t</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:457"><span class="id" title="variable">t</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#data:456"><span class="id" title="variable">data</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prog_lower_bound_region_cons" class="idref" href="#prog_lower_bound_region_cons"><span class="id" title="lemma">prog_lower_bound_region_cons</span></a> {<a id="l:458" class="idref" href="#l:458"><span class="id" title="binder">l</span></a>} (<a id="p:459" class="idref" href="#p:459"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:460" class="idref" href="#t:460"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:459"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:458"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:459"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">&lt;[(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a><span class="id" title="notation">):=</span><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a>)<span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">prog_region</span> <span class="id" title="notation">p</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:459"><span class="id" title="variable">p</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:460"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> /<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_singleton"><span class="id" title="lemma">finz_seq_between_singleton</span></a>// <span class="id" title="var">e</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_empty"><span class="id" title="lemma">finz_seq_between_empty</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_size"><span class="id" title="projection">prog_size</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <span class="id" title="var">p</span> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <span class="id" title="var">p</span>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="lemma">finz_seq_between_cons</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <span class="id" title="var">t</span>));[|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.addr_reg.html#addr_incr_eq"><span class="id" title="abbreviation">addr_incr_eq</span></a> <span class="id" title="var">Ht</span>) /=. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.proofmode.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#not_elem_of_finz_seq_between"><span class="id" title="lemma">not_elem_of_finz_seq_between</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_length"><span class="id" title="lemma">finz_seq_between_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="lib_region" class="idref" href="#lib_region"><span class="id" title="definition">lib_region</span></a> (<a id="l:461" class="idref" href="#l:461"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_entry"><span class="id" title="record">lib_entry</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:461"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="notation">∅</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_full_content"><span class="id" title="projection">lib_full_content</span></a> <span class="id" title="var">e</span><span class="id" title="notation">)</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region:462"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:461"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lib_region_app" class="idref" href="#lib_region_app"><span class="id" title="lemma">lib_region_app</span></a> <a id="l1:464" class="idref" href="#l1:464"><span class="id" title="binder">l1</span></a> <a id="l2:465" class="idref" href="#l2:465"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#l1:464"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l2:465"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l1:464"><span class="id" title="variable">l1</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l2:465"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="instance">map_empty_union</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IHl1</span> <span class="id" title="instance">map_union_assoc</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tbl_pub" class="idref" href="#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> (<a id="p:466" class="idref" href="#p:466"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="l:467" class="idref" href="#l:467"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) := @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:466"><span class="id" title="variable">p</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:467"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="tbl_priv" class="idref" href="#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> (<a id="p:468" class="idref" href="#p:468"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="l:469" class="idref" href="#l:469"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) := @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:468"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:469"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:469"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_and_data_and_link" class="idref" href="#with_adv_and_data_and_link"><span class="id" title="module">with_adv_and_data_and_link</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data_and_link.is_initial_registers" class="idref" href="#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:470" class="idref" href="#P:470"><span class="id" title="binder">P</span></a> <a id="Adv:471" class="idref" href="#Adv:471"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:472" class="idref" href="#Lib:472"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:473" class="idref" href="#P_tbl:473"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:470"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:472"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:474" class="idref" href="#Adv_tbl:474"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:471"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:472"><span class="id" title="variable">Lib</span></a>) (<a id="reg:475" class="idref" href="#reg:475"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:476" class="idref" href="#r_adv:476"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:475"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:473"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:470"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:470"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:475"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:476"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:474"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:471"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:471"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:476"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:477" class="idref" href="#r:477"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:477"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:476"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:478" class="idref" href="#w:478"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:475"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:477"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:478"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:478"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_data_and_link.initial_registers_full_map" class="idref" href="#with_adv_and_data_and_link.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:479" class="idref" href="#P:479"><span class="id" title="binder">P</span></a> <a id="Adv:480" class="idref" href="#Adv:480"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:481" class="idref" href="#Lib:481"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:482" class="idref" href="#P_tbl:482"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:479"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:481"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:483" class="idref" href="#Adv_tbl:483"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:480"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:481"><span class="id" title="variable">Lib</span></a>) <a id="reg:484" class="idref" href="#reg:484"><span class="id" title="binder">reg</span></a> <a id="r_adv:485" class="idref" href="#r_adv:485"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:479"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:480"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:481"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:482"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:483"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:484"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:485"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:486" class="idref" href="#r:486"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:484"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:486"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data_and_link.is_initial_memory" class="idref" href="#with_adv_and_data_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:487" class="idref" href="#P:487"><span class="id" title="binder">P</span></a> <a id="Adv:488" class="idref" href="#Adv:488"><span class="id" title="binder">Adv</span></a> <a id="AdvData:489" class="idref" href="#AdvData:489"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:490" class="idref" href="#Lib:490"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:491" class="idref" href="#P_tbl:491"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:487"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:492" class="idref" href="#Adv_tbl:492"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:488"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a>) (<a id="m:493" class="idref" href="#m:493"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:487"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:491"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:493"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:488"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:489"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:492"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:493"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:493"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:487"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:491"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:488"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:489"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:492"><span class="id" title="variable">Adv_tbl</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:487"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:491"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:488"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:489"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:492"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a>) <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:490"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:489"><span class="id" title="variable">AdvData</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:488"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:492"><span class="id" title="variable">Adv_tbl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data_and_link.initial_memory_domain" class="idref" href="#with_adv_and_data_and_link.initial_memory_domain"><span class="id" title="definition">initial_memory_domain</span></a> (<a id="P:494" class="idref" href="#P:494"><span class="id" title="binder">P</span></a> <a id="Adv:495" class="idref" href="#Adv:495"><span class="id" title="binder">Adv</span></a> <a id="AdvData:496" class="idref" href="#AdvData:496"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:497" class="idref" href="#Lib:497"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:498" class="idref" href="#P_tbl:498"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:494"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:497"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:499" class="idref" href="#Adv_tbl:499"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:495"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:497"><span class="id" title="variable">Lib</span></a>) : <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:494"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:498"><span class="id" title="variable">P_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:495"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:496"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:499"><span class="id" title="variable">Adv_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:497"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:497"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;NOTE:&nbsp;solely&nbsp;this&nbsp;version&nbsp;of&nbsp;adequacy&nbsp;has&nbsp;been&nbsp;updated&nbsp;to&nbsp;work&nbsp;with&nbsp;seals,&nbsp;by&nbsp;having&nbsp;allocated&nbsp;seals&nbsp;in&nbsp;the&nbsp;precondition&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_and_data_and_link.Adequacy" class="idref" href="#with_adv_and_data_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="092c095af70b6ae0ed4754629624e803" class="idref" href="#092c095af70b6ae0ed4754629624e803"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:501" class="idref" href="#inv_preg:501"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:502" class="idref" href="#mem_preg:502"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:503" class="idref" href="#reg_preg:503"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:504" class="idref" href="#seal_store_preg:504"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:505" class="idref" href="#na_invg:505"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:506" class="idref" href="#MP:506"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:507" class="idref" href="#P:507"><span class="id" title="binder">P</span></a> <a id="Adv:508" class="idref" href="#Adv:508"><span class="id" title="binder">Adv</span></a> <a id="AdvData:509" class="idref" href="#AdvData:509"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Lib:510" class="idref" href="#Lib:510"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P_tbl:511" class="idref" href="#P_tbl:511"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Adv_tbl:512" class="idref" href="#Adv_tbl:512"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:513" class="idref" href="#I:513"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:514" class="idref" href="#r_adv:514"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_and_data_and_link.invN" class="idref" href="#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_data_and_link.template_adequacy'" class="idref" href="#with_adv_and_data_and_link.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> `{<a id="H:516" class="idref" href="#H:516"><span class="id" title="binder">subG</span></a> <a id="59196cad06ae9ea9db262fa5e2beed3d" class="idref" href="#59196cad06ae9ea9db262fa5e2beed3d"><span class="id" title="binder"><span id="H:516" class="id">Σ'</span></span></a> <a id="H:516" class="idref" href="#H:516"><span class="id" title="binder">Σ</span></a>} (<a id="m:517" class="idref" href="#m:517"><span class="id" title="binder">m</span></a> <a id="m':518" class="idref" href="#m':518"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:519" class="idref" href="#reg:519"><span class="id" title="binder">reg</span></a> <a id="reg':520" class="idref" href="#reg':520"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:521" class="idref" href="#o_b:521"><span class="id" title="binder">o_b</span></a> <a id="o_e:522" class="idref" href="#o_e:522"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:523" class="idref" href="#es:523"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:517"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:519"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:524" class="idref" href="#w:524"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:524"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:517"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:521"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:522"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:528" class="idref" href="#filtered_map:528"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:525" class="idref" href="#m:525"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:527" class="idref" href="#pat:527"><span class="id" title="binder">(</span></a><a id="a:526" class="idref" href="#a:526"><span class="id" title="binder"><span id="pat:527" class="id">a</span></span></a><a id="pat:527" class="idref" href="#pat:527"><span class="id" title="binder">,</span></a> <a id="pat:527" class="idref" href="#pat:527"><span class="id" title="binder">_</span></a><a id="pat:527" class="idref" href="#pat:527"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:526"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:525"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:529" class="idref" href="#H0:529"><span class="id" title="binder">memG</span></a> <a id="H0:529" class="idref" href="#H0:529"><span class="id" title="binder">Σ</span></a>, <a id="H1:530" class="idref" href="#H1:530"><span class="id" title="binder">regG</span></a> <a id="H1:530" class="idref" href="#H1:530"><span class="id" title="binder">Σ</span></a>, <a id="H2:531" class="idref" href="#H2:531"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:531" class="idref" href="#H2:531"><span class="id" title="binder">Σ</span></a>, <a id="NA:532" class="idref" href="#NA:532"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a>, <a id="H3:533" class="idref" href="#H3:533"><span class="id" title="binder">subG</span></a> <a id="H3:533" class="idref" href="#H3:533"><span class="id" title="binder">Σ'</span></a> <a id="H3:533" class="idref" href="#H3:533"><span class="id" title="binder">Σ</span></a>} <a id="rmap:534" class="idref" href="#rmap:534"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:534"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:532"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:535" class="idref" href="#r:535"><span class="id" title="binder"><span id="r:536" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:537" class="idref" href="#w:537"><span class="id" title="binder"><span id="w:538" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:534"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:535"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:537"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:537"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:539" class="idref" href="#a:539"><span class="id" title="binder"><span id="a:540" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:541" class="idref" href="#w:541"><span class="id" title="binder"><span id="w:542" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:539"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:541"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:543" class="idref" href="#a:543"><span class="id" title="binder"><span id="a:544" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:545" class="idref" href="#w:545"><span class="id" title="binder"><span id="w:546" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:543"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:545"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:547" class="idref" href="#a:547"><span class="id" title="binder"><span id="a:548" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:549" class="idref" href="#w:549"><span class="id" title="binder"><span id="w:550" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:547"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:549"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:551" class="idref" href="#a:551"><span class="id" title="binder"><span id="a:552" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:553" class="idref" href="#w:553"><span class="id" title="binder"><span id="w:554" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:551"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:553"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:555" class="idref" href="#a:555"><span class="id" title="binder"><span id="a:556" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:557" class="idref" href="#w:557"><span class="id" title="binder"><span id="w:558" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:555"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:557"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:559" class="idref" href="#o:559"><span class="id" title="binder"><span id="o:560" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:521"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:522"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:559"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:561" class="idref" href="#a:561"><span class="id" title="binder"><span id="a:562" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:563" class="idref" href="#w:563"><span class="id" title="binder"><span id="w:564" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:561"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:563"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:565" class="idref" href="#a:565"><span class="id" title="binder"><span id="a:566" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:567" class="idref" href="#w:567"><span class="id" title="binder"><span id="w:568" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:528"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:565"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:567"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:519"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:517"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:523"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':520"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':518"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':518"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadvdata</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">Hobe</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="definition">wp_invariance</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <span class="id" title="constructor">NotStuck</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:569" class="idref" href="#c:569"><span class="id" title="binder"><span id="c:570" class="id">c</span></span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:569"><span class="id" title="variable">c</span></a><span class="id" title="notation">.2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="cap_machine.seal_store.html#seal_store_init"><span class="id" title="axiom">seal_store_init</span></a> (<span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">o_b</span> <span class="id" title="var">o_e</span>))) <span class="id" title="keyword">as</span> (<span class="id" title="var">seal_storeg</span>) "Hseal_store".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepS_list_to_set</span> <span class="id" title="notation">with</span> "Hseal_store"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hseal_store"; [<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<span class="id" title="lemma">na_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#dfef14fe222a600ff89aa48128c8536c"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">seal_storeg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">HL</span> &amp; (<span class="id" title="var">Hdisj1</span> &amp; <span class="id" title="var">Hdisj2</span> &amp; <span class="id" title="var">Hdisj3</span> &amp; <span class="id" title="var">Hdisj4</span> &amp; <span class="id" title="var">Hdisj5</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_subseteq</span> <span class="id" title="notation">with</span> "Hmem"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">∪</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.AdvData"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">∪</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprogadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog Hlib]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hp Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hp"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hp Hp_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hadv Hadv_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hadv Hadv_data]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hlib"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlib_pub Hlib_priv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:572" class="idref" href="#pat:572"><span class="id" title="binder"><span id="pat:574" class="id"><span id="pat:576" class="id">(</span></span></span></a><a id="a:571" class="idref" href="#a:571"><span class="id" title="binder"><span id="pat:572" class="id"><span id="a:573" class="id"><span id="pat:574" class="id"><span id="a:575" class="id"><span id="pat:576" class="id">a</span></span></span></span></span></span></a><a id="pat:572" class="idref" href="#pat:572"><span class="id" title="binder"><span id="pat:574" class="id"><span id="pat:576" class="id">,</span></span></span></a> <a id="pat:572" class="idref" href="#pat:572"><span class="id" title="binder"><span id="pat:574" class="id"><span id="pat:576" class="id">_</span></span></span></a><a id="pat:572" class="idref" href="#pat:572"><span class="id" title="binder"><span id="pat:574" class="id"><span id="pat:576" class="id">)</span></span></span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:571"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_nin_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:578" class="idref" href="#pat:578"><span class="id" title="binder"><span id="pat:580" class="id"><span id="pat:582" class="id">(</span></span></span></a><a id="a:577" class="idref" href="#a:577"><span class="id" title="binder"><span id="pat:578" class="id"><span id="a:579" class="id"><span id="pat:580" class="id"><span id="a:581" class="id"><span id="pat:582" class="id">a</span></span></span></span></span></span></a><a id="pat:578" class="idref" href="#pat:578"><span class="id" title="binder"><span id="pat:580" class="id"><span id="pat:582" class="id">,</span></span></span></a> <a id="pat:578" class="idref" href="#pat:578"><span class="id" title="binder"><span id="pat:580" class="id"><span id="pat:582" class="id">_</span></span></span></a><a id="pat:578" class="idref" href="#pat:578"><span class="id" title="binder"><span id="pat:580" class="id"><span id="pat:582" class="id">)</span></span></span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:577"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <span class="id" title="notation">∪</span> <span class="id" title="var">prog_nin_inv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_filter_union_complement</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hlib_priv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlib_inv Hlib_priv]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_filter_complement</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">with</span> "[Hlib_inv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_filter_subseteq</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_union_subseteq_r</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:583" class="idref" href="#r:583"><span class="id" title="binder"><span id="r:584" class="id"><span id="r:587" class="id"><span id="r:588" class="id">r</span></span></span></span></a><span class="id" title="notation">↦</span><a id="w:585" class="idref" href="#w:585"><span class="id" title="binder"><span id="w:586" class="id"><span id="w:589" class="id"><span id="w:590" class="id">w</span></span></span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">rmap</span><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:583"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:585"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:585"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_mono</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:591" class="idref" href="#r:591"><span class="id" title="binder"><span id="r:592" class="id">r</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<span class="id" title="var">reg</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:591"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqP</span> <span class="id" title="var">HNoneP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAdv</span> <span class="id" title="var">HNoneAdv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP</span> <span class="id" title="var">HeqAdv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_insert</span> <span class="id" title="notation">with</span> "Hp"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlinkp Hp]";[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_insert</span> <span class="id" title="notation">with</span> "Hadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlinkadv Hadv]";[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="var">Hspec</span> <span class="id" title="var">_</span> <span class="id" title="var">rmap</span> <span class="id" title="notation">with</span> "[$HPC $Hr0 $Hreg $Hseal_store $Hlinkp $Hp $Hlinkadv $Hadv $Hp_tbl $Hadv_tbl $Hlib_pub $Hlib_priv $Hinv $Hna $Hadv_data]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">dom_delete_L</span> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="06209bc399450a104ede8eb5d045b8af" class="idref" href="#06209bc399450a104ede8eb5d045b8af"><span class="id" title="binder"><span id="2a90979de69c0a93f62e52e2e34a2c70" class="id">σ</span></span></a> <a id="ccc98f3273978ed8cbb1b8e7b1e7504a" class="idref" href="#ccc98f3273978ed8cbb1b8e7b1e7504a"><span class="id" title="binder"><span id="95276f71e2a6742f21f949873a5d97a6" class="id">κs</span></span></a> <span class="id" title="var">_</span> =&gt; (<span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#06209bc399450a104ede8eb5d045b8af"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#06209bc399450a104ede8eb5d045b8af"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <span class="id" title="notation">with</span> "Hmem' Hmi"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_data_and_link.template_adequacy" class="idref" href="#with_adv_and_data_and_link.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:597" class="idref" href="#H:597"><span class="id" title="binder">MachineParameters</span></a>} (<a id="67de764bffed55974836243df065a8d3" class="idref" href="#67de764bffed55974836243df065a8d3"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:599" class="idref" href="#P:599"><span class="id" title="binder">P</span></a> <a id="Adv:600" class="idref" href="#Adv:600"><span class="id" title="binder">Adv</span></a> <a id="AdvData:601" class="idref" href="#AdvData:601"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:602" class="idref" href="#Lib:602"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:603" class="idref" href="#P_tbl:603"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:604" class="idref" href="#Adv_tbl:604"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a>) (<a id="I:605" class="idref" href="#I:605"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:606" class="idref" href="#r_adv:606"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:607" class="idref" href="#m:607"><span class="id" title="binder">m</span></a> <a id="m':608" class="idref" href="#m':608"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:609" class="idref" href="#reg:609"><span class="id" title="binder">reg</span></a> <a id="reg':610" class="idref" href="#reg':610"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:611" class="idref" href="#o_b:611"><span class="id" title="binder">o_b</span></a> <a id="o_e:612" class="idref" href="#o_e:612"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:613" class="idref" href="#es:613"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:601"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:607"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:609"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:606"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:614" class="idref" href="#w:614"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:614"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:601"><span class="id" title="variable">AdvData</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:601"><span class="id" title="variable">AdvData</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:605"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:607"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:605"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:611"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:612"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:618" class="idref" href="#filtered_map:618"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:615" class="idref" href="#m:615"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:617" class="idref" href="#pat:617"><span class="id" title="binder">(</span></a><a id="a:616" class="idref" href="#a:616"><span class="id" title="binder"><span id="pat:617" class="id">a</span></span></a><a id="pat:617" class="idref" href="#pat:617"><span class="id" title="binder">,</span></a> <a id="pat:617" class="idref" href="#pat:617"><span class="id" title="binder">_</span></a><a id="pat:617" class="idref" href="#pat:617"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:616"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:605"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:615"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:620" class="idref" href="#H0:620"><span class="id" title="binder">memG</span></a> <a id="8bd04fb4b8d7b0e4510e9ce46e252bb9" class="idref" href="#8bd04fb4b8d7b0e4510e9ce46e252bb9"><span class="id" title="binder"><span id="H0:620" class="id">Σ'</span></span></a>, <a id="H1:621" class="idref" href="#H1:621"><span class="id" title="binder">regG</span></a> <a id="H1:621" class="idref" href="#H1:621"><span class="id" title="binder">Σ'</span></a>, <a id="H2:622" class="idref" href="#H2:622"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:622" class="idref" href="#H2:622"><span class="id" title="binder">Σ'</span></a>, <a id="H3:623" class="idref" href="#H3:623"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:623" class="idref" href="#H3:623"><span class="id" title="binder">Σ'</span></a>, <a id="H4:624" class="idref" href="#H4:624"><span class="id" title="binder">subG</span></a> <a id="H4:624" class="idref" href="#H4:624"><span class="id" title="binder">Σ</span></a> <a id="H4:624" class="idref" href="#H4:624"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:625" class="idref" href="#rmap:625"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:625"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:606"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:605"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:606"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:626" class="idref" href="#r:626"><span class="id" title="binder"><span id="r:627" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:628" class="idref" href="#w:628"><span class="id" title="binder"><span id="w:629" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:625"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:626"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:628"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:628"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:630" class="idref" href="#a:630"><span class="id" title="binder"><span id="a:631" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:632" class="idref" href="#w:632"><span class="id" title="binder"><span id="w:633" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:603"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:630"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:632"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:634" class="idref" href="#a:634"><span class="id" title="binder"><span id="a:635" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:636" class="idref" href="#w:636"><span class="id" title="binder"><span id="w:637" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:599"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:634"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:636"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:638" class="idref" href="#a:638"><span class="id" title="binder"><span id="a:639" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:640" class="idref" href="#w:640"><span class="id" title="binder"><span id="w:641" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:604"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:638"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:640"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:642" class="idref" href="#a:642"><span class="id" title="binder"><span id="a:643" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:644" class="idref" href="#w:644"><span class="id" title="binder"><span id="w:645" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:600"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:642"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:644"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:646" class="idref" href="#a:646"><span class="id" title="binder"><span id="a:647" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:648" class="idref" href="#w:648"><span class="id" title="binder"><span id="w:649" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:601"><span class="id" title="variable">AdvData</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:646"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:648"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:650" class="idref" href="#o:650"><span class="id" title="binder"><span id="o:651" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:611"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:612"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:650"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:652" class="idref" href="#a:652"><span class="id" title="binder"><span id="a:653" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:654" class="idref" href="#w:654"><span class="id" title="binder"><span id="w:655" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:652"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:654"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:656" class="idref" href="#a:656"><span class="id" title="binder"><span id="a:657" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:658" class="idref" href="#w:658"><span class="id" title="binder"><span id="w:659" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:618"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:602"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:656"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:658"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:609"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:607"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:613"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':610"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':608"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:605"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':608"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">;</span> <span class="id" title="var">Σ</span><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ'</span>); <span class="id" title="tactic">eauto</span>; <span class="comment">(*&nbsp;rewrite&nbsp;/invGpreS.&nbsp;solve_inG.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Original&nbsp;formulation&nbsp;of&nbsp;adequacy,&nbsp;which&nbsp;does&nbsp;not&nbsp;mention&nbsp;seals&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_data_and_link.template_adequacy_no_seals" class="idref" href="#with_adv_and_data_and_link.template_adequacy_no_seals"><span class="id" title="lemma">template_adequacy_no_seals</span></a> `{<a id="H:660" class="idref" href="#H:660"><span class="id" title="binder">MachineParameters</span></a>} (<a id="35b9105a5a7552da7f26241d35dcadb2" class="idref" href="#35b9105a5a7552da7f26241d35dcadb2"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:662" class="idref" href="#P:662"><span class="id" title="binder">P</span></a> <a id="Adv:663" class="idref" href="#Adv:663"><span class="id" title="binder">Adv</span></a> <a id="AdvData:664" class="idref" href="#AdvData:664"><span class="id" title="binder">AdvData</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:665" class="idref" href="#Lib:665"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:666" class="idref" href="#P_tbl:666"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:667" class="idref" href="#Adv_tbl:667"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a>) (<a id="I:668" class="idref" href="#I:668"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:669" class="idref" href="#r_adv:669"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:670" class="idref" href="#m:670"><span class="id" title="binder">m</span></a> <a id="m':671" class="idref" href="#m':671"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:672" class="idref" href="#reg:672"><span class="id" title="binder">reg</span></a> <a id="reg':673" class="idref" href="#reg':673"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:674" class="idref" href="#es:674"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:664"><span class="id" title="variable">AdvData</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:670"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:672"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:669"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:675" class="idref" href="#w:675"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:675"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:664"><span class="id" title="variable">AdvData</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:664"><span class="id" title="variable">AdvData</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:668"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:670"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:668"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:679" class="idref" href="#filtered_map:679"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:676" class="idref" href="#m:676"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:678" class="idref" href="#pat:678"><span class="id" title="binder">(</span></a><a id="a:677" class="idref" href="#a:677"><span class="id" title="binder"><span id="pat:678" class="id">a</span></span></a><a id="pat:678" class="idref" href="#pat:678"><span class="id" title="binder">,</span></a> <a id="pat:678" class="idref" href="#pat:678"><span class="id" title="binder">_</span></a><a id="pat:678" class="idref" href="#pat:678"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:677"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:668"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:676"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:681" class="idref" href="#H0:681"><span class="id" title="binder">memG</span></a> <a id="e8151354ccd25522d1fca2b119119373" class="idref" href="#e8151354ccd25522d1fca2b119119373"><span class="id" title="binder"><span id="H0:681" class="id">Σ'</span></span></a>, <a id="H1:682" class="idref" href="#H1:682"><span class="id" title="binder">regG</span></a> <a id="H1:682" class="idref" href="#H1:682"><span class="id" title="binder">Σ'</span></a>, <a id="H2:683" class="idref" href="#H2:683"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:683" class="idref" href="#H2:683"><span class="id" title="binder">Σ'</span></a>, <a id="H3:684" class="idref" href="#H3:684"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:684" class="idref" href="#H3:684"><span class="id" title="binder">Σ'</span></a>, <a id="H4:685" class="idref" href="#H4:685"><span class="id" title="binder">subG</span></a> <a id="H4:685" class="idref" href="#H4:685"><span class="id" title="binder">Σ</span></a> <a id="H4:685" class="idref" href="#H4:685"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:686" class="idref" href="#rmap:686"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:686"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:669"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:668"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:669"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:687" class="idref" href="#r:687"><span class="id" title="binder"><span id="r:688" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:689" class="idref" href="#w:689"><span class="id" title="binder"><span id="w:690" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:686"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:687"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:689"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:689"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:691" class="idref" href="#a:691"><span class="id" title="binder"><span id="a:692" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:693" class="idref" href="#w:693"><span class="id" title="binder"><span id="w:694" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:666"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:691"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:693"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:695" class="idref" href="#a:695"><span class="id" title="binder"><span id="a:696" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:697" class="idref" href="#w:697"><span class="id" title="binder"><span id="w:698" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:662"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:695"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:697"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:699" class="idref" href="#a:699"><span class="id" title="binder"><span id="a:700" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:701" class="idref" href="#w:701"><span class="id" title="binder"><span id="w:702" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:667"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:699"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:701"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:703" class="idref" href="#a:703"><span class="id" title="binder"><span id="a:704" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:705" class="idref" href="#w:705"><span class="id" title="binder"><span id="w:706" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:663"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:703"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:705"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:707" class="idref" href="#a:707"><span class="id" title="binder"><span id="a:708" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:709" class="idref" href="#w:709"><span class="id" title="binder"><span id="w:710" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#AdvData:664"><span class="id" title="variable">AdvData</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:707"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:709"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:711" class="idref" href="#a:711"><span class="id" title="binder"><span id="a:712" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:713" class="idref" href="#w:713"><span class="id" title="binder"><span id="w:714" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:711"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:713"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:715" class="idref" href="#a:715"><span class="id" title="binder"><span id="a:716" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:717" class="idref" href="#w:717"><span class="id" title="binder"><span id="w:718" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:679"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:665"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:715"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:717"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:672"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:670"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:674"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':673"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':671"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:668"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':671"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??????? <span class="id" title="var">Hwp</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.template_adequacy"><span class="id" title="axiom">template_adequacy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span>); [<span class="id" title="tactic">eauto</span>..| | | <span class="id" title="tactic">exact</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assert</span> (0 <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> 0)%<span class="id" title="var">ot</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>. <span class="id" title="var">iIntros</span> "Hyp".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">Hwp</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[_ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "∗".<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link"><span class="id" title="module">with_adv_and_data_and_link</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_and_link" class="idref" href="#with_adv_and_link"><span class="id" title="module">with_adv_and_link</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.is_initial_registers" class="idref" href="#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:719" class="idref" href="#P:719"><span class="id" title="binder">P</span></a> <a id="Adv:720" class="idref" href="#Adv:720"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:721" class="idref" href="#Lib:721"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:722" class="idref" href="#P_tbl:722"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:719"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:721"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:723" class="idref" href="#Adv_tbl:723"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:720"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:721"><span class="id" title="variable">Lib</span></a>) (<a id="reg:724" class="idref" href="#reg:724"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:725" class="idref" href="#r_adv:725"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:724"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:722"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:719"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:719"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:724"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:725"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:723"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:720"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:720"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:725"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:726" class="idref" href="#r:726"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:726"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:725"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:727" class="idref" href="#w:727"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:724"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:726"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:727"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:727"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.initial_registers_full_map" class="idref" href="#with_adv_and_link.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:728" class="idref" href="#P:728"><span class="id" title="binder">P</span></a> <a id="Adv:729" class="idref" href="#Adv:729"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:730" class="idref" href="#Lib:730"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:731" class="idref" href="#P_tbl:731"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:728"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:730"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:732" class="idref" href="#Adv_tbl:732"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:729"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:730"><span class="id" title="variable">Lib</span></a>) <a id="reg:733" class="idref" href="#reg:733"><span class="id" title="binder">reg</span></a> <a id="r_adv:734" class="idref" href="#r_adv:734"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:728"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:729"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:730"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:731"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:732"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:733"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:734"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:735" class="idref" href="#r:735"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:733"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:735"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.is_initial_memory" class="idref" href="#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:736" class="idref" href="#P:736"><span class="id" title="binder">P</span></a> <a id="Adv:737" class="idref" href="#Adv:737"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:738" class="idref" href="#Lib:738"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:739" class="idref" href="#P_tbl:739"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:736"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:740" class="idref" href="#Adv_tbl:740"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:737"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a>) (<a id="m:741" class="idref" href="#m:741"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:736"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:739"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:741"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:737"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:740"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:741"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:741"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:736"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:739"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:737"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:740"><span class="id" title="variable">Adv_tbl</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:736"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:739"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:737"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:740"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a>) <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:738"><span class="id" title="variable">Lib</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.initial_memory_domain" class="idref" href="#with_adv_and_link.initial_memory_domain"><span class="id" title="definition">initial_memory_domain</span></a> (<a id="P:742" class="idref" href="#P:742"><span class="id" title="binder">P</span></a> <a id="Adv:743" class="idref" href="#Adv:743"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:744" class="idref" href="#Lib:744"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:745" class="idref" href="#P_tbl:745"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:742"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:744"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:746" class="idref" href="#Adv_tbl:746"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:743"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:744"><span class="id" title="variable">Lib</span></a>) : <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:742"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:745"><span class="id" title="variable">P_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:743"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:746"><span class="id" title="variable">Adv_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:744"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:744"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;NOTE:&nbsp;solely&nbsp;this&nbsp;version&nbsp;of&nbsp;adequacy&nbsp;has&nbsp;been&nbsp;updated&nbsp;to&nbsp;work&nbsp;with&nbsp;seals,&nbsp;by&nbsp;having&nbsp;allocated&nbsp;seals&nbsp;in&nbsp;the&nbsp;precondition&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_and_link.Adequacy" class="idref" href="#with_adv_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="238d3fd9e27f412842defcee973a00d6" class="idref" href="#238d3fd9e27f412842defcee973a00d6"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:748" class="idref" href="#inv_preg:748"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:749" class="idref" href="#mem_preg:749"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:750" class="idref" href="#reg_preg:750"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:751" class="idref" href="#seal_store_preg:751"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:752" class="idref" href="#na_invg:752"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:753" class="idref" href="#MP:753"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:754" class="idref" href="#P:754"><span class="id" title="binder">P</span></a> <a id="Adv:755" class="idref" href="#Adv:755"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Lib:756" class="idref" href="#Lib:756"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P_tbl:757" class="idref" href="#P_tbl:757"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Adv_tbl:758" class="idref" href="#Adv_tbl:758"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:759" class="idref" href="#I:759"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:760" class="idref" href="#r_adv:760"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.invN" class="idref" href="#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.template_adequacy'" class="idref" href="#with_adv_and_link.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> `{<a id="H:762" class="idref" href="#H:762"><span class="id" title="binder">subG</span></a> <a id="b8409f362f516cd8b0801ae3b270f04c" class="idref" href="#b8409f362f516cd8b0801ae3b270f04c"><span class="id" title="binder"><span id="H:762" class="id">Σ'</span></span></a> <a id="H:762" class="idref" href="#H:762"><span class="id" title="binder">Σ</span></a>} (<a id="m:763" class="idref" href="#m:763"><span class="id" title="binder">m</span></a> <a id="m':764" class="idref" href="#m':764"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:765" class="idref" href="#reg:765"><span class="id" title="binder">reg</span></a> <a id="reg':766" class="idref" href="#reg':766"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:767" class="idref" href="#o_b:767"><span class="id" title="binder">o_b</span></a> <a id="o_e:768" class="idref" href="#o_e:768"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:769" class="idref" href="#es:769"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:763"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:765"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:763"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:767"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:768"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:773" class="idref" href="#filtered_map:773"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:770" class="idref" href="#m:770"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:772" class="idref" href="#pat:772"><span class="id" title="binder">(</span></a><a id="a:771" class="idref" href="#a:771"><span class="id" title="binder"><span id="pat:772" class="id">a</span></span></a><a id="pat:772" class="idref" href="#pat:772"><span class="id" title="binder">,</span></a> <a id="pat:772" class="idref" href="#pat:772"><span class="id" title="binder">_</span></a><a id="pat:772" class="idref" href="#pat:772"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:771"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:770"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:774" class="idref" href="#H0:774"><span class="id" title="binder">memG</span></a> <a id="H0:774" class="idref" href="#H0:774"><span class="id" title="binder">Σ</span></a>, <a id="H1:775" class="idref" href="#H1:775"><span class="id" title="binder">regG</span></a> <a id="H1:775" class="idref" href="#H1:775"><span class="id" title="binder">Σ</span></a>, <a id="H2:776" class="idref" href="#H2:776"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:776" class="idref" href="#H2:776"><span class="id" title="binder">Σ</span></a>, <a id="NA:777" class="idref" href="#NA:777"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>, <a id="H3:778" class="idref" href="#H3:778"><span class="id" title="binder">subG</span></a> <a id="H3:778" class="idref" href="#H3:778"><span class="id" title="binder">Σ'</span></a> <a id="H3:778" class="idref" href="#H3:778"><span class="id" title="binder">Σ</span></a>} <a id="rmap:779" class="idref" href="#rmap:779"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:779"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:777"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:780" class="idref" href="#r:780"><span class="id" title="binder"><span id="r:781" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:782" class="idref" href="#w:782"><span class="id" title="binder"><span id="w:783" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:779"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:780"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:782"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:782"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:784" class="idref" href="#a:784"><span class="id" title="binder"><span id="a:785" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:786" class="idref" href="#w:786"><span class="id" title="binder"><span id="w:787" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:784"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:786"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:788" class="idref" href="#a:788"><span class="id" title="binder"><span id="a:789" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:790" class="idref" href="#w:790"><span class="id" title="binder"><span id="w:791" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:788"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:790"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:792" class="idref" href="#a:792"><span class="id" title="binder"><span id="a:793" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:794" class="idref" href="#w:794"><span class="id" title="binder"><span id="w:795" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:792"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:794"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:796" class="idref" href="#a:796"><span class="id" title="binder"><span id="a:797" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:798" class="idref" href="#w:798"><span class="id" title="binder"><span id="w:799" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:796"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:798"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:800" class="idref" href="#o:800"><span class="id" title="binder"><span id="o:801" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:767"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:768"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:800"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:802" class="idref" href="#a:802"><span class="id" title="binder"><span id="a:803" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:804" class="idref" href="#w:804"><span class="id" title="binder"><span id="w:805" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:802"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:804"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:806" class="idref" href="#a:806"><span class="id" title="binder"><span id="a:807" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:808" class="idref" href="#w:808"><span class="id" title="binder"><span id="w:809" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:773"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:806"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:808"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:765"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:763"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:769"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':766"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':764"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':764"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">Hobe</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="definition">wp_invariance</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <span class="id" title="constructor">NotStuck</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:810" class="idref" href="#c:810"><span class="id" title="binder"><span id="c:811" class="id">c</span></span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:810"><span class="id" title="variable">c</span></a><span class="id" title="notation">.2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="lemma">gen_heap_init</span> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="cap_machine.seal_store.html#seal_store_init"><span class="id" title="axiom">seal_store_init</span></a> (<span class="id" title="definition">list_to_set</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">o_b</span> <span class="id" title="var">o_e</span>))) <span class="id" title="keyword">as</span> (<span class="id" title="var">seal_storeg</span>) "Hseal_store".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepS_list_to_set</span> <span class="id" title="notation">with</span> "Hseal_store"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hseal_store"; [<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<span class="id" title="lemma">na_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">seal_storeg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">HL</span> &amp; (<span class="id" title="var">Hdisj1</span> &amp; <span class="id" title="var">Hdisj2</span> &amp; <span class="id" title="var">Hdisj3</span> &amp; <span class="id" title="var">Hdisj4</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_subseteq</span> <span class="id" title="notation">with</span> "Hmem"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">∪</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">∪</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_subseteq_spec</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_union_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprogadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hprog Hlib]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_union_l</span>;<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hprog"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hp Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hp"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hp Hp_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hadv Hadv_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hlib"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlib_pub Hlib_priv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:813" class="idref" href="#pat:813"><span class="id" title="binder"><span id="pat:815" class="id"><span id="pat:817" class="id">(</span></span></span></a><a id="a:812" class="idref" href="#a:812"><span class="id" title="binder"><span id="pat:813" class="id"><span id="a:814" class="id"><span id="pat:815" class="id"><span id="a:816" class="id"><span id="pat:817" class="id">a</span></span></span></span></span></span></a><a id="pat:813" class="idref" href="#pat:813"><span class="id" title="binder"><span id="pat:815" class="id"><span id="pat:817" class="id">,</span></span></span></a> <a id="pat:813" class="idref" href="#pat:813"><span class="id" title="binder"><span id="pat:815" class="id"><span id="pat:817" class="id">_</span></span></span></a><a id="pat:813" class="idref" href="#pat:813"><span class="id" title="binder"><span id="pat:815" class="id"><span id="pat:817" class="id">)</span></span></span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:812"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_nin_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:819" class="idref" href="#pat:819"><span class="id" title="binder"><span id="pat:821" class="id"><span id="pat:823" class="id">(</span></span></span></a><a id="a:818" class="idref" href="#a:818"><span class="id" title="binder"><span id="pat:819" class="id"><span id="a:820" class="id"><span id="pat:821" class="id"><span id="a:822" class="id"><span id="pat:823" class="id">a</span></span></span></span></span></span></a><a id="pat:819" class="idref" href="#pat:819"><span class="id" title="binder"><span id="pat:821" class="id"><span id="pat:823" class="id">,</span></span></span></a> <a id="pat:819" class="idref" href="#pat:819"><span class="id" title="binder"><span id="pat:821" class="id"><span id="pat:823" class="id">_</span></span></span></a><a id="pat:819" class="idref" href="#pat:819"><span class="id" title="binder"><span id="pat:821" class="id"><span id="pat:823" class="id">)</span></span></span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:818"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <span class="id" title="notation">∪</span> <span class="id" title="var">prog_nin_inv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_filter_union_complement</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_union</span> <span class="id" title="notation">with</span> "Hlib_priv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlib_inv Hlib_priv]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_filter_complement</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">inv_alloc</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="notation">⊤</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">with</span> "[Hlib_inv]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_filter_subseteq</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_union_subseteq_r</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_delete</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:824" class="idref" href="#r:824"><span class="id" title="binder"><span id="r:825" class="id"><span id="r:828" class="id"><span id="r:829" class="id">r</span></span></span></span></a><span class="id" title="notation">↦</span><a id="w:826" class="idref" href="#w:826"><span class="id" title="binder"><span id="w:827" class="id"><span id="w:830" class="id"><span id="w:831" class="id">w</span></span></span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">rmap</span><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:824"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:826"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:826"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_mono</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_delete_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:832" class="idref" href="#r:832"><span class="id" title="binder"><span id="r:833" class="id">r</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<span class="id" title="var">reg</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:832"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqP</span> <span class="id" title="var">HNoneP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAdv</span> <span class="id" title="var">HNoneAdv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP</span> <span class="id" title="var">HeqAdv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_insert</span> <span class="id" title="notation">with</span> "Hp"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlinkp Hp]";[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepM_insert</span> <span class="id" title="notation">with</span> "Hadv"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlinkadv Hadv]";[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><span class="id" title="var">Hspec</span> <span class="id" title="var">_</span> <span class="id" title="var">rmap</span> <span class="id" title="notation">with</span> "[$HPC $Hr0 $Hreg $Hseal_store $Hlinkp $Hp $Hlinkadv $Hadv $Hp_tbl $Hadv_tbl $Hlib_pub $Hlib_priv $Hinv $Hna]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">dom_delete_L</span> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="550bd178e2f60aca72145ed7e9e64362" class="idref" href="#550bd178e2f60aca72145ed7e9e64362"><span class="id" title="binder"><span id="6c3ad45367b31e986e5f463f5e5cc744" class="id">σ</span></span></a> <a id="5765219f2433274a8a6b81153a4a5336" class="idref" href="#5765219f2433274a8a6b81153a4a5336"><span class="id" title="binder"><span id="599e7d87970bc9fdf88bf87717deecf5" class="id">κs</span></span></a> <span class="id" title="var">_</span> =&gt; (<span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#550bd178e2f60aca72145ed7e9e64362"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#550bd178e2f60aca72145ed7e9e64362"><span class="id" title="variable">σ</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">)</span>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<span class="id" title="notation">⊤</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">↑</span><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <span class="id" title="notation">with</span> "Hmem' Hmi"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_link.template_adequacy" class="idref" href="#with_adv_and_link.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:838" class="idref" href="#H:838"><span class="id" title="binder">MachineParameters</span></a>} (<a id="b429d9e9f1c18f6c90d41f9c2b77ea4d" class="idref" href="#b429d9e9f1c18f6c90d41f9c2b77ea4d"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:840" class="idref" href="#P:840"><span class="id" title="binder">P</span></a> <a id="Adv:841" class="idref" href="#Adv:841"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:842" class="idref" href="#Lib:842"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:843" class="idref" href="#P_tbl:843"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:844" class="idref" href="#Adv_tbl:844"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a>) (<a id="I:845" class="idref" href="#I:845"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:846" class="idref" href="#r_adv:846"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:847" class="idref" href="#m:847"><span class="id" title="binder">m</span></a> <a id="m':848" class="idref" href="#m':848"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:849" class="idref" href="#reg:849"><span class="id" title="binder">reg</span></a> <a id="reg':850" class="idref" href="#reg':850"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:851" class="idref" href="#o_b:851"><span class="id" title="binder">o_b</span></a> <a id="o_e:852" class="idref" href="#o_e:852"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:853" class="idref" href="#es:853"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:847"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:849"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:846"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:845"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:847"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:845"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:851"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:852"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:857" class="idref" href="#filtered_map:857"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:854" class="idref" href="#m:854"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:856" class="idref" href="#pat:856"><span class="id" title="binder">(</span></a><a id="a:855" class="idref" href="#a:855"><span class="id" title="binder"><span id="pat:856" class="id">a</span></span></a><a id="pat:856" class="idref" href="#pat:856"><span class="id" title="binder">,</span></a> <a id="pat:856" class="idref" href="#pat:856"><span class="id" title="binder">_</span></a><a id="pat:856" class="idref" href="#pat:856"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:855"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:845"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:854"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:859" class="idref" href="#H0:859"><span class="id" title="binder">memG</span></a> <a id="29981a7b335822adfb223f02a4ff9ba1" class="idref" href="#29981a7b335822adfb223f02a4ff9ba1"><span class="id" title="binder"><span id="H0:859" class="id">Σ'</span></span></a>, <a id="H1:860" class="idref" href="#H1:860"><span class="id" title="binder">regG</span></a> <a id="H1:860" class="idref" href="#H1:860"><span class="id" title="binder">Σ'</span></a>, <a id="H2:861" class="idref" href="#H2:861"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:861" class="idref" href="#H2:861"><span class="id" title="binder">Σ'</span></a>, <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:862" class="idref" href="#H3:862"><span class="id" title="binder">Σ'</span></a>, <a id="H4:863" class="idref" href="#H4:863"><span class="id" title="binder">subG</span></a> <a id="H4:863" class="idref" href="#H4:863"><span class="id" title="binder">Σ</span></a> <a id="H4:863" class="idref" href="#H4:863"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:864" class="idref" href="#rmap:864"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:864"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:846"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:845"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:846"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:865" class="idref" href="#r:865"><span class="id" title="binder"><span id="r:866" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:867" class="idref" href="#w:867"><span class="id" title="binder"><span id="w:868" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:864"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:865"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:867"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:867"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:869" class="idref" href="#a:869"><span class="id" title="binder"><span id="a:870" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:871" class="idref" href="#w:871"><span class="id" title="binder"><span id="w:872" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:843"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:869"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:871"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:873" class="idref" href="#a:873"><span class="id" title="binder"><span id="a:874" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:875" class="idref" href="#w:875"><span class="id" title="binder"><span id="w:876" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:840"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:873"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:875"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:877" class="idref" href="#a:877"><span class="id" title="binder"><span id="a:878" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:879" class="idref" href="#w:879"><span class="id" title="binder"><span id="w:880" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:844"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:877"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:879"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:881" class="idref" href="#a:881"><span class="id" title="binder"><span id="a:882" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:883" class="idref" href="#w:883"><span class="id" title="binder"><span id="w:884" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:841"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:881"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:883"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:885" class="idref" href="#o:885"><span class="id" title="binder"><span id="o:886" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:851"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:852"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:885"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:887" class="idref" href="#a:887"><span class="id" title="binder"><span id="a:888" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:889" class="idref" href="#w:889"><span class="id" title="binder"><span id="w:890" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:887"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:889"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:891" class="idref" href="#a:891"><span class="id" title="binder"><span id="a:892" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:893" class="idref" href="#w:893"><span class="id" title="binder"><span id="w:894" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:857"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:842"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:891"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:893"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:849"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:847"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:853"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':850"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':848"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:845"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':848"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">;</span> <span class="id" title="var">Σ</span><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ'</span>); <span class="id" title="tactic">eauto</span>; <span class="comment">(*&nbsp;rewrite&nbsp;/invGpreS.&nbsp;solve_inG.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Original&nbsp;formulation&nbsp;of&nbsp;adequacy,&nbsp;which&nbsp;does&nbsp;not&nbsp;mention&nbsp;seals&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_link.template_adequacy_no_seals" class="idref" href="#with_adv_and_link.template_adequacy_no_seals"><span class="id" title="lemma">template_adequacy_no_seals</span></a> `{<a id="H:895" class="idref" href="#H:895"><span class="id" title="binder">MachineParameters</span></a>} (<a id="fd7c171a326bed9015ab0c8f4587275f" class="idref" href="#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:897" class="idref" href="#P:897"><span class="id" title="binder">P</span></a> <a id="Adv:898" class="idref" href="#Adv:898"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:899" class="idref" href="#Lib:899"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:900" class="idref" href="#P_tbl:900"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:901" class="idref" href="#Adv_tbl:901"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a>) (<a id="I:902" class="idref" href="#I:902"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:903" class="idref" href="#r_adv:903"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:904" class="idref" href="#m:904"><span class="id" title="binder">m</span></a> <a id="m':905" class="idref" href="#m':905"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:906" class="idref" href="#reg:906"><span class="id" title="binder">reg</span></a> <a id="reg':907" class="idref" href="#reg':907"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:908" class="idref" href="#es:908"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:904"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:906"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:903"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#adv_condition"><span class="id" title="definition">adv_condition</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:902"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:904"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:902"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:912" class="idref" href="#filtered_map:912"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:909" class="idref" href="#m:909"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:911" class="idref" href="#pat:911"><span class="id" title="binder">(</span></a><a id="a:910" class="idref" href="#a:910"><span class="id" title="binder"><span id="pat:911" class="id">a</span></span></a><a id="pat:911" class="idref" href="#pat:911"><span class="id" title="binder">,</span></a> <a id="pat:911" class="idref" href="#pat:911"><span class="id" title="binder">_</span></a><a id="pat:911" class="idref" href="#pat:911"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:910"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:902"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:909"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:914" class="idref" href="#H0:914"><span class="id" title="binder">memG</span></a> <a id="16b4edcad04e1294702f01241c2d8061" class="idref" href="#16b4edcad04e1294702f01241c2d8061"><span class="id" title="binder"><span id="H0:914" class="id">Σ'</span></span></a>, <a id="H1:915" class="idref" href="#H1:915"><span class="id" title="binder">regG</span></a> <a id="H1:915" class="idref" href="#H1:915"><span class="id" title="binder">Σ'</span></a>, <a id="H2:916" class="idref" href="#H2:916"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:916" class="idref" href="#H2:916"><span class="id" title="binder">Σ'</span></a>, <a id="H3:917" class="idref" href="#H3:917"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:917" class="idref" href="#H3:917"><span class="id" title="binder">Σ'</span></a>, <a id="H4:918" class="idref" href="#H4:918"><span class="id" title="binder">subG</span></a> <a id="H4:918" class="idref" href="#H4:918"><span class="id" title="binder">Σ</span></a> <a id="H4:918" class="idref" href="#H4:918"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:919" class="idref" href="#rmap:919"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:919"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:903"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:902"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:903"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:920" class="idref" href="#r:920"><span class="id" title="binder"><span id="r:921" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:922" class="idref" href="#w:922"><span class="id" title="binder"><span id="w:923" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:919"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:920"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:922"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:922"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:924" class="idref" href="#a:924"><span class="id" title="binder"><span id="a:925" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:926" class="idref" href="#w:926"><span class="id" title="binder"><span id="w:927" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:900"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:924"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:926"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:928" class="idref" href="#a:928"><span class="id" title="binder"><span id="a:929" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:930" class="idref" href="#w:930"><span class="id" title="binder"><span id="w:931" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:897"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:928"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:930"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:932" class="idref" href="#a:932"><span class="id" title="binder"><span id="a:933" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:934" class="idref" href="#w:934"><span class="id" title="binder"><span id="w:935" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:901"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:932"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:934"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:936" class="idref" href="#a:936"><span class="id" title="binder"><span id="a:937" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:938" class="idref" href="#w:938"><span class="id" title="binder"><span id="w:939" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:898"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:936"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:938"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:940" class="idref" href="#a:940"><span class="id" title="binder"><span id="a:941" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:942" class="idref" href="#w:942"><span class="id" title="binder"><span id="w:943" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:940"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:942"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:944" class="idref" href="#a:944"><span class="id" title="binder"><span id="a:945" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:946" class="idref" href="#w:946"><span class="id" title="binder"><span id="w:947" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:912"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:899"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:944"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:946"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:906"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:904"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:908"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':907"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':905"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:902"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':905"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">Hwp</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.template_adequacy"><span class="id" title="axiom">template_adequacy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span>); [<span class="id" title="tactic">eauto</span>..| | | <span class="id" title="tactic">exact</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assert</span> (0 <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> 0)%<span class="id" title="var">ot</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>. <span class="id" title="var">iIntros</span> "Hyp".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">Hwp</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[_ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "∗".<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link"><span class="id" title="module">with_adv_and_link</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_and_link_ints" class="idref" href="#with_adv_and_link_ints"><span class="id" title="module">with_adv_and_link_ints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link_ints.is_initial_registers" class="idref" href="#with_adv_and_link_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:948" class="idref" href="#P:948"><span class="id" title="binder">P</span></a> <a id="Adv:949" class="idref" href="#Adv:949"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:950" class="idref" href="#Lib:950"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:951" class="idref" href="#P_tbl:951"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:948"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:950"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:952" class="idref" href="#Adv_tbl:952"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:949"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:950"><span class="id" title="variable">Lib</span></a>) (<a id="reg:953" class="idref" href="#reg:953"><span class="id" title="binder">reg</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:954" class="idref" href="#r_adv:954"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:953"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:951"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:948"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:948"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:953"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:954"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:952"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:949"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:949"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:954"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:955" class="idref" href="#r:955"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:955"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:954"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:956" class="idref" href="#w:956"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:953"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:955"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:956"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:956"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link_ints.initial_registers_full_map" class="idref" href="#with_adv_and_link_ints.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:957" class="idref" href="#P:957"><span class="id" title="binder">P</span></a> <a id="Adv:958" class="idref" href="#Adv:958"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:959" class="idref" href="#Lib:959"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:960" class="idref" href="#P_tbl:960"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:957"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:959"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:961" class="idref" href="#Adv_tbl:961"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:958"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:959"><span class="id" title="variable">Lib</span></a>) <a id="reg:962" class="idref" href="#reg:962"><span class="id" title="binder">reg</span></a> <a id="r_adv:963" class="idref" href="#r_adv:963"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:957"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:958"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:959"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:960"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:961"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:962"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:963"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:964" class="idref" href="#r:964"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:962"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:964"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link_ints.is_initial_memory" class="idref" href="#with_adv_and_link_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:965" class="idref" href="#P:965"><span class="id" title="binder">P</span></a> <a id="Adv:966" class="idref" href="#Adv:966"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:967" class="idref" href="#Lib:967"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:968" class="idref" href="#P_tbl:968"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:965"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:969" class="idref" href="#Adv_tbl:969"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:966"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a>) (<a id="m:970" class="idref" href="#m:970"><span class="id" title="binder">m</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:965"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:968"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:970"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:966"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:969"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:970"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:970"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:965"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:968"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:966"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:969"><span class="id" title="variable">Adv_tbl</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:965"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:968"><span class="id" title="variable">P_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:966"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:969"><span class="id" title="variable">Adv_tbl</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a>) <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:967"><span class="id" title="variable">Lib</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link_ints.initial_memory_domain" class="idref" href="#with_adv_and_link_ints.initial_memory_domain"><span class="id" title="definition">initial_memory_domain</span></a> (<a id="P:971" class="idref" href="#P:971"><span class="id" title="binder">P</span></a> <a id="Adv:972" class="idref" href="#Adv:972"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:973" class="idref" href="#Lib:973"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:974" class="idref" href="#P_tbl:974"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:971"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:973"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:975" class="idref" href="#Adv_tbl:975"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:972"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:973"><span class="id" title="variable">Lib</span></a>) : <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:971"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:974"><span class="id" title="variable">P_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:972"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:975"><span class="id" title="variable">Adv_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:973"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:973"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;NOTE:&nbsp;solely&nbsp;this&nbsp;version&nbsp;of&nbsp;adequacy&nbsp;has&nbsp;been&nbsp;updated&nbsp;to&nbsp;work&nbsp;with&nbsp;seals,&nbsp;by&nbsp;having&nbsp;allocated&nbsp;seals&nbsp;in&nbsp;the&nbsp;precondition&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_and_link_ints.Adequacy" class="idref" href="#with_adv_and_link_ints.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fafe0f004b19423e6563ea68b5293ca1" class="idref" href="#fafe0f004b19423e6563ea68b5293ca1"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:977" class="idref" href="#inv_preg:977"><span class="id" title="binder">inv_preg</span></a>: <span class="id" title="class">invGpreS</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:978" class="idref" href="#mem_preg:978"><span class="id" title="binder">mem_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:979" class="idref" href="#reg_preg:979"><span class="id" title="binder">reg_preg</span></a>: <span class="id" title="class">gen_heapGpreS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:980" class="idref" href="#seal_store_preg:980"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:981" class="idref" href="#na_invg:981"><span class="id" title="binder">na_invg</span></a>: <span class="id" title="class">na_invG</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:982" class="idref" href="#MP:982"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:983" class="idref" href="#P:983"><span class="id" title="binder">P</span></a> <a id="Adv:984" class="idref" href="#Adv:984"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Lib:985" class="idref" href="#Lib:985"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P_tbl:986" class="idref" href="#P_tbl:986"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Adv_tbl:987" class="idref" href="#Adv_tbl:987"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:988" class="idref" href="#I:988"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:989" class="idref" href="#r_adv:989"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link_ints.invN" class="idref" href="#with_adv_and_link_ints.invN"><span class="id" title="definition">invN</span></a> : <span class="id" title="definition">namespace</span> := <span class="id" title="definition">nroot</span> <span class="id" title="notation">.@</span> "templateadequacy" <span class="id" title="notation">.@</span> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link_ints.template_adequacy'" class="idref" href="#with_adv_and_link_ints.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> `{<a id="H:991" class="idref" href="#H:991"><span class="id" title="binder">subG</span></a> <a id="ced244bc2cb11929688b7a51162ad0a7" class="idref" href="#ced244bc2cb11929688b7a51162ad0a7"><span class="id" title="binder"><span id="H:991" class="id">Σ'</span></span></a> <a id="H:991" class="idref" href="#H:991"><span class="id" title="binder">Σ</span></a>} (<a id="m:992" class="idref" href="#m:992"><span class="id" title="binder">m</span></a> <a id="m':993" class="idref" href="#m':993"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:994" class="idref" href="#reg:994"><span class="id" title="binder">reg</span></a> <a id="reg':995" class="idref" href="#reg':995"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:996" class="idref" href="#o_b:996"><span class="id" title="binder">o_b</span></a> <a id="o_e:997" class="idref" href="#o_e:997"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:998" class="idref" href="#es:998"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:992"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:994"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:999" class="idref" href="#w:999"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:992"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:996"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:997"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:1003" class="idref" href="#filtered_map:1003"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:1000" class="idref" href="#m:1000"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:1002" class="idref" href="#pat:1002"><span class="id" title="binder">(</span></a><a id="a:1001" class="idref" href="#a:1001"><span class="id" title="binder"><span id="pat:1002" class="id">a</span></span></a><a id="pat:1002" class="idref" href="#pat:1002"><span class="id" title="binder">,</span></a> <a id="pat:1002" class="idref" href="#pat:1002"><span class="id" title="binder">_</span></a><a id="pat:1002" class="idref" href="#pat:1002"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1001"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1000"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:1004" class="idref" href="#H0:1004"><span class="id" title="binder">memG</span></a> <a id="H0:1004" class="idref" href="#H0:1004"><span class="id" title="binder">Σ</span></a>, <a id="H1:1005" class="idref" href="#H1:1005"><span class="id" title="binder">regG</span></a> <a id="H1:1005" class="idref" href="#H1:1005"><span class="id" title="binder">Σ</span></a>, <a id="H2:1006" class="idref" href="#H2:1006"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:1006" class="idref" href="#H2:1006"><span class="id" title="binder">Σ</span></a>, <a id="NA:1007" class="idref" href="#NA:1007"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#cb4efcdfd07a2b429a0875562e025dfd"><span class="id" title="variable">Σ</span></a>, <a id="H3:1008" class="idref" href="#H3:1008"><span class="id" title="binder">subG</span></a> <a id="H3:1008" class="idref" href="#H3:1008"><span class="id" title="binder">Σ'</span></a> <a id="H3:1008" class="idref" href="#H3:1008"><span class="id" title="binder">Σ</span></a>} <a id="rmap:1009" class="idref" href="#rmap:1009"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1009"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> @<span class="id" title="definition">na_own</span> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:1007"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:1010" class="idref" href="#r:1010"><span class="id" title="binder"><span id="r:1011" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:1012" class="idref" href="#w:1012"><span class="id" title="binder"><span id="w:1013" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1009"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:1010"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1012"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1012"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1014" class="idref" href="#a:1014"><span class="id" title="binder"><span id="a:1015" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1016" class="idref" href="#w:1016"><span class="id" title="binder"><span id="w:1017" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1014"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1016"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1018" class="idref" href="#a:1018"><span class="id" title="binder"><span id="a:1019" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1020" class="idref" href="#w:1020"><span class="id" title="binder"><span id="w:1021" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.P"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1018"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1020"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1022" class="idref" href="#a:1022"><span class="id" title="binder"><span id="a:1023" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1024" class="idref" href="#w:1024"><span class="id" title="binder"><span id="w:1025" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1022"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1024"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1026" class="idref" href="#a:1026"><span class="id" title="binder"><span id="a:1027" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1028" class="idref" href="#w:1028"><span class="id" title="binder"><span id="w:1029" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1026"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1028"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:1030" class="idref" href="#o:1030"><span class="id" title="binder"><span id="o:1031" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:996"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:997"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:1030"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1032" class="idref" href="#a:1032"><span class="id" title="binder"><span id="a:1033" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1034" class="idref" href="#w:1034"><span class="id" title="binder"><span id="w:1035" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1032"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1034"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1036" class="idref" href="#a:1036"><span class="id" title="binder"><span id="a:1037" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1038" class="idref" href="#w:1038"><span class="id" title="binder"><span id="w:1039" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:1003"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1036"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1038"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:994"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:992"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:998"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':995"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':993"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':993"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">Hobe</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_data_and_link.template_adequacy'"><span class="id" title="axiom">with_adv_and_data_and_link.template_adequacy'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">AdvData</span>:=<a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog"><span class="id" title="definition">empty_prog</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>));[<span class="id" title="tactic">eauto</span>..| |<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">HL</span> &amp; <span class="id" title="var">Hdisj1</span> &amp; <span class="id" title="var">Hdisj2</span> &amp; <span class="id" title="var">Hdisj3</span> &amp; <span class="id" title="var">Hdisj4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a>. <span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_tbl_data_region"><span class="id" title="definition">prog_tbl_data_region</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="cap_machine.examples.template_adequacy.html#empty_prog_region"><span class="id" title="axiom">empty_prog_region</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="instance">map_union_empty</span> //. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_empty_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">Hadv</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">iIntros</span> "(?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">Hspec</span>;<span class="id" title="tactic">eauto</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_link_ints.template_adequacy" class="idref" href="#with_adv_and_link_ints.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:1040" class="idref" href="#H:1040"><span class="id" title="binder">MachineParameters</span></a>} (<a id="84cf52948bdb044125e775738df3301b" class="idref" href="#84cf52948bdb044125e775738df3301b"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:1042" class="idref" href="#P:1042"><span class="id" title="binder">P</span></a> <a id="Adv:1043" class="idref" href="#Adv:1043"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:1044" class="idref" href="#Lib:1044"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:1045" class="idref" href="#P_tbl:1045"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:1046" class="idref" href="#Adv_tbl:1046"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a>) (<a id="I:1047" class="idref" href="#I:1047"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:1048" class="idref" href="#r_adv:1048"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:1049" class="idref" href="#m:1049"><span class="id" title="binder">m</span></a> <a id="m':1050" class="idref" href="#m':1050"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:1051" class="idref" href="#reg:1051"><span class="id" title="binder">reg</span></a> <a id="reg':1052" class="idref" href="#reg':1052"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="o_b:1053" class="idref" href="#o_b:1053"><span class="id" title="binder">o_b</span></a> <a id="o_e:1054" class="idref" href="#o_e:1054"><span class="id" title="binder">o_e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) (<a id="es:1055" class="idref" href="#es:1055"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1049"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:1051"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1048"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1056" class="idref" href="#w:1056"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1056"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1047"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1049"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1047"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:1053"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:1054"><span class="id" title="variable">o_e</span></a>)%<span class="id" title="var">ot</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:1060" class="idref" href="#filtered_map:1060"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:1057" class="idref" href="#m:1057"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:1059" class="idref" href="#pat:1059"><span class="id" title="binder">(</span></a><a id="a:1058" class="idref" href="#a:1058"><span class="id" title="binder"><span id="pat:1059" class="id">a</span></span></a><a id="pat:1059" class="idref" href="#pat:1059"><span class="id" title="binder">,</span></a> <a id="pat:1059" class="idref" href="#pat:1059"><span class="id" title="binder">_</span></a><a id="pat:1059" class="idref" href="#pat:1059"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1058"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1047"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1057"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:1062" class="idref" href="#H0:1062"><span class="id" title="binder">memG</span></a> <a id="d9451e26bd1658dc4ed9c8744d5e1d71" class="idref" href="#d9451e26bd1658dc4ed9c8744d5e1d71"><span class="id" title="binder"><span id="H0:1062" class="id">Σ'</span></span></a>, <a id="H1:1063" class="idref" href="#H1:1063"><span class="id" title="binder">regG</span></a> <a id="H1:1063" class="idref" href="#H1:1063"><span class="id" title="binder">Σ'</span></a>, <a id="H2:1064" class="idref" href="#H2:1064"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:1064" class="idref" href="#H2:1064"><span class="id" title="binder">Σ'</span></a>, <a id="H3:1065" class="idref" href="#H3:1065"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:1065" class="idref" href="#H3:1065"><span class="id" title="binder">Σ'</span></a>, <a id="H4:1066" class="idref" href="#H4:1066"><span class="id" title="binder">subG</span></a> <a id="H4:1066" class="idref" href="#H4:1066"><span class="id" title="binder">Σ</span></a> <a id="H4:1066" class="idref" href="#H4:1066"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:1067" class="idref" href="#rmap:1067"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1067"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1048"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1047"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1048"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:1068" class="idref" href="#r:1068"><span class="id" title="binder"><span id="r:1069" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:1070" class="idref" href="#w:1070"><span class="id" title="binder"><span id="w:1071" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1067"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:1068"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1070"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1070"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1072" class="idref" href="#a:1072"><span class="id" title="binder"><span id="a:1073" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1074" class="idref" href="#w:1074"><span class="id" title="binder"><span id="w:1075" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1045"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1072"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1074"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1076" class="idref" href="#a:1076"><span class="id" title="binder"><span id="a:1077" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1078" class="idref" href="#w:1078"><span class="id" title="binder"><span id="w:1079" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1042"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1076"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1078"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1080" class="idref" href="#a:1080"><span class="id" title="binder"><span id="a:1081" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1082" class="idref" href="#w:1082"><span class="id" title="binder"><span id="w:1083" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1046"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1080"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1082"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1084" class="idref" href="#a:1084"><span class="id" title="binder"><span id="a:1085" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1086" class="idref" href="#w:1086"><span class="id" title="binder"><span id="w:1087" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1043"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1084"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1086"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;to&nbsp;allocate&nbsp;sealed&nbsp;predicates&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:1088" class="idref" href="#o:1088"><span class="id" title="binder"><span id="o:1089" class="id">o</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_b:1053"><span class="id" title="variable">o_b</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o_e:1054"><span class="id" title="variable">o_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.seal_store.html#can_alloc_pred"><span class="id" title="definition">can_alloc_pred</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#o:1088"><span class="id" title="variable">o</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1090" class="idref" href="#a:1090"><span class="id" title="binder"><span id="a:1091" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1092" class="idref" href="#w:1092"><span class="id" title="binder"><span id="w:1093" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1090"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1092"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1094" class="idref" href="#a:1094"><span class="id" title="binder"><span id="a:1095" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1096" class="idref" href="#w:1096"><span class="id" title="binder"><span id="w:1097" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:1060"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1044"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1094"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1096"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:1051"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1049"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:1055"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':1052"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':1050"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1047"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':1050"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <span class="id" title="notation">#[</span><span class="id" title="definition">invΣ</span><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span> <span class="id" title="definition">gen_heapΣ</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">na_invΣ</span><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.seal_store.html#59cc5baffa0c84d83a39c0cde6bba64e"><span class="id" title="definition">sealStorePreΣ</span></a><span class="id" title="notation">;</span> <span class="id" title="var">Σ</span><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ'</span>); <span class="id" title="tactic">eauto</span>; <span class="comment">(*&nbsp;rewrite&nbsp;/invGpreS.&nbsp;solve_inG.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Original&nbsp;formulation&nbsp;of&nbsp;adequacy,&nbsp;which&nbsp;does&nbsp;not&nbsp;mention&nbsp;seals&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_link_ints.template_adequacy_no_seals" class="idref" href="#with_adv_and_link_ints.template_adequacy_no_seals"><span class="id" title="lemma">template_adequacy_no_seals</span></a> `{<a id="H:1098" class="idref" href="#H:1098"><span class="id" title="binder">MachineParameters</span></a>} (<a id="2f1c87dbccfd25318919bb9493c31aff" class="idref" href="#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="binder">Σ</span></a> : <span class="id" title="record">gFunctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:1100" class="idref" href="#P:1100"><span class="id" title="binder">P</span></a> <a id="Adv:1101" class="idref" href="#Adv:1101"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:1102" class="idref" href="#Lib:1102"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:1103" class="idref" href="#P_tbl:1103"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:1104" class="idref" href="#Adv_tbl:1104"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a>) (<a id="I:1105" class="idref" href="#I:1105"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:1106" class="idref" href="#r_adv:1106"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:1107" class="idref" href="#m:1107"><span class="id" title="binder">m</span></a> <a id="m':1108" class="idref" href="#m':1108"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:1109" class="idref" href="#reg:1109"><span class="id" title="binder">reg</span></a> <a id="reg':1110" class="idref" href="#reg':1110"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:1111" class="idref" href="#es:1111"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1107"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:1109"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1106"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1112" class="idref" href="#w:1112"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1112"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1105"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1107"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1105"><span class="id" title="variable">I</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:1116" class="idref" href="#filtered_map:1116"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:1113" class="idref" href="#m:1113"><span class="id" title="binder">m</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> '<a id="pat:1115" class="idref" href="#pat:1115"><span class="id" title="binder">(</span></a><a id="a:1114" class="idref" href="#a:1114"><span class="id" title="binder"><span id="pat:1115" class="id">a</span></span></a><a id="pat:1115" class="idref" href="#pat:1115"><span class="id" title="binder">,</span></a> <a id="pat:1115" class="idref" href="#pat:1115"><span class="id" title="binder">_</span></a><a id="pat:1115" class="idref" href="#pat:1115"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1114"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1105"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1113"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:1118" class="idref" href="#H0:1118"><span class="id" title="binder">memG</span></a> <a id="e2c9ce15f238dac6bb3848665514e9c2" class="idref" href="#e2c9ce15f238dac6bb3848665514e9c2"><span class="id" title="binder"><span id="H0:1118" class="id">Σ'</span></span></a>, <a id="H1:1119" class="idref" href="#H1:1119"><span class="id" title="binder">regG</span></a> <a id="H1:1119" class="idref" href="#H1:1119"><span class="id" title="binder">Σ'</span></a>, <a id="H2:1120" class="idref" href="#H2:1120"><span class="id" title="binder">sealStoreG</span></a> <a id="H2:1120" class="idref" href="#H2:1120"><span class="id" title="binder">Σ'</span></a>, <a id="H3:1121" class="idref" href="#H3:1121"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H3:1121" class="idref" href="#H3:1121"><span class="id" title="binder">Σ'</span></a>, <a id="H4:1122" class="idref" href="#H4:1122"><span class="id" title="binder">subG</span></a> <a id="H4:1122" class="idref" href="#H4:1122"><span class="id" title="binder">Σ</span></a> <a id="H4:1122" class="idref" href="#H4:1122"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:1123" class="idref" href="#rmap:1123"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1123"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><span class="id" title="notation">;</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1106"><span class="id" title="variable">r_adv</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="definition">inv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1105"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="definition">na_own</span> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <span class="id" title="notation">⊤</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:1106"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="r:1124" class="idref" href="#r:1124"><span class="id" title="binder"><span id="r:1125" class="id">r</span></span></a><span class="id" title="notation">↦</span><a id="w:1126" class="idref" href="#w:1126"><span class="id" title="binder"><span id="w:1127" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:1123"><span class="id" title="variable">rmap</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:1124"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1126"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.machine_base.html#is_z"><span class="id" title="definition">is_z</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1126"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><span class="id" title="notation">⌝</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1128" class="idref" href="#a:1128"><span class="id" title="binder"><span id="a:1129" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1130" class="idref" href="#w:1130"><span class="id" title="binder"><span id="w:1131" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:1103"><span class="id" title="variable">P_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1128"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1130"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1132" class="idref" href="#a:1132"><span class="id" title="binder"><span id="a:1133" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1134" class="idref" href="#w:1134"><span class="id" title="binder"><span id="w:1135" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:1100"><span class="id" title="variable">P</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1132"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1134"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1136" class="idref" href="#a:1136"><span class="id" title="binder"><span id="a:1137" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1138" class="idref" href="#w:1138"><span class="id" title="binder"><span id="w:1139" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:1104"><span class="id" title="variable">Adv_tbl</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1136"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1138"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1140" class="idref" href="#a:1140"><span class="id" title="binder"><span id="a:1141" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1142" class="idref" href="#w:1142"><span class="id" title="binder"><span id="w:1143" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:1101"><span class="id" title="variable">Adv</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1140"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1142"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1144" class="idref" href="#a:1144"><span class="id" title="binder"><span id="a:1145" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1146" class="idref" href="#w:1146"><span class="id" title="binder"><span id="w:1147" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1144"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1146"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">map</span><span class="id" title="notation">]</span> <a id="a:1148" class="idref" href="#a:1148"><span class="id" title="binder"><span id="a:1149" class="id">a</span></span></a><span class="id" title="notation">↦</span><a id="w:1150" class="idref" href="#w:1150"><span class="id" title="binder"><span id="w:1151" class="id">w</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:1116"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:1102"><span class="id" title="variable">Lib</span></a>))<span class="id" title="notation">,</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:1148"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:1150"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span> <span class="id" title="notation">WP</span> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <span class="id" title="notation">{{</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="notation">True</span> <span class="id" title="notation">}}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="inductive">rtc</span> <span class="id" title="definition">erased_step</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:1109"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:1107"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:1111"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':1110"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':1108"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:1105"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':1108"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?????? <span class="id" title="var">Hwp</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints.template_adequacy"><span class="id" title="axiom">template_adequacy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span>); [<span class="id" title="tactic">eauto</span>..| | | <span class="id" title="tactic">exact</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assert</span> (0 <a class="idref" href="cap_machine.addr_reg.html#bed45a3de08a66515929dfb5f3ba671d"><span class="id" title="notation">&lt;=</span></a> 0)%<span class="id" title="var">ot</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>. <span class="id" title="var">iIntros</span> "Hyp".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">Hwp</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[_ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">iDestruct</span> "Hyp" <span class="id" title="keyword">as</span> "[$ Hyp]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "∗".<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link_ints"><span class="id" title="module">with_adv_and_link_ints</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
