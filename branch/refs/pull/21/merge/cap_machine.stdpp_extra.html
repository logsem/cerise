<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.stdpp_extra</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#"><span class="id" title="library">countable</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#"><span class="id" title="library">list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_to_map_lookup_is_Some" class="idref" href="#list_to_map_lookup_is_Some"><span class="id" title="lemma">list_to_map_lookup_is_Some</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> <a id="B:2" class="idref" href="#B:2"><span class="id" title="binder">B</span></a>} `{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">Countable</span></a> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:5" class="idref" href="#EqDecision1:5"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:5" class="idref" href="#EqDecision1:5"><span class="id" title="binder">A</span></a>} (<a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:2"><span class="id" title="variable">B</span></a>)) (<a id="a:7" class="idref" href="#a:7"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:1"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:6"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:2"><span class="id" title="variable">B</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:7"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:7"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:6"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_is_Some'"><span class="id" title="lemma">lookup_insert_is_Some'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>]; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="zip_app" class="idref" href="#zip_app"><span class="id" title="lemma">zip_app</span></a> {<a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a> <a id="B:9" class="idref" href="#B:9"><span class="id" title="binder">B</span></a>} (<a id="l1:10" class="idref" href="#l1:10"><span class="id" title="binder">l1</span></a> <a id="l1':11" class="idref" href="#l1':11"><span class="id" title="binder">l1'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:8"><span class="id" title="variable">A</span></a>) (<a id="l2:12" class="idref" href="#l2:12"><span class="id" title="binder">l2</span></a> <a id="l2':13" class="idref" href="#l2':13"><span class="id" title="binder">l2'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:9"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:10"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:12"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:10"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1':11"><span class="id" title="variable">l1'</span></a>) (<a class="idref" href="cap_machine.stdpp_extra.html#l2:12"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2':13"><span class="id" title="variable">l2'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:10"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:12"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1':11"><span class="id" title="variable">l1'</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2':13"><span class="id" title="variable">l2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>;[|<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>]. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>|]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_zip_l" class="idref" href="#length_zip_l"><span class="id" title="lemma">length_zip_l</span></a> {<a id="A:14" class="idref" href="#A:14"><span class="id" title="binder">A</span></a> <a id="B:15" class="idref" href="#B:15"><span class="id" title="binder">B</span></a>} (<a id="l1:16" class="idref" href="#l1:16"><span class="id" title="binder">l1</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:14"><span class="id" title="variable">A</span></a>) (<a id="l2:17" class="idref" href="#l2:17"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:15"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:16"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:17"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:16"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:17"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:16"><span class="id" title="variable">l1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hl2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl2</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl1</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_filter_forall" class="idref" href="#list_filter_forall"><span class="id" title="lemma">list_filter_forall</span></a> { <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span> } (<a id="P:19" class="idref" href="#P:19"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{ <a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">forall</span></a> <a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">x</span></a><a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">,</span></a> <a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">Decision</span></a> <a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">(</span></a><a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">P</span></a> <a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">x</span></a><a id="H:21" class="idref" href="#H:21"><span class="id" title="binder">)</span></a> } <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#P:19"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:22"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_filter"><span class="id" title="instance">list_filter</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.stdpp_extra.html#P:19"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.stdpp_extra.html#l:22"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:22"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)); <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dom_map_imap_full" class="idref" href="#dom_map_imap_full"><span class="id" title="lemma">dom_map_imap_full</span></a> {<a id="K:23" class="idref" href="#K:23"><span class="id" title="binder">K</span></a> <a id="A:24" class="idref" href="#A:24"><span class="id" title="binder">A</span></a> <a id="B:25" class="idref" href="#B:25"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">Countable</span></a> <a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:28" class="idref" href="#EqDecision1:28"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:28" class="idref" href="#EqDecision1:28"><span class="id" title="binder">A</span></a>, <a id="H0:30" class="idref" href="#H0:30"><span class="id" title="binder">Countable</span></a> <a id="H0:30" class="idref" href="#H0:30"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:31" class="idref" href="#EqDecision3:31"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:31" class="idref" href="#EqDecision3:31"><span class="id" title="binder">B</span></a>, <a id="H1:33" class="idref" href="#H1:33"><span class="id" title="binder">Countable</span></a> <a id="H1:33" class="idref" href="#H1:33"><span class="id" title="binder">K</span></a>, <a id="EqDecision5:34" class="idref" href="#EqDecision5:34"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision5:34" class="idref" href="#EqDecision5:34"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:35" class="idref" href="#f:35"><span class="id" title="binder">f</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#K:23"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:24"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:25"><span class="id" title="variable">B</span></a>) (<a id="m:36" class="idref" href="#m:36"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:23"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:24"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="k:37" class="idref" href="#k:37"><span class="id" title="binder">k</span></a> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:36"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:37"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#f:35"><span class="id" title="variable">f</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:37"><span class="id" title="variable">k</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:38"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#f:35"><span class="id" title="variable">f</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:36"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:36"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#set_eq"><span class="id" title="lemma">set_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmk</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">k</span> <span class="id" title="var">a</span> <span class="id" title="var">Hmk</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hfk</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfk</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dom_list_to_map_singleton" class="idref" href="#dom_list_to_map_singleton"><span class="id" title="lemma">dom_list_to_map_singleton</span></a> {<a id="K:39" class="idref" href="#K:39"><span class="id" title="binder">K</span></a> <a id="V:40" class="idref" href="#V:40"><span class="id" title="binder">V</span></a>: <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:41" class="idref" href="#EqDecision0:41"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:41" class="idref" href="#EqDecision0:41"><span class="id" title="binder">K</span></a>, <a id="H:43" class="idref" href="#H:43"><span class="id" title="binder">Countable</span></a> <a id="H:43" class="idref" href="#H:43"><span class="id" title="binder">K</span></a>} (<a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a>:<a class="idref" href="cap_machine.stdpp_extra.html#K:39"><span class="id" title="variable">K</span></a>) (<a id="y:45" class="idref" href="#y:45"><span class="id" title="binder">y</span></a>:<a class="idref" href="cap_machine.stdpp_extra.html#V:40"><span class="id" title="variable">V</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#x:44"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:45"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:39"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:40"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#x:44"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_insert_L"><span class="id" title="lemma">dom_insert_L</span></a> /= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_empty_L"><span class="id" title="lemma">dom_empty_L</span></a>. <span class="id" title="var">set_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_to_set_disj" class="idref" href="#list_to_set_disj"><span class="id" title="lemma">list_to_set_disj</span></a> {<a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a>} `{<a id="H:48" class="idref" href="#H:48"><span class="id" title="binder">Countable</span></a> <a id="H:48" class="idref" href="#H:48"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:49" class="idref" href="#EqDecision1:49"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:49" class="idref" href="#EqDecision1:49"><span class="id" title="binder">A</span></a>} (<a id="l1:50" class="idref" href="#l1:50"><span class="id" title="binder">l1</span></a> <a id="l2:51" class="idref" href="#l2:51"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:46"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l1:50"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:51"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:50"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:46"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:51"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_list_to_set"><span class="id" title="lemma">elem_of_list_to_set</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span> |- *. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_to_list_fst" class="idref" href="#map_to_list_fst"><span class="id" title="lemma">map_to_list_fst</span></a> {<a id="A:52" class="idref" href="#A:52"><span class="id" title="binder">A</span></a> <a id="B:53" class="idref" href="#B:53"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:54" class="idref" href="#EqDecision0:54"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:54" class="idref" href="#EqDecision0:54"><span class="id" title="binder">A</span></a>, <a id="H:56" class="idref" href="#H:56"><span class="id" title="binder">Countable</span></a> <a id="H:56" class="idref" href="#H:56"><span class="id" title="binder">A</span></a>} (<a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:52"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:53"><span class="id" title="variable">B</span></a>) <a id="i:58" class="idref" href="#i:58"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:57"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#i:58"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.stdpp_extra.html#x:59"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:57"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#not_elem_of_list_to_map"><span class="id" title="lemma">not_elem_of_list_to_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hix</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="drop_S'" class="idref" href="#drop_S'"><span class="id" title="lemma">drop_S'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="A:60" class="idref" href="#A:60"><span class="id" title="binder">A</span></a> <a id="l:61" class="idref" href="#l:61"><span class="id" title="binder">l</span></a> <a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> (<a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:60"><span class="id" title="variable">A</span></a>) <a id="l':64" class="idref" href="#l':64"><span class="id" title="binder">l'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:61"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:63"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l':64"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#n:62"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#l:61"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l':64"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop_nil"><span class="id" title="lemma">drop_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop_0"><span class="id" title="lemma">drop_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_nil_l" class="idref" href="#disjoint_nil_l"><span class="id" title="lemma">disjoint_nil_l</span></a> {<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:66" class="idref" href="#EqDecision0:66"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:66" class="idref" href="#EqDecision0:66"><span class="id" title="binder">A</span></a>} (<a id="a:67" class="idref" href="#a:67"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:65"><span class="id" title="variable">A</span></a>) (<a id="l2:68" class="idref" href="#l2:68"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:65"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:68"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_nil_r" class="idref" href="#disjoint_nil_r"><span class="id" title="lemma">disjoint_nil_r</span></a> {<a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:70" class="idref" href="#EqDecision0:70"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:70" class="idref" href="#EqDecision0:70"><span class="id" title="binder">A</span></a>} (<a id="a:71" class="idref" href="#a:71"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:69"><span class="id" title="variable">A</span></a>) (<a id="l2:72" class="idref" href="#l2:72"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:69"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l2:72"><span class="id" title="variable">l2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_cons" class="idref" href="#disjoint_cons"><span class="id" title="lemma">disjoint_cons</span></a> {<a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:74" class="idref" href="#EqDecision0:74"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:74" class="idref" href="#EqDecision0:74"><span class="id" title="binder">A</span></a>} (<a id="a:75" class="idref" href="#a:75"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:73"><span class="id" title="variable">A</span></a>) (<a id="l1:76" class="idref" href="#l1:76"><span class="id" title="binder">l1</span></a> <a id="l2:77" class="idref" href="#l2:77"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:73"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:76"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:77"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:77"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a> =&gt;<span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>;<span class="id" title="tactic">auto</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_nil"><span class="id" title="lemma">elem_of_nil</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">a</span> <span class="id" title="var">Hs</span>). <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_weak" class="idref" href="#disjoint_weak"><span class="id" title="lemma">disjoint_weak</span></a> {<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:79" class="idref" href="#EqDecision0:79"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:79" class="idref" href="#EqDecision0:79"><span class="id" title="binder">A</span></a>} (<a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:78"><span class="id" title="variable">A</span></a>) (<a id="l1:81" class="idref" href="#l1:81"><span class="id" title="binder">l1</span></a> <a id="l2:82" class="idref" href="#l2:82"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:78"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#a:80"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:81"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:82"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:81"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:82"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a> =&gt;<span class="id" title="var">Ha</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">Hl2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a'</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>;<span class="id" title="tactic">auto</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_nil"><span class="id" title="lemma">elem_of_nil</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hl2</span>). <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_swap" class="idref" href="#disjoint_swap"><span class="id" title="lemma">disjoint_swap</span></a> {<a id="A:83" class="idref" href="#A:83"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:84" class="idref" href="#EqDecision0:84"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:84" class="idref" href="#EqDecision0:84"><span class="id" title="binder">A</span></a>} (<a id="a:85" class="idref" href="#a:85"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:83"><span class="id" title="variable">A</span></a>) (<a id="l1:86" class="idref" href="#l1:86"><span class="id" title="binder">l1</span></a> <a id="l2:87" class="idref" href="#l2:87"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:83"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:86"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:86"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:87"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:86"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:87"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_disjoint"><span class="id" title="lemma">elem_of_disjoint</span></a> =&gt;<span class="id" title="var">Hnin</span> <span class="id" title="var">Ha</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">Hl2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">with</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hl2</span>]; [<span class="id" title="var">contradiction</span>|].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;delete_list:&nbsp;delete&nbsp;a&nbsp;list&nbsp;of&nbsp;keys&nbsp;in&nbsp;a&nbsp;map&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="delete_list" class="idref" href="#delete_list"><span class="id" title="definition">delete_list</span></a> {<a id="K:88" class="idref" href="#K:88"><span class="id" title="binder">K</span></a> <a id="V:89" class="idref" href="#V:89"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:91" class="idref" href="#H:91"><span class="id" title="binder">Countable</span></a> <a id="H:91" class="idref" href="#H:91"><span class="id" title="binder">K</span></a>, <a id="EqDecision1:92" class="idref" href="#EqDecision1:92"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:92" class="idref" href="#EqDecision1:92"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ks:93" class="idref" href="#ks:93"><span class="id" title="binder">ks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:88"><span class="id" title="variable">K</span></a>) (<a id="m:94" class="idref" href="#m:94"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:88"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:89"><span class="id" title="variable">V</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:88"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:89"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.stdpp_extra.html#ks:93"><span class="id" title="variable">ks</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ks'</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">k</span> (<a class="idref" href="cap_machine.stdpp_extra.html#delete_list:95"><span class="id" title="definition">delete_list</span></a> <span class="id" title="var">ks'</span> <a class="idref" href="cap_machine.stdpp_extra.html#m:94"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="cap_machine.stdpp_extra.html#m:94"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delete_list_insert" class="idref" href="#delete_list_insert"><span class="id" title="lemma">delete_list_insert</span></a> {<a id="K:97" class="idref" href="#K:97"><span class="id" title="binder">K</span></a> <a id="V:98" class="idref" href="#V:98"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:100" class="idref" href="#H:100"><span class="id" title="binder">Countable</span></a> <a id="H:100" class="idref" href="#H:100"><span class="id" title="binder">K</span></a>, <a id="EqDecision1:101" class="idref" href="#EqDecision1:101"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:101" class="idref" href="#EqDecision1:101"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ks:102" class="idref" href="#ks:102"><span class="id" title="binder">ks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:97"><span class="id" title="variable">K</span></a>) (<a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:97"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:98"><span class="id" title="variable">V</span></a>) (<a id="l:104" class="idref" href="#l:104"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#K:97"><span class="id" title="variable">K</span></a>) (<a id="v:105" class="idref" href="#v:105"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#V:98"><span class="id" title="variable">V</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l:104"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:102"><span class="id" title="variable">ks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:102"><span class="id" title="variable">ks</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l:104"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="cap_machine.stdpp_extra.html#v:105"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l:104"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="cap_machine.stdpp_extra.html#v:105"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">delete_list</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">ks</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ks</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> <span class="id" title="var">Hnin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#delete_insert_ne"><span class="id" title="lemma">delete_insert_ne</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHks</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delete_list_delete" class="idref" href="#delete_list_delete"><span class="id" title="lemma">delete_list_delete</span></a> {<a id="K:106" class="idref" href="#K:106"><span class="id" title="binder">K</span></a> <a id="V:107" class="idref" href="#V:107"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:109" class="idref" href="#H:109"><span class="id" title="binder">Countable</span></a> <a id="H:109" class="idref" href="#H:109"><span class="id" title="binder">K</span></a>, <a id="EqDecision1:110" class="idref" href="#EqDecision1:110"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:110" class="idref" href="#EqDecision1:110"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ks:111" class="idref" href="#ks:111"><span class="id" title="binder">ks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:106"><span class="id" title="variable">K</span></a>) (<a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:106"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:107"><span class="id" title="variable">V</span></a>) (<a id="l:113" class="idref" href="#l:113"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#K:106"><span class="id" title="variable">K</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l:113"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:111"><span class="id" title="variable">ks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:111"><span class="id" title="variable">ks</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:113"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:112"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:113"><span class="id" title="variable">l</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:111"><span class="id" title="variable">ks</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:112"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ks</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> <span class="id" title="var">Hnin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#delete_commute"><span class="id" title="lemma">delete_commute</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHks</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_delete_list_notin" class="idref" href="#lookup_delete_list_notin"><span class="id" title="lemma">lookup_delete_list_notin</span></a> {<a id="K:114" class="idref" href="#K:114"><span class="id" title="binder">K</span></a> <a id="V:115" class="idref" href="#V:115"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:117" class="idref" href="#H:117"><span class="id" title="binder">Countable</span></a> <a id="H:117" class="idref" href="#H:117"><span class="id" title="binder">K</span></a>, <a id="EqDecision1:118" class="idref" href="#EqDecision1:118"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:118" class="idref" href="#EqDecision1:118"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ks:119" class="idref" href="#ks:119"><span class="id" title="binder">ks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:114"><span class="id" title="variable">K</span></a>) (<a id="m:120" class="idref" href="#m:120"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:114"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:115"><span class="id" title="variable">V</span></a>) (<a id="l:121" class="idref" href="#l:121"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#K:114"><span class="id" title="variable">K</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l:121"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:119"><span class="id" title="variable">ks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#ks:119"><span class="id" title="variable">ks</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:120"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:121"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:120"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:121"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">ks</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delete_list_permutation" class="idref" href="#delete_list_permutation"><span class="id" title="lemma">delete_list_permutation</span></a> {<a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a> <a id="B:123" class="idref" href="#B:123"><span class="id" title="binder">B</span></a>} `{<a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">Countable</span></a> <a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:126" class="idref" href="#EqDecision1:126"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:126" class="idref" href="#EqDecision1:126"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:127" class="idref" href="#l1:127"><span class="id" title="binder">l1</span></a> <a id="l2:128" class="idref" href="#l2:128"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:122"><span class="id" title="variable">A</span></a>) (<a id="m:129" class="idref" href="#m:129"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:122"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:123"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l1:127"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:128"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:127"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:129"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:128"><span class="id" title="variable">l2</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:129"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHPermutation</span> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#delete_commute"><span class="id" title="lemma">delete_commute</span></a> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHPermutation1</span> //. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delete_list_swap" class="idref" href="#delete_list_swap"><span class="id" title="lemma">delete_list_swap</span></a> {<a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a> <a id="B:131" class="idref" href="#B:131"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:132" class="idref" href="#EqDecision0:132"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:132" class="idref" href="#EqDecision0:132"><span class="id" title="binder">A</span></a>, <a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">Countable</span></a> <a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:135" class="idref" href="#a:135"><span class="id" title="binder">a</span></a> <a id="a':136" class="idref" href="#a':136"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:130"><span class="id" title="variable">A</span></a>) (<a id="l1:137" class="idref" href="#l1:137"><span class="id" title="binder">l1</span></a> <a id="l2:138" class="idref" href="#l2:138"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:130"><span class="id" title="variable">A</span></a>) (<a id="M:139" class="idref" href="#M:139"><span class="id" title="binder">M</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:130"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:131"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a':136"><span class="id" title="variable">a'</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:137"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:135"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:138"><span class="id" title="variable">l2</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#M:139"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:135"><span class="id" title="variable">a</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a':136"><span class="id" title="variable">a'</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:137"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:138"><span class="id" title="variable">l2</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#M:139"><span class="id" title="variable">M</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#delete_commute"><span class="id" title="lemma">delete_commute</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#delete_commute"><span class="id" title="lemma">delete_commute</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Map&nbsp;difference&nbsp;for&nbsp;heterogeneous&nbsp;maps,&nbsp;and&nbsp;lemmas&nbsp;relating&nbsp;it&nbsp;to&nbsp;delete_list&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_difference_het" class="idref" href="#map_difference_het"><span class="id" title="definition">map_difference_het</span></a><br/>
&nbsp;&nbsp;{<a id="A:140" class="idref" href="#A:140"><span class="id" title="binder">A</span></a> <a id="B:141" class="idref" href="#B:141"><span class="id" title="binder">B</span></a> <a id="C:142" class="idref" href="#C:142"><span class="id" title="binder">C</span></a>} `{<a id="H:144" class="idref" href="#H:144"><span class="id" title="binder">Countable</span></a> <a id="H:144" class="idref" href="#H:144"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:145" class="idref" href="#EqDecision1:145"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:145" class="idref" href="#EqDecision1:145"><span class="id" title="binder">A</span></a>, <a id="H0:147" class="idref" href="#H0:147"><span class="id" title="binder">Countable</span></a> <a id="H0:147" class="idref" href="#H0:147"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:148" class="idref" href="#EqDecision3:148"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:148" class="idref" href="#EqDecision3:148"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;(<a id="m1:149" class="idref" href="#m1:149"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:140"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:141"><span class="id" title="variable">B</span></a>) (<a id="m2:150" class="idref" href="#m2:150"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:140"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:142"><span class="id" title="variable">C</span></a>): <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:140"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:141"><span class="id" title="variable">B</span></a><br/>
:=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">(</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">k</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">,</span></a> <a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">v</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.stdpp_extra.html#m2:150"><span class="id" title="variable">m2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:152"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#m1:149"><span class="id" title="variable">m1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="e59c59f7717be00f8d97e3ac563ecaf2" class="idref" href="#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">&quot;</span></a>m1 ∖∖ m2" := (<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_eq'" class="idref" href="#map_eq'"><span class="id" title="lemma">map_eq'</span></a> {<a id="A:154" class="idref" href="#A:154"><span class="id" title="binder">A</span></a> <a id="B:155" class="idref" href="#B:155"><span class="id" title="binder">B</span></a>} `{<a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">Countable</span></a> <a id="H:157" class="idref" href="#H:157"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:158" class="idref" href="#EqDecision1:158"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:158" class="idref" href="#EqDecision1:158"><span class="id" title="binder">A</span></a>, <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">Countable</span></a> <a id="H0:160" class="idref" href="#H0:160"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:161" class="idref" href="#EqDecision3:161"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:161" class="idref" href="#EqDecision3:161"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;(<a id="m1:162" class="idref" href="#m1:162"><span class="id" title="binder">m1</span></a> <a id="m2:163" class="idref" href="#m2:163"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:155"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#m1:162"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:163"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="k:164" class="idref" href="#k:164"><span class="id" title="binder">k</span></a> <a id="v:165" class="idref" href="#v:165"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:162"><span class="id" title="variable">m1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:164"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:165"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:163"><span class="id" title="variable">m2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:164"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:165"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HHH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HHH</span>. <span class="id" title="tactic">congruence</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_lookup_Some" class="idref" href="#difference_het_lookup_Some"><span class="id" title="lemma">difference_het_lookup_Some</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a> <a id="B:167" class="idref" href="#B:167"><span class="id" title="binder">B</span></a> <a id="C:168" class="idref" href="#C:168"><span class="id" title="binder">C</span></a>} `{<a id="H:170" class="idref" href="#H:170"><span class="id" title="binder">Countable</span></a> <a id="H:170" class="idref" href="#H:170"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:171" class="idref" href="#EqDecision1:171"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:171" class="idref" href="#EqDecision1:171"><span class="id" title="binder">A</span></a>, <a id="H0:173" class="idref" href="#H0:173"><span class="id" title="binder">Countable</span></a> <a id="H0:173" class="idref" href="#H0:173"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:174" class="idref" href="#EqDecision3:174"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:174" class="idref" href="#EqDecision3:174"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:175" class="idref" href="#m1:175"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:166"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:167"><span class="id" title="variable">B</span></a>) (<a id="m2:176" class="idref" href="#m2:176"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:166"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:168"><span class="id" title="variable">C</span></a>) (<a id="k:177" class="idref" href="#k:177"><span class="id" title="binder">k</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:166"><span class="id" title="variable">A</span></a>) (<a id="v:178" class="idref" href="#v:178"><span class="id" title="binder">v</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#B:167"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#m1:175"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:176"><span class="id" title="variable">m2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:177"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:178"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:175"><span class="id" title="variable">m1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:177"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:178"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:176"><span class="id" title="variable">m2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:177"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_lookup_None" class="idref" href="#difference_het_lookup_None"><span class="id" title="lemma">difference_het_lookup_None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:179" class="idref" href="#A:179"><span class="id" title="binder">A</span></a> <a id="B:180" class="idref" href="#B:180"><span class="id" title="binder">B</span></a> <a id="C:181" class="idref" href="#C:181"><span class="id" title="binder">C</span></a>} `{<a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">Countable</span></a> <a id="H:183" class="idref" href="#H:183"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:184" class="idref" href="#EqDecision1:184"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:184" class="idref" href="#EqDecision1:184"><span class="id" title="binder">A</span></a>, <a id="H0:186" class="idref" href="#H0:186"><span class="id" title="binder">Countable</span></a> <a id="H0:186" class="idref" href="#H0:186"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:187" class="idref" href="#EqDecision3:187"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:187" class="idref" href="#EqDecision3:187"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:188" class="idref" href="#m1:188"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:179"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:180"><span class="id" title="variable">B</span></a>) (<a id="m2:189" class="idref" href="#m2:189"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:179"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:181"><span class="id" title="variable">C</span></a>) (<a id="k:190" class="idref" href="#k:190"><span class="id" title="binder">k</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:179"><span class="id" title="variable">A</span></a>) (<a id="v:191" class="idref" href="#v:191"><span class="id" title="binder">v</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#B:180"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#m1:188"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:189"><span class="id" title="variable">m2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:190"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:188"><span class="id" title="variable">m1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:190"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#m2:189"><span class="id" title="variable">m2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:190"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_None"><span class="id" title="lemma">map_filter_lookup_None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HH1</span>|<span class="id" title="var">HH2</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH2</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">congruence</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_empty" class="idref" href="#difference_het_empty"><span class="id" title="lemma">difference_het_empty</span></a><br/>
&nbsp;&nbsp;{<a id="A:192" class="idref" href="#A:192"><span class="id" title="binder">A</span></a> <a id="B:193" class="idref" href="#B:193"><span class="id" title="binder">B</span></a> <a id="C:194" class="idref" href="#C:194"><span class="id" title="binder">C</span></a>} `{<a id="H:196" class="idref" href="#H:196"><span class="id" title="binder">Countable</span></a> <a id="H:196" class="idref" href="#H:196"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:197" class="idref" href="#EqDecision1:197"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:197" class="idref" href="#EqDecision1:197"><span class="id" title="binder">A</span></a>, <a id="H0:199" class="idref" href="#H0:199"><span class="id" title="binder">Countable</span></a> <a id="H0:199" class="idref" href="#H0:199"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:200" class="idref" href="#EqDecision3:200"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:200" class="idref" href="#EqDecision3:200"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;(<a id="m:201" class="idref" href="#m:201"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:192"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:193"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#m:201"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:192"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:194"><span class="id" title="variable">C</span></a><a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:201"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#map_eq'"><span class="id" title="axiom">map_eq'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="difference_het_eq_empty" class="idref" href="#difference_het_eq_empty"><span class="id" title="lemma">difference_het_eq_empty</span></a><br/>
&nbsp;&nbsp;{<a id="A:202" class="idref" href="#A:202"><span class="id" title="binder">A</span></a> <a id="B:203" class="idref" href="#B:203"><span class="id" title="binder">B</span></a>} `{<a id="H:205" class="idref" href="#H:205"><span class="id" title="binder">Countable</span></a> <a id="H:205" class="idref" href="#H:205"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:206" class="idref" href="#EqDecision1:206"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:206" class="idref" href="#EqDecision1:206"><span class="id" title="binder">A</span></a>, <a id="H0:208" class="idref" href="#H0:208"><span class="id" title="binder">Countable</span></a> <a id="H0:208" class="idref" href="#H0:208"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:209" class="idref" href="#EqDecision3:209"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:209" class="idref" href="#EqDecision3:209"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;(<a id="m:210" class="idref" href="#m:210"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:203"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#m:210"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:210"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:203"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#map_eq'"><span class="id" title="axiom">map_eq'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_insert_r" class="idref" href="#difference_het_insert_r"><span class="id" title="lemma">difference_het_insert_r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:211" class="idref" href="#A:211"><span class="id" title="binder">A</span></a> <a id="B:212" class="idref" href="#B:212"><span class="id" title="binder">B</span></a> <a id="C:213" class="idref" href="#C:213"><span class="id" title="binder">C</span></a>} `{<a id="H:215" class="idref" href="#H:215"><span class="id" title="binder">Countable</span></a> <a id="H:215" class="idref" href="#H:215"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:216" class="idref" href="#EqDecision1:216"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:216" class="idref" href="#EqDecision1:216"><span class="id" title="binder">A</span></a>, <a id="H0:218" class="idref" href="#H0:218"><span class="id" title="binder">Countable</span></a> <a id="H0:218" class="idref" href="#H0:218"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:219" class="idref" href="#EqDecision3:219"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:219" class="idref" href="#EqDecision3:219"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:220" class="idref" href="#m1:220"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:211"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:212"><span class="id" title="variable">B</span></a>) (<a id="m2:221" class="idref" href="#m2:221"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:211"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:213"><span class="id" title="variable">C</span></a>) (<a id="k:222" class="idref" href="#k:222"><span class="id" title="binder">k</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:211"><span class="id" title="variable">A</span></a>) (<a id="v:223" class="idref" href="#v:223"><span class="id" title="binder">v</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#C:213"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#m1:220"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:222"><span class="id" title="variable">k</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:223"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m2</span></a><a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:222"><span class="id" title="variable">k</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#m1:220"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:221"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#map_eq'"><span class="id" title="axiom">map_eq'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_None"><span class="id" title="lemma">lookup_insert_None</span></a>. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_insert_l" class="idref" href="#difference_het_insert_l"><span class="id" title="lemma">difference_het_insert_l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:224" class="idref" href="#A:224"><span class="id" title="binder">A</span></a> <a id="B:225" class="idref" href="#B:225"><span class="id" title="binder">B</span></a> <a id="C:226" class="idref" href="#C:226"><span class="id" title="binder">C</span></a>} `{<a id="H:228" class="idref" href="#H:228"><span class="id" title="binder">Countable</span></a> <a id="H:228" class="idref" href="#H:228"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:229" class="idref" href="#EqDecision1:229"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:229" class="idref" href="#EqDecision1:229"><span class="id" title="binder">A</span></a>, <a id="H0:231" class="idref" href="#H0:231"><span class="id" title="binder">Countable</span></a> <a id="H0:231" class="idref" href="#H0:231"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:232" class="idref" href="#EqDecision3:232"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:232" class="idref" href="#EqDecision3:232"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:233" class="idref" href="#m1:233"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:224"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:225"><span class="id" title="variable">B</span></a>) (<a id="m2:234" class="idref" href="#m2:234"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:224"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:226"><span class="id" title="variable">C</span></a>) (<a id="k:235" class="idref" href="#k:235"><span class="id" title="binder">k</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:224"><span class="id" title="variable">A</span></a>) (<a id="v:236" class="idref" href="#v:236"><span class="id" title="binder">v</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#B:225"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#m2:234"><span class="id" title="variable">m2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:235"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:235"><span class="id" title="variable">k</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:236"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:234"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:235"><span class="id" title="variable">k</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:236"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">m2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#map_eq'"><span class="id" title="axiom">map_eq'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_insert_True"><span class="id" title="lemma">map_filter_insert_True</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_het_delete_assoc" class="idref" href="#difference_het_delete_assoc"><span class="id" title="lemma">difference_het_delete_assoc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:237" class="idref" href="#A:237"><span class="id" title="binder">A</span></a> <a id="B:238" class="idref" href="#B:238"><span class="id" title="binder">B</span></a> <a id="C:239" class="idref" href="#C:239"><span class="id" title="binder">C</span></a>} `{<a id="H:241" class="idref" href="#H:241"><span class="id" title="binder">Countable</span></a> <a id="H:241" class="idref" href="#H:241"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:242" class="idref" href="#EqDecision1:242"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:242" class="idref" href="#EqDecision1:242"><span class="id" title="binder">A</span></a>, <a id="H0:244" class="idref" href="#H0:244"><span class="id" title="binder">Countable</span></a> <a id="H0:244" class="idref" href="#H0:244"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:245" class="idref" href="#EqDecision3:245"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:245" class="idref" href="#EqDecision3:245"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:246" class="idref" href="#m1:246"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:237"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:238"><span class="id" title="variable">B</span></a>) (<a id="m2:247" class="idref" href="#m2:247"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:237"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:239"><span class="id" title="variable">C</span></a>) (<a id="k:248" class="idref" href="#k:248"><span class="id" title="binder">k</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#A:237"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:248"><span class="id" title="variable">k</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#m1:246"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:247"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:248"><span class="id" title="variable">k</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:246"><span class="id" title="variable">m1</span></a><a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:247"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.stdpp_extra.html#map_difference_het"><span class="id" title="definition">map_difference_het</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#map_eq'"><span class="id" title="axiom">map_eq'</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_delete"><span class="id" title="lemma">map_filter_delete</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dom_difference_het" class="idref" href="#dom_difference_het"><span class="id" title="lemma">dom_difference_het</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:249" class="idref" href="#A:249"><span class="id" title="binder">A</span></a> <a id="B:250" class="idref" href="#B:250"><span class="id" title="binder">B</span></a> <a id="C:251" class="idref" href="#C:251"><span class="id" title="binder">C</span></a>} `{<a id="H:253" class="idref" href="#H:253"><span class="id" title="binder">Countable</span></a> <a id="H:253" class="idref" href="#H:253"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:254" class="idref" href="#EqDecision1:254"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:254" class="idref" href="#EqDecision1:254"><span class="id" title="binder">A</span></a>, <a id="H0:256" class="idref" href="#H0:256"><span class="id" title="binder">Countable</span></a> <a id="H0:256" class="idref" href="#H0:256"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:257" class="idref" href="#EqDecision3:257"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:257" class="idref" href="#EqDecision3:257"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:258" class="idref" href="#m1:258"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:249"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:250"><span class="id" title="variable">B</span></a>) (<a id="m2:259" class="idref" href="#m2:259"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:249"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:251"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#m1:258"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:259"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:258"><span class="id" title="variable">m1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:259"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#subseteq"><span class="id" title="definition">subseteq</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_subseteq"><span class="id" title="lemma">elem_of_subseteq</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#difference_het_lookup_Some"><span class="id" title="lemma">difference_het_lookup_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_difference"><span class="id" title="method">elem_of_difference</span></a> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_subseteq"><span class="id" title="lemma">elem_of_subseteq</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_difference"><span class="id" title="method">elem_of_difference</span></a> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">v</span> ?] <span class="id" title="var">Hcontra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#difference_het_lookup_Some"><span class="id" title="lemma">difference_het_lookup_Some</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delete_elements_eq_difference_het" class="idref" href="#delete_elements_eq_difference_het"><span class="id" title="lemma">delete_elements_eq_difference_het</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:260" class="idref" href="#A:260"><span class="id" title="binder">A</span></a> <a id="B:261" class="idref" href="#B:261"><span class="id" title="binder">B</span></a> <a id="C:262" class="idref" href="#C:262"><span class="id" title="binder">C</span></a>} `{<a id="H:264" class="idref" href="#H:264"><span class="id" title="binder">Countable</span></a> <a id="H:264" class="idref" href="#H:264"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:265" class="idref" href="#EqDecision1:265"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:265" class="idref" href="#EqDecision1:265"><span class="id" title="binder">A</span></a>, <a id="H0:267" class="idref" href="#H0:267"><span class="id" title="binder">Countable</span></a> <a id="H0:267" class="idref" href="#H0:267"><span class="id" title="binder">B</span></a>, <a id="EqDecision3:268" class="idref" href="#EqDecision3:268"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision3:268" class="idref" href="#EqDecision3:268"><span class="id" title="binder">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:269" class="idref" href="#m1:269"><span class="id" title="binder">m1</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:260"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:261"><span class="id" title="variable">B</span></a>) (<a id="m2:270" class="idref" href="#m2:270"><span class="id" title="binder">m2</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:260"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#C:262"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:270"><span class="id" title="variable">m2</span></a>)) <a class="idref" href="cap_machine.stdpp_extra.html#m1:269"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m1:269"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#e59c59f7717be00f8d97e3ac563ecaf2"><span class="id" title="notation">∖∖</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m2:270"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">m2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">m2</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hl</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>. <span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">m1</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">m2</span>. <span class="id" title="var">revert</span> <span class="id" title="var">m2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_empty_L"><span class="id" title="lemma">dom_empty_L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_sets.html#elements_empty"><span class="id" title="lemma">elements_empty</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#difference_het_empty"><span class="id" title="axiom">difference_het_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Permutation_nil_r"><span class="id" title="lemma">Permutation_nil_r</span></a>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm2k</span> <span class="id" title="var">HI</span> <span class="id" title="var">m1</span> <span class="id" title="var">l</span> <span class="id" title="var">Hm1l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#difference_het_insert_r"><span class="id" title="axiom">difference_het_insert_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_insert"><span class="id" title="lemma">dom_insert</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm1l</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hm1l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_sets.html#elements_union_singleton"><span class="id" title="lemma">elements_union_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>; <span class="id" title="tactic">intros</span> [? ?]; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">k</span> (<a class="idref" href="cap_machine.stdpp_extra.html#delete_list"><span class="id" title="definition">delete_list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">m2</span>)) <span class="id" title="var">m1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#delete_list_permutation"><span class="id" title="axiom">delete_list_permutation</span></a>. 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HI</span>//. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;rtc&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_implies" class="idref" href="#rtc_implies"><span class="id" title="lemma">rtc_implies</span></a> {<a id="A:271" class="idref" href="#A:271"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:272" class="idref" href="#R:272"><span class="id" title="binder">R</span></a> <a id="Q:273" class="idref" href="#Q:273"><span class="id" title="binder">Q</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:271"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:271"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a> <a id="y:275" class="idref" href="#y:275"><span class="id" title="binder">y</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:271"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:276" class="idref" href="#r:276"><span class="id" title="binder">r</span></a> <a id="q:277" class="idref" href="#q:277"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:272"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#r:276"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#q:277"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#Q:273"><span class="id" title="variable">Q</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#r:276"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#q:277"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:272"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:275"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#Q:273"><span class="id" title="variable">Q</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:275"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Himpl</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Himpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_once"><span class="id" title="lemma">rtc_once</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_transitive"><span class="id" title="lemma">rtc_transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_or_intro" class="idref" href="#rtc_or_intro"><span class="id" title="lemma">rtc_or_intro</span></a> {<a id="A:278" class="idref" href="#A:278"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:279" class="idref" href="#R:279"><span class="id" title="binder">R</span></a> <a id="Q:280" class="idref" href="#Q:280"><span class="id" title="binder">Q</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:278"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:278"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="x:281" class="idref" href="#x:281"><span class="id" title="binder">x</span></a> <a id="y:282" class="idref" href="#y:282"><span class="id" title="binder">y</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:278"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:283" class="idref" href="#a:283"><span class="id" title="binder">a</span></a> <a id="b:284" class="idref" href="#b:284"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:279"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:283"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:284"><span class="id" title="variable">b</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#x:281"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:282"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:285" class="idref" href="#a:285"><span class="id" title="binder">a</span></a> <a id="b:286" class="idref" href="#b:286"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:279"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:285"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:286"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#Q:280"><span class="id" title="variable">Q</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:285"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:286"><span class="id" title="variable">b</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#x:281"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:282"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_transitive"><span class="id" title="lemma">rtc_transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_once"><span class="id" title="lemma">rtc_once</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_or_intro_l" class="idref" href="#rtc_or_intro_l"><span class="id" title="lemma">rtc_or_intro_l</span></a> {<a id="A:287" class="idref" href="#A:287"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:288" class="idref" href="#R:288"><span class="id" title="binder">R</span></a> <a id="Q:289" class="idref" href="#Q:289"><span class="id" title="binder">Q</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:287"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:287"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a> <a id="y:291" class="idref" href="#y:291"><span class="id" title="binder">y</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:287"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:292" class="idref" href="#a:292"><span class="id" title="binder">a</span></a> <a id="b:293" class="idref" href="#b:293"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:288"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:292"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:293"><span class="id" title="variable">b</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:291"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:294" class="idref" href="#a:294"><span class="id" title="binder">a</span></a> <a id="b:295" class="idref" href="#b:295"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#Q:289"><span class="id" title="variable">Q</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:294"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:295"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#R:288"><span class="id" title="variable">R</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:294"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:295"><span class="id" title="variable">b</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#y:291"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HR</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_transitive"><span class="id" title="lemma">rtc_transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc_once"><span class="id" title="lemma">rtc_once</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;<span class="comment">(*&nbsp;Helper&nbsp;lemmas&nbsp;on&nbsp;list&nbsp;differences&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_elem_of_list" class="idref" href="#not_elem_of_list"><span class="id" title="lemma">not_elem_of_list</span></a> {<a id="A:296" class="idref" href="#A:296"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:297" class="idref" href="#EqDecision0:297"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:297" class="idref" href="#EqDecision0:297"><span class="id" title="binder">A</span></a>} (<a id="a:298" class="idref" href="#a:298"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:296"><span class="id" title="variable">A</span></a>) (<a id="l:299" class="idref" href="#l:299"><span class="id" title="binder">l</span></a> <a id="x:300" class="idref" href="#x:300"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:296"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#a:298"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:300"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:298"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:299"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:300"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hax</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_difference"><span class="id" title="lemma">elem_of_list_difference</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hal</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span> <span class="id" title="var">Hax_not</span>].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_nil" class="idref" href="#list_difference_nil"><span class="id" title="lemma">list_difference_nil</span></a> {<a id="A:301" class="idref" href="#A:301"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:302" class="idref" href="#EqDecision0:302"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:302" class="idref" href="#EqDecision0:302"><span class="id" title="binder">A</span></a>} (<a id="l:303" class="idref" href="#l:303"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:301"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:303"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:303"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_length_cons" class="idref" href="#list_difference_length_cons"><span class="id" title="lemma">list_difference_length_cons</span></a> {<a id="A:304" class="idref" href="#A:304"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:305" class="idref" href="#EqDecision0:305"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:305" class="idref" href="#EqDecision0:305"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l2:306" class="idref" href="#l2:306"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:304"><span class="id" title="variable">A</span></a>) (<a id="a:307" class="idref" href="#a:307"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:304"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#a:307"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#a:307"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:306"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_here"><span class="id" title="constructor">elem_of_list_here</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>)); <span class="id" title="tactic">auto</span>; <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_skip" class="idref" href="#list_difference_skip"><span class="id" title="lemma">list_difference_skip</span></a> {<a id="A:308" class="idref" href="#A:308"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:309" class="idref" href="#EqDecision0:309"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:309" class="idref" href="#EqDecision0:309"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:310" class="idref" href="#l1:310"><span class="id" title="binder">l1</span></a> <a id="l2:311" class="idref" href="#l2:311"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:308"><span class="id" title="variable">A</span></a>) (<a id="b:312" class="idref" href="#b:312"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:308"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#b:312"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:310"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:310"><span class="id" title="variable">l1</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#b:312"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:311"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:310"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:311"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> <span class="id" title="var">Hl1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hl2</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne'</span> <span class="id" title="var">Hl2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_nested" class="idref" href="#list_difference_nested"><span class="id" title="lemma">list_difference_nested</span></a> {<a id="A:313" class="idref" href="#A:313"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:314" class="idref" href="#EqDecision0:314"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:314" class="idref" href="#EqDecision0:314"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:315" class="idref" href="#l1:315"><span class="id" title="binder">l1</span></a> <a id="l1':316" class="idref" href="#l1':316"><span class="id" title="binder">l1'</span></a> <a id="l2:317" class="idref" href="#l2:317"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:313"><span class="id" title="variable">A</span></a>) (<a id="b:318" class="idref" href="#b:318"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:313"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#b:318"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l1:315"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1':316"><span class="id" title="variable">l1'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:315"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#b:318"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1':316"><span class="id" title="variable">l1'</span></a>) (<a class="idref" href="cap_machine.stdpp_extra.html#b:318"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:317"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:315"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1':316"><span class="id" title="variable">l1'</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#l2:317"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">b</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_here"><span class="id" title="constructor">elem_of_list_here</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>)); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_skip"><span class="id" title="axiom">list_difference_skip</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnotin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> <span class="id" title="var">Hnotin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hl2</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne'</span> <span class="id" title="var">Hnotin'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_length_ni" class="idref" href="#list_difference_length_ni"><span class="id" title="lemma">list_difference_length_ni</span></a>  {<a id="A:319" class="idref" href="#A:319"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:320" class="idref" href="#EqDecision0:320"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:320" class="idref" href="#EqDecision0:320"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:321" class="idref" href="#l1:321"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:319"><span class="id" title="variable">A</span></a>) (<a id="b:322" class="idref" href="#b:322"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:319"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#b:322"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:321"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:321"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#b:322"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:321"><span class="id" title="variable">l1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hna</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hna</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hna</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hne</span> <span class="id" title="var">Hna</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_skip"><span class="id" title="axiom">list_difference_skip</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_nil"><span class="id" title="axiom">list_difference_nil</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_single_length" class="idref" href="#list_difference_single_length"><span class="id" title="lemma">list_difference_single_length</span></a> {<a id="A:323" class="idref" href="#A:323"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:324" class="idref" href="#EqDecision0:324"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:324" class="idref" href="#EqDecision0:324"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:325" class="idref" href="#l1:325"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:323"><span class="id" title="variable">A</span></a>) (<a id="b:326" class="idref" href="#b:326"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:323"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#b:326"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:325"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:325"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:325"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#b:326"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:325"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hndup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_here"><span class="id" title="constructor">elem_of_list_here</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hndup</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hndup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hni</span> <span class="id" title="var">Hndup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hni'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_here"><span class="id" title="constructor">elem_of_list_here</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_length_ni"><span class="id" title="axiom">list_difference_length_ni</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">first</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hndup</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Ha</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_app" class="idref" href="#list_difference_app"><span class="id" title="lemma">list_difference_app</span></a> {<a id="A:327" class="idref" href="#A:327"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:328" class="idref" href="#EqDecision0:328"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:328" class="idref" href="#EqDecision0:328"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l1:329" class="idref" href="#l1:329"><span class="id" title="binder">l1</span></a> <a id="l2:330" class="idref" href="#l2:330"><span class="id" title="binder">l2</span></a> <a id="l2':331" class="idref" href="#l2':331"><span class="id" title="binder">l2'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:327"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:329"><span class="id" title="variable">l1</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l2:330"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2':331"><span class="id" title="variable">l2'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:329"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:330"><span class="id" title="variable">l2</span></a>) <a class="idref" href="cap_machine.stdpp_extra.html#l2':331"><span class="id" title="variable">l2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> (<span class="id" title="var">l2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l2'</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_app"><span class="id" title="lemma">elem_of_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl2</span> | <span class="id" title="var">Hl2'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2'</span>); <span class="id" title="var">last</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_app"><span class="id" title="lemma">not_elem_of_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl2</span> <span class="id" title="var">Hl2'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2'</span>); <span class="id" title="tactic">first</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_Permutation" class="idref" href="#list_difference_Permutation"><span class="id" title="lemma">list_difference_Permutation</span></a> {<a id="A:332" class="idref" href="#A:332"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:333" class="idref" href="#EqDecision0:333"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:333" class="idref" href="#EqDecision0:333"><span class="id" title="binder">A</span></a>} (<a id="l:334" class="idref" href="#l:334"><span class="id" title="binder">l</span></a> <a id="l1:335" class="idref" href="#l1:335"><span class="id" title="binder">l1</span></a> <a id="l2:336" class="idref" href="#l2:336"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:332"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l1:335"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:336"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:335"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:336"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_In"><span class="id" title="lemma">elem_of_list_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_in"><span class="id" title="lemma">Permutation_in</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_In"><span class="id" title="lemma">elem_of_list_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>);[|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_In"><span class="id" title="lemma">elem_of_list_In</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_sym"><span class="id" title="lemma">Permutation_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_in"><span class="id" title="lemma">Permutation_in</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnin</span>; <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_In"><span class="id" title="lemma">elem_of_list_In</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>);[<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_length" class="idref" href="#list_difference_length"><span class="id" title="lemma">list_difference_length</span></a> {<a id="A:337" class="idref" href="#A:337"><span class="id" title="binder">A</span></a>} `{<a id="EqDecision0:338" class="idref" href="#EqDecision0:338"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:338" class="idref" href="#EqDecision0:338"><span class="id" title="binder">A</span></a>} (<a id="l1:339" class="idref" href="#l1:339"><span class="id" title="binder">l1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:337"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="l2:340" class="idref" href="#l2:340"><span class="id" title="binder">l2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:339"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:340"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:340"><span class="id" title="variable">l2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#7c8530603f0f326b23aac89794299d5d"><span class="id" title="notation">⊆+</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:339"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:339"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:340"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:339"><span class="id" title="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:340"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hdup1</span> <span class="id" title="var">Hdup2</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#submseteq_cons_r"><span class="id" title="lemma">submseteq_cons_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | [<span class="id" title="var">k</span> [<span class="id" title="var">Hperm</span> <span class="id" title="var">Hk</span>] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_submseteq"><span class="id" title="lemma">elem_of_submseteq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnin</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnin</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_Permutation"><span class="id" title="axiom">list_difference_Permutation</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:=<span class="id" title="var">l1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnin</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_skip"><span class="id" title="axiom">list_difference_skip</span></a>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnin</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl1</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hdup2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hperm</span> =&gt;<span class="id" title="var">Hdup2</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup2</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hperm</span> /=. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#submseteq_cons_r"><span class="id" title="lemma">submseteq_cons_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsub</span> | <span class="id" title="var">Hcontr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl1</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#submseteq_length"><span class="id" title="lemma">submseteq_length</span></a>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup1</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#submseteq_length"><span class="id" title="lemma">submseteq_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">Hperm</span> <span class="id" title="var">Hl'</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hperm</span>. <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_to_set_difference" class="idref" href="#list_to_set_difference"><span class="id" title="lemma">list_to_set_difference</span></a> <a id="A:341" class="idref" href="#A:341"><span class="id" title="binder">A</span></a> {<span class="id" title="var">_</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a>} {<span class="id" title="var">_</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a>} (<a id="l1:342" class="idref" href="#l1:342"><span class="id" title="binder">l1</span></a> <a id="l2:343" class="idref" href="#l2:343"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:342"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:343"><span class="id" title="variable">l2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:342"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:343"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:341"><span class="id" title="variable">A</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span> [<span class="id" title="var">list_difference</span> <span class="id" title="var">list_to_set</span>]. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span>. <span class="id" title="var">cbn</span> [<span class="id" title="var">list_difference</span> <span class="id" title="var">list_to_set</span>]. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>); <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;creates&nbsp;a&nbsp;gmap&nbsp;with&nbsp;domain&nbsp;from&nbsp;the&nbsp;list,&nbsp;all&nbsp;pointing&nbsp;to&nbsp;a&nbsp;default&nbsp;value&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a id="create_gmap_default" class="idref" href="#create_gmap_default"><span class="id" title="definition">create_gmap_default</span></a> {<a id="K:344" class="idref" href="#K:344"><span class="id" title="binder">K</span></a> <a id="V:345" class="idref" href="#V:345"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:347" class="idref" href="#H:347"><span class="id" title="binder">Countable</span></a> <a id="H:347" class="idref" href="#H:347"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:348" class="idref" href="#l:348"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:344"><span class="id" title="variable">K</span></a>) (<a id="d:349" class="idref" href="#d:349"><span class="id" title="binder">d</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#V:345"><span class="id" title="variable">V</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:344"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:345"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.stdpp_extra.html#l:348"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">k</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="cap_machine.stdpp_extra.html#d:349"><span class="id" title="variable">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">create_gmap_default</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">tl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="create_gmap_default_lookup" class="idref" href="#create_gmap_default_lookup"><span class="id" title="lemma">create_gmap_default_lookup</span></a> {<a id="K:352" class="idref" href="#K:352"><span class="id" title="binder">K</span></a> <a id="V:353" class="idref" href="#V:353"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:355" class="idref" href="#H:355"><span class="id" title="binder">Countable</span></a> <a id="H:355" class="idref" href="#H:355"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:356" class="idref" href="#l:356"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:352"><span class="id" title="variable">K</span></a>) (<a id="d:357" class="idref" href="#d:357"><span class="id" title="binder">d</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#V:353"><span class="id" title="variable">V</span></a>) (<a id="k:358" class="idref" href="#k:358"><span class="id" title="binder">k</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#K:352"><span class="id" title="variable">K</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#k:358"><span class="id" title="variable">k</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:356"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#create_gmap_default"><span class="id" title="definition">create_gmap_default</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:356"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#d:357"><span class="id" title="variable">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:358"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#d:357"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="tactic">subst</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of_list_here"><span class="id" title="constructor">elem_of_list_here</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="create_gmap_default_lookup_is_Some" class="idref" href="#create_gmap_default_lookup_is_Some"><span class="id" title="lemma">create_gmap_default_lookup_is_Some</span></a> {<a id="K:359" class="idref" href="#K:359"><span class="id" title="binder">K</span></a> <a id="V:360" class="idref" href="#V:360"><span class="id" title="binder">V</span></a>} `{<a id="EqDecision0:361" class="idref" href="#EqDecision0:361"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:361" class="idref" href="#EqDecision0:361"><span class="id" title="binder">K</span></a>, <a id="H:363" class="idref" href="#H:363"><span class="id" title="binder">Countable</span></a> <a id="H:363" class="idref" href="#H:363"><span class="id" title="binder">K</span></a>} (<a id="l:364" class="idref" href="#l:364"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:359"><span class="id" title="variable">K</span></a>) (<a id="d:365" class="idref" href="#d:365"><span class="id" title="binder">d</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#V:360"><span class="id" title="variable">V</span></a>) <a id="x:366" class="idref" href="#x:366"><span class="id" title="binder">x</span></a> <a id="v:367" class="idref" href="#v:367"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#create_gmap_default"><span class="id" title="definition">create_gmap_default</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:364"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#d:365"><span class="id" title="variable">d</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:366"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:367"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:366"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:364"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#v:367"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#d:365"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> //. <span class="id" title="tactic">intros</span> [? ?]%<span class="id" title="var">IHl</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="create_gmap_default_dom" class="idref" href="#create_gmap_default_dom"><span class="id" title="lemma">create_gmap_default_dom</span></a> {<a id="K:368" class="idref" href="#K:368"><span class="id" title="binder">K</span></a> <a id="V:369" class="idref" href="#V:369"><span class="id" title="binder">V</span></a>} `{<a id="EqDecision0:370" class="idref" href="#EqDecision0:370"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:370" class="idref" href="#EqDecision0:370"><span class="id" title="binder">K</span></a>, <a id="H:372" class="idref" href="#H:372"><span class="id" title="binder">Countable</span></a> <a id="H:372" class="idref" href="#H:372"><span class="id" title="binder">K</span></a>} (<a id="l:373" class="idref" href="#l:373"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:368"><span class="id" title="variable">K</span></a>) (<a id="d:374" class="idref" href="#d:374"><span class="id" title="binder">d</span></a>: <a class="idref" href="cap_machine.stdpp_extra.html#V:369"><span class="id" title="variable">V</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#create_gmap_default"><span class="id" title="definition">create_gmap_default</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:373"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#d:374"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:373"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_empty_L"><span class="id" title="lemma">dom_empty_L</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<span class="id" title="var">create_gmap_default</span> <span class="id" title="var">list_to_set</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_insert_L"><span class="id" title="lemma">dom_insert_L</span></a> // <span class="id" title="var">IHl</span> //.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fst_zip_prefix" class="idref" href="#fst_zip_prefix"><span class="id" title="lemma">fst_zip_prefix</span></a> <a id="A:375" class="idref" href="#A:375"><span class="id" title="binder">A</span></a> <a id="B:376" class="idref" href="#B:376"><span class="id" title="binder">B</span></a> (<a id="l:377" class="idref" href="#l:377"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:375"><span class="id" title="variable">A</span></a>) (<a id="k:378" class="idref" href="#k:378"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:376"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:377"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#k:378"><span class="id" title="variable">k</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">prefix_of</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:377"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_of_nil" class="idref" href="#prefix_of_nil"><span class="id" title="lemma">prefix_of_nil</span></a> <a id="A:379" class="idref" href="#A:379"><span class="id" title="binder">A</span></a> (<a id="l:380" class="idref" href="#l:380"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:379"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l:380"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">prefix_of</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l:380"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix_nil_not"><span class="id" title="lemma">prefix_nil_not</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_prefix" class="idref" href="#in_prefix"><span class="id" title="lemma">in_prefix</span></a> <a id="A:381" class="idref" href="#A:381"><span class="id" title="binder">A</span></a> (<a id="l1:382" class="idref" href="#l1:382"><span class="id" title="binder">l1</span></a> <a id="l2:383" class="idref" href="#l2:383"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:381"><span class="id" title="variable">A</span></a>) <a id="x:384" class="idref" href="#x:384"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l1:382"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">prefix_of</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:383"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#x:384"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:382"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#x:384"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:383"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix"><span class="id" title="definition">prefix</span></a>. <span class="id" title="tactic">intros</span> [? -&gt;] ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_app"><span class="id" title="lemma">elem_of_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NoDup_prefix" class="idref" href="#NoDup_prefix"><span class="id" title="lemma">NoDup_prefix</span></a> <a id="A:385" class="idref" href="#A:385"><span class="id" title="binder">A</span></a> (<a id="l1:386" class="idref" href="#l1:386"><span class="id" title="binder">l1</span></a> <a id="l2:387" class="idref" href="#l2:387"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:385"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:387"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#l1:386"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">prefix_of</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#0dc528ef9d240946b4cc7ba80403735a"><span class="id" title="notation">`</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:387"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:386"><span class="id" title="variable">l1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> * -&gt;%<a class="idref" href="cap_machine.stdpp_extra.html#prefix_of_nil"><span class="id" title="lemma">prefix_of_nil</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix_cons_inv_1"><span class="id" title="lemma">prefix_cons_inv_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#prefix_cons_inv_2"><span class="id" title="lemma">prefix_cons_inv_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.stdpp_extra.html#in_prefix"><span class="id" title="axiom">in_prefix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span> <span class="id" title="var">Hx</span>). <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="take_lookup_Some_inv" class="idref" href="#take_lookup_Some_inv"><span class="id" title="lemma">take_lookup_Some_inv</span></a> <a id="A:388" class="idref" href="#A:388"><span class="id" title="binder">A</span></a> (<a id="l:389" class="idref" href="#l:389"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:388"><span class="id" title="variable">A</span></a>) (<a id="n:390" class="idref" href="#n:390"><span class="id" title="binder">n</span></a> <a id="i:391" class="idref" href="#i:391"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="x:392" class="idref" href="#x:392"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#n:390"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:389"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:391"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:392"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#i:391"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#n:390"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:389"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:391"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#x:392"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">inversion</span> 1. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? ?]%<span class="id" title="var">IHn</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NoDup_fst" class="idref" href="#NoDup_fst"><span class="id" title="lemma">NoDup_fst</span></a> {<a id="A:393" class="idref" href="#A:393"><span class="id" title="binder">A</span></a> <a id="B:394" class="idref" href="#B:394"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l:395" class="idref" href="#l:395"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#A:393"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="cap_machine.stdpp_extra.html#B:394"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:395"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:395"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_nil"><span class="id" title="lemma">NoDup_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hdup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fst_elem_of_cons" class="idref" href="#fst_elem_of_cons"><span class="id" title="lemma">fst_elem_of_cons</span></a> {<a id="A:396" class="idref" href="#A:396"><span class="id" title="binder">A</span></a> <a id="B:397" class="idref" href="#B:397"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:398" class="idref" href="#EqDecision0:398"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:398" class="idref" href="#EqDecision0:398"><span class="id" title="binder">A</span></a>} (<a id="l:399" class="idref" href="#l:399"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:396"><span class="id" title="variable">A</span></a>) (<a id="x:400" class="idref" href="#x:400"><span class="id" title="binder">x</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:396"><span class="id" title="variable">A</span></a>) (<a id="l':401" class="idref" href="#l':401"><span class="id" title="binder">l'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:397"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#x:400"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:399"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l':401"><span class="id" title="variable">l'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#x:400"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:399"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#in_prefix"><span class="id" title="axiom">in_prefix</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#fst_zip_prefix"><span class="id" title="axiom">fst_zip_prefix</span></a>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_fst_snd" class="idref" href="#length_fst_snd"><span class="id" title="lemma">length_fst_snd</span></a> {<a id="A:402" class="idref" href="#A:402"><span class="id" title="binder">A</span></a> <a id="B:403" class="idref" href="#B:403"><span class="id" title="binder">B</span></a>} `{<a id="H:405" class="idref" href="#H:405"><span class="id" title="binder">Countable</span></a> <a id="H:405" class="idref" href="#H:405"><span class="id" title="binder">A</span></a>} (<a id="m:406" class="idref" href="#m:406"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:402"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:403"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:406"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#d8abb4a15b850f9bd554a27b20550f1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:406"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#d8abb4a15b850f9bd554a27b20550f1f"><span class="id" title="notation">).*2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_to_list_delete" class="idref" href="#map_to_list_delete"><span class="id" title="lemma">map_to_list_delete</span></a> {<a id="A:407" class="idref" href="#A:407"><span class="id" title="binder">A</span></a> <a id="B:408" class="idref" href="#B:408"><span class="id" title="binder">B</span></a>} `{<a id="H:410" class="idref" href="#H:410"><span class="id" title="binder">Countable</span></a> <a id="H:410" class="idref" href="#H:410"><span class="id" title="binder">A</span></a>} `{<a id="EqDecision1:411" class="idref" href="#EqDecision1:411"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:411" class="idref" href="#EqDecision1:411"><span class="id" title="binder">A</span></a>} (<a id="m:412" class="idref" href="#m:412"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:407"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:408"><span class="id" title="variable">B</span></a>) (<a id="i:413" class="idref" href="#i:413"><span class="id" title="binder">i</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:407"><span class="id" title="variable">A</span></a>) (<a id="x:414" class="idref" href="#x:414"><span class="id" title="binder">x</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#B:408"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="l:415" class="idref" href="#l:415"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.stdpp_extra.html#i:413"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.stdpp_extra.html#x:414"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:415"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:412"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#i:413"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:415"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:413"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:412"><span class="id" title="variable">m</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l:415"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hdup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hl</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_Permutation"><span class="id" title="lemma">NoDup_Permutation</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#NoDup_map_to_list"><span class="id" title="method">NoDup_map_to_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#NoDup_fst"><span class="id" title="axiom">NoDup_fst</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i0</span> <span class="id" title="var">x0</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinx</span>%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">i0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hne</span>;[<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="var">simplify_map_eq</span>|<span class="id" title="var">simplify_map_eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hin'</span>];<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">i0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hne</span>;[|<span class="id" title="var">simplify_map_eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#NoDup_map_to_list"><span class="id" title="method">NoDup_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i0</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">l</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">HWInt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> ?]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcontr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> =&gt;<span class="id" title="var">Hin'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NoDup_map_to_list_fst" class="idref" href="#NoDup_map_to_list_fst"><span class="id" title="lemma">NoDup_map_to_list_fst</span></a> (<a id="A:416" class="idref" href="#A:416"><span class="id" title="binder">A</span></a> <a id="B:417" class="idref" href="#B:417"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="EqDecision0:418" class="idref" href="#EqDecision0:418"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:418" class="idref" href="#EqDecision0:418"><span class="id" title="binder">A</span></a>} `{<a id="H:420" class="idref" href="#H:420"><span class="id" title="binder">Countable</span></a> <a id="H:420" class="idref" href="#H:420"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:421" class="idref" href="#m:421"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:416"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:417"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:421"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>] <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_nil"><span class="id" title="lemma">NoDup_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ab</span> [<span class="id" title="var">Heqab</span> <span class="id" title="var">Hcontr</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcontr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_to_list_delete_fst" class="idref" href="#map_to_list_delete_fst"><span class="id" title="lemma">map_to_list_delete_fst</span></a> {<a id="A:422" class="idref" href="#A:422"><span class="id" title="binder">A</span></a> <a id="B:423" class="idref" href="#B:423"><span class="id" title="binder">B</span></a>} `{<a id="H:425" class="idref" href="#H:425"><span class="id" title="binder">Countable</span></a> <a id="H:425" class="idref" href="#H:425"><span class="id" title="binder">A</span></a>} (<a id="m:426" class="idref" href="#m:426"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:422"><span class="id" title="variable">A</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#B:423"><span class="id" title="variable">B</span></a>) (<a id="i:427" class="idref" href="#i:427"><span class="id" title="binder">i</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:422"><span class="id" title="variable">A</span></a>) (<a id="x:428" class="idref" href="#x:428"><span class="id" title="binder">x</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#B:423"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="l:429" class="idref" href="#l:429"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:427"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:429"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:426"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#i:427"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:429"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:427"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:426"><span class="id" title="variable">m</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a><a class="idref" href="cap_machine.stdpp_extra.html#l:429"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hdup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hl</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnin</span> <span class="id" title="var">Hdup</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_Permutation"><span class="id" title="lemma">NoDup_Permutation</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#NoDup_map_to_list_fst"><span class="id" title="axiom">NoDup_map_to_list_fst</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">l'</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <span class="id" title="var">l</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l'</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fst_zip"><span class="id" title="lemma">fst_zip</span></a>;<span class="id" title="tactic">auto</span>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#repeat_length"><span class="id" title="lemma">repeat_length</span></a>;<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinx</span>%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinx</span> <span class="id" title="keyword">as</span> [ [? ?] [? <span class="id" title="var">Hinx</span>] ]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i0</span>));[<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx</span>;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinx</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i0</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hinx'</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hl</span> =&gt;<span class="id" title="var">Hinx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hinx'</span>];[<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinx</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">i0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hne</span>;[<span class="id" title="tactic">congruence</span>|<span class="id" title="var">simplify_map_eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i0</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hin'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> =&gt;<span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_to_list_fst"><span class="id" title="axiom">map_to_list_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_to_list_fst"><span class="id" title="axiom">map_to_list_fst</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="submseteq_list_difference" class="idref" href="#submseteq_list_difference"><span class="id" title="lemma">submseteq_list_difference</span></a> {<a id="A:430" class="idref" href="#A:430"><span class="id" title="binder">A</span></a>} `{<a id="EqDecision0:431" class="idref" href="#EqDecision0:431"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:431" class="idref" href="#EqDecision0:431"><span class="id" title="binder">A</span></a>} (<a id="l1:432" class="idref" href="#l1:432"><span class="id" title="binder">l1</span></a> <a id="l2:433" class="idref" href="#l2:433"><span class="id" title="binder">l2</span></a> <a id="l3:434" class="idref" href="#l3:434"><span class="id" title="binder">l3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:430"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:432"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:435" class="idref" href="#a:435"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:435"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l3:434"><span class="id" title="variable">l3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:435"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:432"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:432"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#7c8530603f0f326b23aac89794299d5d"><span class="id" title="notation">⊆+</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:433"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:432"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#7c8530603f0f326b23aac89794299d5d"><span class="id" title="notation">⊆+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:433"><span class="id" title="variable">l2</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l3:434"><span class="id" title="variable">l3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdup</span> <span class="id" title="var">Hnin</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_submseteq"><span class="id" title="lemma">NoDup_submseteq</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_list_difference"><span class="id" title="lemma">elem_of_list_difference</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_submseteq"><span class="id" title="lemma">elem_of_submseteq</span></a>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnin</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontr</span>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_difference_cons" class="idref" href="#list_difference_cons"><span class="id" title="lemma">list_difference_cons</span></a> {<a id="A:436" class="idref" href="#A:436"><span class="id" title="binder">A</span></a>} `{<a id="EqDecision0:437" class="idref" href="#EqDecision0:437"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:437" class="idref" href="#EqDecision0:437"><span class="id" title="binder">A</span></a>} (<a id="l1:438" class="idref" href="#l1:438"><span class="id" title="binder">l1</span></a> <a id="l2:439" class="idref" href="#l2:439"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:436"><span class="id" title="variable">A</span></a>) (<a id="a:440" class="idref" href="#a:440"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:436"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:438"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:440"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:438"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:440"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:439"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:438"><span class="id" title="variable">l1</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:439"><span class="id" title="variable">l2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:440"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#list_difference"><span class="id" title="definition">list_difference</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l1:438"><span class="id" title="variable">l1</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#a:440"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:439"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">l2</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hdup</span> <span class="id" title="var">Hin1</span> <span class="id" title="var">Hin2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#elem_of"><span class="id" title="definition">elem_of</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hne</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True"><span class="id" title="lemma">decide_True</span></a>. { <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>. <span class="id" title="tactic">right</span>;<span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [? ?];<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin1</span> <span class="id" title="keyword">as</span> [? | ?];[<span class="id" title="tactic">congruence</span>|<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>));<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnin</span> <span class="id" title="var">Hdup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True"><span class="id" title="lemma">decide_True</span></a>;[<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.stdpp_extra.html#list_difference_skip"><span class="id" title="axiom">list_difference_skip</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnin</span> <span class="id" title="var">Hdup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin1</span> <span class="id" title="keyword">as</span> [? | ?];[<span class="id" title="tactic">congruence</span>|<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">IHl1</span>;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_False"><span class="id" title="lemma">decide_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#not_elem_of_cons"><span class="id" title="lemma">not_elem_of_cons</span></a>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#Permutation_swap"><span class="id" title="lemma">Permutation_swap</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_to_set_map_to_list" class="idref" href="#list_to_set_map_to_list"><span class="id" title="lemma">list_to_set_map_to_list</span></a> {<a id="K:441" class="idref" href="#K:441"><span class="id" title="binder">K</span></a> <a id="V:442" class="idref" href="#V:442"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:443" class="idref" href="#EqDecision0:443"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:443" class="idref" href="#EqDecision0:443"><span class="id" title="binder">K</span></a>} `{<a id="H:445" class="idref" href="#H:445"><span class="id" title="binder">Countable</span></a> <a id="H:445" class="idref" href="#H:445"><span class="id" title="binder">K</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:446" class="idref" href="#m:446"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#K:441"><span class="id" title="variable">K</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#V:442"><span class="id" title="variable">V</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:446"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#m:446"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_empty_L"><span class="id" title="lemma">dom_empty_L</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>// <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_insert_L"><span class="id" title="lemma">dom_insert_L</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;last&nbsp;element&nbsp;of&nbsp;a&nbsp;list&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;a&nbsp;list&nbsp;where&nbsp;we&nbsp;drop&nbsp;fewer&nbsp;elements&nbsp;than&nbsp;the&nbsp;list&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="last_drop_lt" class="idref" href="#last_drop_lt"><span class="id" title="lemma">last_drop_lt</span></a> {<a id="A:447" class="idref" href="#A:447"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l:448" class="idref" href="#l:448"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:447"><span class="id" title="variable">A</span></a>) (<a id="i:449" class="idref" href="#i:449"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a:450" class="idref" href="#a:450"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:447"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#i:449"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:448"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:448"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:450"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#drop"><span class="id" title="abbreviation">drop</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#i:449"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:448"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:450"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.lt_irrefl"><span class="id" title="lemma">Nat.lt_irrefl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_lookup" class="idref" href="#last_lookup"><span class="id" title="lemma">last_lookup</span></a> {<a id="A:451" class="idref" href="#A:451"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l:452" class="idref" href="#l:452"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:451"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:452"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:452"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:452"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">last</span></a> -/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">PeanoNat.Nat.sub_0_r</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_app_iff" class="idref" href="#last_app_iff"><span class="id" title="lemma">last_app_iff</span></a> {<a id="A:453" class="idref" href="#A:453"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l1:454" class="idref" href="#l1:454"><span class="id" title="binder">l1</span></a> <a id="l2:455" class="idref" href="#l2:455"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:453"><span class="id" title="variable">A</span></a>) <a id="a:456" class="idref" href="#a:456"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:455"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:456"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:455"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:454"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:455"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:456"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHl1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> <span class="id" title="var">Hlast</span>]. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">last</span></a> -/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">last</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l1'</span> [<span class="id" title="var">Hlen</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last_snoc"><span class="id" title="lemma">last_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>; <span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">IHl2</span> (<span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_middle"><span class="id" title="lemma">cons_middle</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_app_eq" class="idref" href="#last_app_eq"><span class="id" title="lemma">last_app_eq</span></a> {<a id="A:457" class="idref" href="#A:457"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l1:458" class="idref" href="#l1:458"><span class="id" title="binder">l1</span></a> <a id="l2:459" class="idref" href="#l2:459"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:457"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:459"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:459"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">list.last</span></a> (<a class="idref" href="cap_machine.stdpp_extra.html#l1:458"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l2:459"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l2</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last_snoc"><span class="id" title="lemma">last_snoc</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_middle"><span class="id" title="lemma">cons_middle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> -(<span class="id" title="var">IHl2</span> (<span class="id" title="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>));[<span class="id" title="tactic">simpl</span>;<span class="id" title="var">lia</span>|<span class="id" title="tactic">auto</span>].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_nil_inv" class="idref" href="#rev_nil_inv"><span class="id" title="lemma">rev_nil_inv</span></a> {<a id="A:460" class="idref" href="#A:460"><span class="id" title="binder">A</span></a>} (<a id="l:461" class="idref" href="#l:461"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:460"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:461"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:461"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hrev</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_eq_nil"><span class="id" title="lemma">app_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hrev1</span> <span class="id" title="var">Hrev2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrev2</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_singleton_inv" class="idref" href="#rev_singleton_inv"><span class="id" title="lemma">rev_singleton_inv</span></a> {<a id="A:462" class="idref" href="#A:462"><span class="id" title="binder">A</span></a>} (<a id="l:463" class="idref" href="#l:463"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:462"><span class="id" title="variable">A</span></a>) (<a id="a:464" class="idref" href="#a:464"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:462"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:463"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#a:464"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:463"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#a:464"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hrev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrev</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrev</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#app_singleton"><span class="id" title="lemma">app_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrev</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrev</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">Hrev1</span> <span class="id" title="var">Hrev2</span>] | [<span class="id" title="var">Hrev1</span> <span class="id" title="var">Hrev2</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>);<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrev1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrev2</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_lookup" class="idref" href="#rev_lookup"><span class="id" title="lemma">rev_lookup</span></a> {<a id="A:465" class="idref" href="#A:465"><span class="id" title="binder">A</span></a>} (<a id="l:466" class="idref" href="#l:466"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:465"><span class="id" title="variable">A</span></a>) (<a id="a:467" class="idref" href="#a:467"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:465"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:466"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:467"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:466"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:466"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:467"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="cap_machine.stdpp_extra.html#last_lookup"><span class="id" title="axiom">last_lookup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#lookup_app_l"><span class="id" title="lemma">lookup_app_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=;<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="cap_machine.stdpp_extra.html#last_lookup"><span class="id" title="axiom">last_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#lookup_app_l"><span class="id" title="lemma">lookup_app_l</span></a>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=;<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_cons_inv" class="idref" href="#rev_cons_inv"><span class="id" title="lemma">rev_cons_inv</span></a> {<a id="A:468" class="idref" href="#A:468"><span class="id" title="binder">A</span></a>} (<a id="l:469" class="idref" href="#l:469"><span class="id" title="binder">l</span></a> <a id="l':470" class="idref" href="#l':470"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#A:468"><span class="id" title="variable">A</span></a>) (<a id="a:471" class="idref" href="#a:471"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.stdpp_extra.html#A:468"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:469"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#a:471"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l':470"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="l'':472" class="idref" href="#l'':472"><span class="id" title="binder">l''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l:469"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#l'':472"><span class="id" title="variable">l''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.stdpp_extra.html#a:471"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">as</span> -&gt;;[<span class="id" title="tactic">simpl</span>;<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#rev_lookup"><span class="id" title="axiom">rev_lookup</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrel</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take_S_r"><span class="id" title="lemma">take_S_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#take"><span class="id" title="abbreviation">take</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hsome</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn_all"><span class="id" title="lemma">firstn_all</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
