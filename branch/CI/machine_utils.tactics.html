<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">machine_utils.tactics</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">tactics</span> <span class="id" title="library">spec_patterns</span> <span class="id" title="library">coq_tactics</span> <span class="id" title="library">ltac_tactics</span> <span class="id" title="library">reduction</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iprop</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">machine_utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="machine_utils.solve_pure.html#"><span class="id" title="library">solve_pure</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Ltac2</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Ltac2</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Ltac2</span> <span class="id" title="keyword">Require</span> <span class="id" title="library">Option</span> <span class="id" title="library">Bool</span> <span class="id" title="library">Constr</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Mode</span> "Classic".<br/>

<br/>
<span class="comment">(******************************************************************************)</span><br/>
<span class="comment">(*&nbsp;iFrameAuto:&nbsp;configurable&nbsp;auto&nbsp;framing&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Users&nbsp;need&nbsp;to&nbsp;define&nbsp;instances&nbsp;of&nbsp;this&nbsp;class,&nbsp;e.g.&nbsp;for&nbsp;points-to&nbsp;resources.&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="FramableMachineResource" class="idref" href="#FramableMachineResource"><span class="id" title="record">FramableMachineResource</span></a> {<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>} (<a id="P:2" class="idref" href="#P:2"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a>) := {}.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="machine_utils.tactics.html#FramableMachineResource"><span class="id" title="class">FramableMachineResource</span></a> + ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="comment">(*&nbsp;internal&nbsp;classes&nbsp;and&nbsp;instances&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="EnvsLookupSpatial" class="idref" href="#EnvsLookupSpatial"><span class="id" title="record">EnvsLookupSpatial</span></a> {<a id="PROP:4" class="idref" href="#PROP:4"><span class="id" title="binder">PROP</span></a>: <span class="id" title="record">bi</span>} (<a id="d1f0e078f04502659f58b18dce315e18" class="idref" href="#d1f0e078f04502659f58b18dce315e18"><span class="id" title="binder">Δ</span></a>: <span class="id" title="record">envs</span> <a class="idref" href="machine_utils.tactics.html#PROP:4"><span class="id" title="variable">PROP</span></a>) (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a>: <a class="idref" href="machine_utils.tactics.html#PROP:4"><span class="id" title="variable">PROP</span></a>) (<a id="i:7" class="idref" href="#i:7"><span class="id" title="binder">i</span></a>: <span class="id" title="inductive">ident</span>) := {}.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="machine_utils.tactics.html#EnvsLookupSpatial"><span class="id" title="class">EnvsLookupSpatial</span></a> + ! ! - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EnvsLookupSpatial_here" class="idref" href="#EnvsLookupSpatial_here"><span class="id" title="instance">EnvsLookupSpatial_here</span></a> (<a id="PROP:9" class="idref" href="#PROP:9"><span class="id" title="binder">PROP</span></a>: <span class="id" title="record">bi</span>) (<a id="ae03fccfb05834a5433f37c6238aeaf9" class="idref" href="#ae03fccfb05834a5433f37c6238aeaf9"><span class="id" title="binder">Γp</span></a> <a id="ba38998828c9b87c814559ded8e058c4" class="idref" href="#ba38998828c9b87c814559ded8e058c4"><span class="id" title="binder">Γs</span></a>: <span class="id" title="inductive">env</span> <a class="idref" href="machine_utils.tactics.html#PROP:9"><span class="id" title="variable">PROP</span></a>) <a id="P:12" class="idref" href="#P:12"><span class="id" title="binder">P</span></a> <a id="c:13" class="idref" href="#c:13"><span class="id" title="binder">c</span></a> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#EnvsLookupSpatial"><span class="id" title="class">EnvsLookupSpatial</span></a> (<span class="id" title="constructor">Envs</span> <a class="idref" href="machine_utils.tactics.html#ae03fccfb05834a5433f37c6238aeaf9"><span class="id" title="variable">Γp</span></a> (<span class="id" title="constructor">Esnoc</span> <a class="idref" href="machine_utils.tactics.html#ba38998828c9b87c814559ded8e058c4"><span class="id" title="variable">Γs</span></a> <a class="idref" href="machine_utils.tactics.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="machine_utils.tactics.html#P:12"><span class="id" title="variable">P</span></a>) <a class="idref" href="machine_utils.tactics.html#c:13"><span class="id" title="variable">c</span></a>) <a class="idref" href="machine_utils.tactics.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="machine_utils.tactics.html#i:14"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EnvsLookupSpatial_next" class="idref" href="#EnvsLookupSpatial_next"><span class="id" title="instance">EnvsLookupSpatial_next</span></a> (<a id="PROP:15" class="idref" href="#PROP:15"><span class="id" title="binder">PROP</span></a>: <span class="id" title="record">bi</span>) (<a id="3595d672087121cc6232abcfbb0868f5" class="idref" href="#3595d672087121cc6232abcfbb0868f5"><span class="id" title="binder">Γp</span></a> <a id="eb0f6c03d8edf0c79269ced48e31d10f" class="idref" href="#eb0f6c03d8edf0c79269ced48e31d10f"><span class="id" title="binder">Γs</span></a>: <span class="id" title="inductive">env</span> <a class="idref" href="machine_utils.tactics.html#PROP:15"><span class="id" title="variable">PROP</span></a>) <a id="P:18" class="idref" href="#P:18"><span class="id" title="binder">P</span></a> <a id="Q:19" class="idref" href="#Q:19"><span class="id" title="binder">Q</span></a> <a id="c:20" class="idref" href="#c:20"><span class="id" title="binder">c</span></a> <a id="i:21" class="idref" href="#i:21"><span class="id" title="binder">i</span></a> <a id="j:22" class="idref" href="#j:22"><span class="id" title="binder">j</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#EnvsLookupSpatial"><span class="id" title="class">EnvsLookupSpatial</span></a> (<span class="id" title="constructor">Envs</span> <a class="idref" href="machine_utils.tactics.html#3595d672087121cc6232abcfbb0868f5"><span class="id" title="variable">Γp</span></a> <a class="idref" href="machine_utils.tactics.html#eb0f6c03d8edf0c79269ced48e31d10f"><span class="id" title="variable">Γs</span></a> <a class="idref" href="machine_utils.tactics.html#c:20"><span class="id" title="variable">c</span></a>) <a class="idref" href="machine_utils.tactics.html#Q:19"><span class="id" title="variable">Q</span></a> <a class="idref" href="machine_utils.tactics.html#j:22"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#EnvsLookupSpatial"><span class="id" title="class">EnvsLookupSpatial</span></a> (<span class="id" title="constructor">Envs</span> <a class="idref" href="machine_utils.tactics.html#3595d672087121cc6232abcfbb0868f5"><span class="id" title="variable">Γp</span></a> (<span class="id" title="constructor">Esnoc</span> <a class="idref" href="machine_utils.tactics.html#eb0f6c03d8edf0c79269ced48e31d10f"><span class="id" title="variable">Γs</span></a> <a class="idref" href="machine_utils.tactics.html#i:21"><span class="id" title="variable">i</span></a> <a class="idref" href="machine_utils.tactics.html#P:18"><span class="id" title="variable">P</span></a>) <a class="idref" href="machine_utils.tactics.html#c:20"><span class="id" title="variable">c</span></a>) <a class="idref" href="machine_utils.tactics.html#Q:19"><span class="id" title="variable">Q</span></a> <a class="idref" href="machine_utils.tactics.html#j:22"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="LookupFramableMachineResource" class="idref" href="#LookupFramableMachineResource"><span class="id" title="record">LookupFramableMachineResource</span></a> {<a id="3eadb2a0aeaeef49bd6cd27b7316c266" class="idref" href="#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="binder">Σ</span></a>: <span class="id" title="record">gFunctors</span>} (<a id="G:24" class="idref" href="#G:24"><span class="id" title="binder">G</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a>) (<a id="P:25" class="idref" href="#P:25"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a>) := {}.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> + ! - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="LookupFramableMachineResource_framable" class="idref" href="#LookupFramableMachineResource_framable"><span class="id" title="instance">LookupFramableMachineResource_framable</span></a> <a id="2ce23d418d95c371330ae00e4301f160" class="idref" href="#2ce23d418d95c371330ae00e4301f160"><span class="id" title="binder">Σ</span></a> (<a id="P:28" class="idref" href="#P:28"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#2ce23d418d95c371330ae00e4301f160"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#FramableMachineResource"><span class="id" title="class">FramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#P:28"><span class="id" title="variable">P</span></a> <a class="idref" href="machine_utils.tactics.html#P:28"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">TCOr</span></span>&nbsp;instead&nbsp;of&nbsp;the&nbsp;two&nbsp;instances&nbsp;below?&nbsp;*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="LookupFramableMachineResource_sep_l" class="idref" href="#LookupFramableMachineResource_sep_l"><span class="id" title="instance">LookupFramableMachineResource_sep_l</span></a> <a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> (<a id="G1:30" class="idref" href="#G1:30"><span class="id" title="binder">G1</span></a> <a id="G2:31" class="idref" href="#G2:31"><span class="id" title="binder">G2</span></a> <a id="P:32" class="idref" href="#P:32"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#G1:30"><span class="id" title="variable">G1</span></a> <a class="idref" href="machine_utils.tactics.html#P:32"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> (<a class="idref" href="machine_utils.tactics.html#G1:30"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="machine_utils.tactics.html#G2:31"><span class="id" title="variable">G2</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="machine_utils.tactics.html#P:32"><span class="id" title="variable">P</span></a><br/>
| 5.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="LookupFramableMachineResource_sep_r" class="idref" href="#LookupFramableMachineResource_sep_r"><span class="id" title="instance">LookupFramableMachineResource_sep_r</span></a> <a id="4a3db5069015eacb9ec70510dc094686" class="idref" href="#4a3db5069015eacb9ec70510dc094686"><span class="id" title="binder">Σ</span></a> (<a id="G1:34" class="idref" href="#G1:34"><span class="id" title="binder">G1</span></a> <a id="G2:35" class="idref" href="#G2:35"><span class="id" title="binder">G2</span></a> <a id="P:36" class="idref" href="#P:36"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#4a3db5069015eacb9ec70510dc094686"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#G2:35"><span class="id" title="variable">G2</span></a> <a class="idref" href="machine_utils.tactics.html#P:36"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> (<a class="idref" href="machine_utils.tactics.html#G1:34"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="machine_utils.tactics.html#G2:35"><span class="id" title="variable">G2</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="machine_utils.tactics.html#P:36"><span class="id" title="variable">P</span></a><br/>
| 6. <span class="comment">(*&nbsp;start&nbsp;looking&nbsp;left&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="LookupFramableMachineResource_later" class="idref" href="#LookupFramableMachineResource_later"><span class="id" title="instance">LookupFramableMachineResource_later</span></a> <a id="01696af10e39986da2e9d1f22eb04999" class="idref" href="#01696af10e39986da2e9d1f22eb04999"><span class="id" title="binder">Σ</span></a> (<a id="G:38" class="idref" href="#G:38"><span class="id" title="binder">G</span></a> <a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#G:38"><span class="id" title="variable">G</span></a> <a class="idref" href="machine_utils.tactics.html#P:39"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> (<span class="id" title="notation">▷</span> <a class="idref" href="machine_utils.tactics.html#G:38"><span class="id" title="variable">G</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="machine_utils.tactics.html#P:39"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="FramableMachineHyp" class="idref" href="#FramableMachineHyp"><span class="id" title="record">FramableMachineHyp</span></a> {<a id="a5fa9249bdc19684169f7ebb302b006b" class="idref" href="#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="binder">Σ</span></a>} (<a id="d44599d7d25b8a7026b8def0c73be53b" class="idref" href="#d44599d7d25b8a7026b8def0c73be53b"><span class="id" title="binder">Δ</span></a>: <span class="id" title="record">envs</span> (<span class="id" title="definition">uPredI</span> (<span class="id" title="definition">iResUR</span> <a class="idref" href="machine_utils.tactics.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a>))) (<a id="G:42" class="idref" href="#G:42"><span class="id" title="binder">G</span></a>: <span class="id" title="abbreviation">iProp</span> <a class="idref" href="machine_utils.tactics.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a>) (<a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a>: <span class="id" title="inductive">ident</span>) := {}.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="machine_utils.tactics.html#FramableMachineHyp"><span class="id" title="class">FramableMachineHyp</span></a> + ! ! - : <span class="id" title="var">typeclass_instances</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FramableMachineHyp_default" class="idref" href="#FramableMachineHyp_default"><span class="id" title="instance">FramableMachineHyp_default</span></a> <a id="8bac999218c391434ebfca8da64fb69b" class="idref" href="#8bac999218c391434ebfca8da64fb69b"><span class="id" title="binder">Σ</span></a> (<a id="0e322e9f9fade6a92839f0f35e288c1a" class="idref" href="#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="binder">Δ</span></a>: <span class="id" title="record">envs</span> (<span class="id" title="definition">uPredI</span> (<span class="id" title="definition">iResUR</span> <a class="idref" href="machine_utils.tactics.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a>))) <a id="G:47" class="idref" href="#G:47"><span class="id" title="binder">G</span></a> <a id="P:48" class="idref" href="#P:48"><span class="id" title="binder">P</span></a> <a id="i:49" class="idref" href="#i:49"><span class="id" title="binder">i</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#LookupFramableMachineResource"><span class="id" title="class">LookupFramableMachineResource</span></a> <a class="idref" href="machine_utils.tactics.html#G:47"><span class="id" title="variable">G</span></a> <a class="idref" href="machine_utils.tactics.html#P:48"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#EnvsLookupSpatial"><span class="id" title="class">EnvsLookupSpatial</span></a> <a class="idref" href="machine_utils.tactics.html#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="machine_utils.tactics.html#P:48"><span class="id" title="variable">P</span></a> <a class="idref" href="machine_utils.tactics.html#i:49"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.tactics.html#FramableMachineHyp"><span class="id" title="class">FramableMachineHyp</span></a> <a class="idref" href="machine_utils.tactics.html#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="machine_utils.tactics.html#G:47"><span class="id" title="variable">G</span></a> <a class="idref" href="machine_utils.tactics.html#i:49"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="framable_machine_hyp" class="idref" href="#framable_machine_hyp"><span class="id" title="definition">framable_machine_hyp</span></a> `{<a id="H:54" class="idref" href="#H:54"><span class="id" title="binder">@</span></a><a id="H:54" class="idref" href="#H:54"><span class="id" title="binder">FramableMachineHyp</span></a> <a id="4f3c8cf463ede8c1c75dc6e27df02d2d" class="idref" href="#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="binder"><span id="H:54" class="id">Σ</span></span></a> <a id="470a1afdbbe48f100e3c886f9cdd5bf9" class="idref" href="#470a1afdbbe48f100e3c886f9cdd5bf9"><span class="id" title="binder"><span id="H:54" class="id">Δ</span></span></a> <a id="P:52" class="idref" href="#P:52"><span class="id" title="binder"><span id="H:54" class="id">P</span></span></a> <a id="i:53" class="idref" href="#i:53"><span class="id" title="binder"><span id="H:54" class="id">i</span></span></a>} := <a class="idref" href="machine_utils.tactics.html#i:53"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;the&nbsp;tactic&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">assert_constr_eq</span> (<span class="id" title="var">c1</span>: <span class="id" title="keyword">constr</span>) (<span class="id" title="var">c2</span>: <span class="id" title="keyword">constr</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Constr.equal</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">false</span> =&gt; <span class="id" title="var">Control.zero</span> <span class="id" title="var">Match_failure</span> <span class="comment">(*&nbsp;backtrack&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">true</span> =&gt; ()<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;framed&nbsp;assumption&nbsp;(of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ident</span></span>),&nbsp;and&nbsp;the&nbsp;framed<br/>
&nbsp;&nbsp;&nbsp;assumption&nbsp;(of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">iProp</span></span> <span class="inlinecode"><span class="id" title="var">Σ</span></span>).&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">iFrameAuto</span> () <span class="comment">(*&nbsp;:&nbsp;constr&nbsp;*&nbsp;constr&nbsp;*)</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazy_match</span>! <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ |- <span class="id" title="definition">envs_entails</span> ?<span class="id" title="var">Δ</span> ?<span class="id" title="var">p</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">framable_machine_hyp</span> <span class="id" title="tactic">in</span> (@<a class="idref" href="machine_utils.tactics.html#framable_machine_hyp"><span class="id" title="definition">framable_machine_hyp</span></a> <span class="id" title="var">_</span> $<span class="id" title="var">Δ</span> $<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">hname</span>, <span class="id" title="var">hh</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span>! <span class="id" title="var">Δ</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">context</span> [ <span class="id" title="constructor">Esnoc</span> <span class="id" title="var">_</span> ?<span class="id" title="var">h'</span> ?<span class="id" title="var">hh</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">assert_constr_eq</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">hname</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazy_match</span>! <span class="id" title="var">h</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">INamed</span> ?<span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IAnon</span> <span class="id" title="var">_</span> =&gt; '("?")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hname</span>, <span class="id" title="var">hh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ltac1</span>:(<span class="id" title="var">h</span> |- <span class="id" title="var">iFrame</span> <span class="id" title="var">h</span>) (<span class="id" title="var">Ltac1.of_constr</span> <span class="id" title="var">h</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hname</span>, <span class="id" title="var">hh</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">iFrameAuto'</span> () :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">iFrameAuto</span> () <span class="id" title="tactic">in</span> ().<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iFrameAuto</span> := <span class="id" title="var">ltac2</span>:(<span class="id" title="var">iFrameAuto'</span> ()).<br/>

<br/>
<span class="comment">(******************************************************************************)</span><br/>
<span class="comment">(*&nbsp;iFrameAutoSolve:&nbsp;multi-goal&nbsp;<span class="inlinecode"><span class="id" title="var">iFrameAuto</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="var">solve_pure</span></span>&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;multi-goal&nbsp;repeat&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">rec</span> <span class="id" title="var">grepeat</span> (<span class="id" title="var">t</span>: <span class="id" title="var">unit</span> -&gt; <span class="id" title="var">unit</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">ifcatch</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Control.progress</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Control.check_interrupt</span> (); <span class="id" title="var">grepeat</span> <span class="id" title="var">t</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; ()).<br/>

<br/>
<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">iFrameAutoSolve</span> () :=<br/>
&nbsp;&nbsp;<span class="id" title="var">grepeat</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">Control.plus</span> <span class="id" title="var">iFrameAuto'</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Control.once</span> <span class="id" title="var">solve_pure</span>))).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iFrameAutoSolve</span> := <span class="id" title="var">ltac2</span>:(<span class="id" title="var">iFrameAutoSolve</span> ()).<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
