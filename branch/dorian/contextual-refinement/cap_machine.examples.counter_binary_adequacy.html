<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.examples.counter_binary_adequacy</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#"><span class="id" title="library">auth</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.agree.html#"><span class="id" title="library">agree</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#"><span class="id" title="library">excl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.frac.html#"><span class="id" title="library">frac</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#"><span class="id" title="library">invariants</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.adequacy.html#"><span class="id" title="library">adequacy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#"><span class="id" title="library">fin_maps</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_sets.html#"><span class="id" title="library">fin_sets</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Logic.Eqdep_dec.html#"><span class="id" title="library">Eqdep_dec</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.stdpp_comp.html#"><span class="id" title="library">stdpp_comp</span></a> <a class="idref" href="cap_machine.iris_extra.html#"><span class="id" title="library">iris_extra</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#"><span class="id" title="library">mkregion_helpers</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logrel_binary.html#"><span class="id" title="library">logrel_binary</span></a> <a class="idref" href="cap_machine.fundamental_binary.html#"><span class="id" title="library">fundamental_binary</span></a> <a class="idref" href="cap_machine.linking.html#"><span class="id" title="library">linking</span></a> <a class="idref" href="cap_machine.examples.malloc.html#"><span class="id" title="library">malloc</span></a> <a class="idref" href="cap_machine.examples.macros.html#"><span class="id" title="library">macros</span></a> <a class="idref" href="cap_machine.examples.malloc_binary.html#"><span class="id" title="library">malloc_binary</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement.html#"><span class="id" title="library">contextual_refinement</span></a> <a class="idref" href="cap_machine.contextual_refinement_adequacy.html#"><span class="id" title="library">contextual_refinement_adequacy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine.examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#"><span class="id" title="library">disjoint_regions_tactics</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#"><span class="id" title="library">counter_binary_preamble_def</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble.html#"><span class="id" title="library">counter_binary_preamble</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_left.html#"><span class="id" title="library">counter_binary_preamble_left</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="machine_component" class="idref" href="#machine_component"><span class="id" title="definition">machine_component</span></a>: <span class="id" title="keyword">Type</span> := <a class="idref" href="cap_machine.linking.html#component"><span class="id" title="record">component</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="DisjointList_list_Addr" class="idref" href="#DisjointList_list_Addr"><span class="id" title="instance">DisjointList_list_Addr</span></a> : <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#DisjointList"><span class="id" title="class">DisjointList</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span> (@<a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_default"><span class="id" title="inductive">disjoint_list_default</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Definition&nbsp;mbkregion&nbsp;(r_start&nbsp;r_end:&nbsp;Addr)&nbsp;(contents:&nbsp;list&nbsp;Word)&nbsp;(contents_spec:&nbsp;list&nbsp;Word):&nbsp;gmap&nbsp;Addr&nbsp;(Word&nbsp;*&nbsp;Word)&nbsp;:=&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;list_to_map&nbsp;(zip&nbsp;(region_addrs&nbsp;r_start&nbsp;r_end)&nbsp;(zip&nbsp;contents&nbsp;contents_spec)).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Instance&nbsp;segment_union&nbsp;:&nbsp;Union&nbsp;(segment&nbsp;Word).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;rewrite&nbsp;/segment.&nbsp;apply&nbsp;_.&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="memory_layout" class="idref" href="#memory_layout"><span class="id" title="record">memory_layout</span></a> `{<a id="H:1" class="idref" href="#H:1"><span class="id" title="binder">MachineParameters</span></a>} := {<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;counter&nbsp;example:&nbsp;preamble&nbsp;&amp;&nbsp;body&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="counter_region_start" class="idref" href="#counter_region_start"><span class="id" title="projection">counter_region_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="counter_preamble_start" class="idref" href="#counter_preamble_start"><span class="id" title="projection">counter_preamble_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="counter_body_start" class="idref" href="#counter_body_start"><span class="id" title="projection">counter_body_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="counter_region_end" class="idref" href="#counter_region_end"><span class="id" title="projection">counter_region_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;pointer&nbsp;to&nbsp;the&nbsp;linking&nbsp;table,&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;region&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="counter_linking_ptr_size" class="idref" href="#counter_linking_ptr_size"><span class="id" title="projection">counter_linking_ptr_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start:3"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start:4"><span class="id" title="method">counter_preamble_start</span></a>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;preamble&nbsp;code,&nbsp;that&nbsp;allocates&nbsp;the&nbsp;closure&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="counter_preamble_size" class="idref" href="#counter_preamble_size"><span class="id" title="projection">counter_preamble_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start:4"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>)%<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start:5"><span class="id" title="method">counter_body_start</span></a>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;code&nbsp;of&nbsp;the&nbsp;body,&nbsp;wrapped&nbsp;in&nbsp;the&nbsp;closure&nbsp;allocated&nbsp;by&nbsp;the&nbsp;preamble&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="counter_body_size" class="idref" href="#counter_body_size"><span class="id" title="projection">counter_body_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start:5"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>)%<span class="id" title="var">a</span> <span class="comment">(*&nbsp;we&nbsp;need&nbsp;to&nbsp;pad&nbsp;the&nbsp;entry&nbsp;points&nbsp;to&nbsp;mask&nbsp;the&nbsp;bounds,&nbsp;both&nbsp;counters&nbsp;will&nbsp;thus&nbsp;be&nbsp;of&nbsp;the&nbsp;largest&nbsp;possible&nbsp;size&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end:6"><span class="id" title="method">counter_region_end</span></a>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;malloc&nbsp;routine&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="malloc_start" class="idref" href="#malloc_start"><span class="id" title="projection">malloc_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="malloc_memptr" class="idref" href="#malloc_memptr"><span class="id" title="projection">malloc_memptr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="malloc_mem_start" class="idref" href="#malloc_mem_start"><span class="id" title="projection">malloc_mem_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="malloc_end" class="idref" href="#malloc_end"><span class="id" title="projection">malloc_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="malloc_code_size" class="idref" href="#malloc_code_size"><span class="id" title="projection">malloc_code_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start:10"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="cap_machine.examples.malloc.html#malloc_subroutine_instrs"><span class="id" title="definition">malloc_subroutine_instrs</span></a>)%<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr:11"><span class="id" title="method">malloc_memptr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="malloc_memptr_size" class="idref" href="#malloc_memptr_size"><span class="id" title="projection">malloc_memptr_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr:11"><span class="id" title="method">malloc_memptr</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start:12"><span class="id" title="method">malloc_mem_start</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="malloc_mem_size" class="idref" href="#malloc_mem_size"><span class="id" title="projection">malloc_mem_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start:12"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end:13"><span class="id" title="method">malloc_end</span></a>)%<span class="id" title="var">a</span>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;link&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="link_table_start" class="idref" href="#link_table_start"><span class="id" title="projection">link_table_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="link_table_end" class="idref" href="#link_table_end"><span class="id" title="projection">link_table_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="link_table_size" class="idref" href="#link_table_size"><span class="id" title="projection">link_table_size</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start:17"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end:18"><span class="id" title="method">link_table_end</span></a>;<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;disjointness&nbsp;of&nbsp;all&nbsp;the&nbsp;regions&nbsp;above&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="regions_disjoint" class="idref" href="#regions_disjoint"><span class="id" title="projection">regions_disjoint</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#56e0f19e356e1b0c774a4732d76e1b0a"><span class="id" title="notation">##</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start:17"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end:18"><span class="id" title="method">link_table_end</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start:12"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end:13"><span class="id" title="method">malloc_end</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr:11"><span class="id" title="method">malloc_memptr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start:10"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr:11"><span class="id" title="method">malloc_memptr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start:5"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end:6"><span class="id" title="method">counter_region_end</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start:4"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start:5"><span class="id" title="method">counter_body_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start:3"><span class="id" title="method">counter_region_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="offset_to_awkward" class="idref" href="#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a> `{<a id="H0:22" class="idref" href="#H0:22"><span class="id" title="binder">memory_layout</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;this&nbsp;setup,&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;counter&nbsp;comes&nbsp;just&nbsp;after&nbsp;the&nbsp;code<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;preamble&nbsp;*)</span><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>)%<span class="id" title="var">Z</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mk_initial_memory_left" class="idref" href="#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a> `{<a id="H0:24" class="idref" href="#H0:24"><span class="id" title="binder">memory_layout</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;pointer&nbsp;to&nbsp;the&nbsp;linking&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;preamble:&nbsp;code&nbsp;that&nbsp;creates&nbsp;the&nbsp;awkward&nbsp;example&nbsp;closure&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_preamble_instrs"><span class="id" title="definition">counter_left_preamble_instrs</span></a> 0%<span class="id" title="var">Z</span> <span class="comment">(*&nbsp;offset&nbsp;to&nbsp;malloc&nbsp;in&nbsp;linking&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a> <span class="comment">(*&nbsp;offset&nbsp;to&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;example&nbsp;*)</span>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;body&nbsp;of&nbsp;the&nbsp;counter,&nbsp;that&nbsp;will&nbsp;be&nbsp;encapsulated&nbsp;in&nbsp;the&nbsp;closure<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;created&nbsp;by&nbsp;the&nbsp;preamble&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs"><span class="id" title="definition">counter_left_instrs</span></a>)<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;∪&nbsp;mkregion&nbsp;adv_start&nbsp;adv_end&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adversarial&nbsp;code:&nbsp;any&nbsp;code&nbsp;or&nbsp;data,&nbsp;but&nbsp;no&nbsp;capabilities&nbsp;(see&nbsp;condition&nbsp;below)&nbsp;except&nbsp;for&nbsp;malloc&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(adv_val&nbsp;++&nbsp;<span class="inlinecode"><span class="id" title="var">WCap</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode"><span class="id" title="var">malloc_start</span></span> <span class="inlinecode"><span class="id" title="var">malloc_end</span></span> <span class="inlinecode"><span class="id" title="var">malloc_start</span></span>)&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;code&nbsp;for&nbsp;the&nbsp;malloc&nbsp;subroutine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.malloc.html#malloc_subroutine_instrs"><span class="id" title="definition">malloc_subroutine_instrs</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Capability&nbsp;to&nbsp;malloc's&nbsp;memory&nbsp;pool,&nbsp;used&nbsp;by&nbsp;the&nbsp;malloc&nbsp;subroutine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Malloc's&nbsp;memory&nbsp;pool,&nbsp;initialized&nbsp;to&nbsp;zero&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.addr_reg_sample.html#region_addrs_zeroes"><span class="id" title="definition">region_addrs_zeroes</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;link&nbsp;table,&nbsp;with&nbsp;pointers&nbsp;to&nbsp;the&nbsp;malloc&nbsp;subroutines&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mk_initial_memory_right" class="idref" href="#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a> `{<a id="H0:26" class="idref" href="#H0:26"><span class="id" title="binder">memory_layout</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;pointer&nbsp;to&nbsp;the&nbsp;linking&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;preamble:&nbsp;code&nbsp;that&nbsp;creates&nbsp;the&nbsp;awkward&nbsp;example&nbsp;closure&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_preamble_instrs"><span class="id" title="definition">counter_left_preamble_instrs</span></a> 0%<span class="id" title="var">Z</span> <span class="comment">(*&nbsp;offset&nbsp;to&nbsp;malloc&nbsp;in&nbsp;linking&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a> <span class="comment">(*&nbsp;offset&nbsp;to&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;example&nbsp;*)</span>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;body&nbsp;of&nbsp;the&nbsp;counter,&nbsp;that&nbsp;will&nbsp;be&nbsp;encapsulated&nbsp;in&nbsp;the&nbsp;closure<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;created&nbsp;by&nbsp;the&nbsp;preamble&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_right_instrs"><span class="id" title="definition">counter_right_instrs</span></a>)<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;∪&nbsp;mkregion&nbsp;adv_start&nbsp;adv_end&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adversarial&nbsp;code:&nbsp;any&nbsp;code&nbsp;or&nbsp;data,&nbsp;but&nbsp;no&nbsp;capabilities&nbsp;(see&nbsp;condition&nbsp;below)&nbsp;except&nbsp;for&nbsp;malloc&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(adv_val&nbsp;++&nbsp;<span class="inlinecode"><span class="id" title="var">WCap</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode"><span class="id" title="var">malloc_start</span></span> <span class="inlinecode"><span class="id" title="var">malloc_end</span></span> <span class="inlinecode"><span class="id" title="var">malloc_start</span></span>)&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;code&nbsp;for&nbsp;the&nbsp;malloc&nbsp;subroutine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.malloc.html#malloc_subroutine_instrs"><span class="id" title="definition">malloc_subroutine_instrs</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Capability&nbsp;to&nbsp;malloc's&nbsp;memory&nbsp;pool,&nbsp;used&nbsp;by&nbsp;the&nbsp;malloc&nbsp;subroutine&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr"><span class="id" title="method">malloc_memptr</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Malloc's&nbsp;memory&nbsp;pool,&nbsp;initialized&nbsp;to&nbsp;zero&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.addr_reg_sample.html#region_addrs_zeroes"><span class="id" title="definition">region_addrs_zeroes</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;link&nbsp;table,&nbsp;with&nbsp;pointers&nbsp;to&nbsp;the&nbsp;malloc&nbsp;subroutines&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="comp1" class="idref" href="#comp1"><span class="id" title="definition">comp1</span></a> `{<a id="H0:28" class="idref" href="#H0:28"><span class="id" title="binder">memory_layout</span></a>} : <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#machine_component"><span class="id" title="definition">machine_component</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#segment"><span class="id" title="projection">segment</span></a> := <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#imports"><span class="id" title="projection">imports</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#exports"><span class="id" title="projection">exports</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> 0 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="comp2" class="idref" href="#comp2"><span class="id" title="definition">comp2</span></a> `{<a id="H0:30" class="idref" href="#H0:30"><span class="id" title="binder">memory_layout</span></a>} : <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#machine_component"><span class="id" title="definition">machine_component</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#segment"><span class="id" title="projection">segment</span></a> := <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#imports"><span class="id" title="projection">imports</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#exports"><span class="id" title="projection">exports</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> 0 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_initial_context" class="idref" href="#is_initial_context"><span class="id" title="definition">is_initial_context</span></a> (<a id="c:31" class="idref" href="#c:31"><span class="id" title="binder">c</span></a> : <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#machine_component"><span class="id" title="definition">machine_component</span></a>) (<a id="r:32" class="idref" href="#r:32"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement_adequacy.html#code_all_ints"><span class="id" title="definition">code_all_ints</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r':33" class="idref" href="#r':33"><span class="id" title="binder">r'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r':33"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r':33"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WInt"><span class="id" title="constructor">WInt</span></a> 0)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="p:34" class="idref" href="#p:34"><span class="id" title="binder">p</span></a> <a id="b:35" class="idref" href="#b:35"><span class="id" title="binder">b</span></a> <a id="e:36" class="idref" href="#e:36"><span class="id" title="binder">e</span></a> <a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#p:34"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#e:36"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#a:37"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#p:34"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#p:34"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.linking.html#imports"><span class="id" title="projection">imports</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.linking.html#exports"><span class="id" title="projection">exports</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;extra&nbsp;assumptions&nbsp;on&nbsp;adv&nbsp;imports&nbsp;and&nbsp;exports&nbsp;that&nbsp;make&nbsp;the&nbsp;proof&nbsp;easier&nbsp;to&nbsp;go&nbsp;through&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Adequacy" class="idref" href="#Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="35567acd9698191de072da28ede88db8" class="idref" href="#35567acd9698191de072da28ede88db8"><span class="id" title="binder">Σ</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:40" class="idref" href="#inv_preg:40"><span class="id" title="binder">inv_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#invGpreS"><span class="id" title="class">invGpreS</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:41" class="idref" href="#mem_preg:41"><span class="id" title="binder">mem_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:42" class="idref" href="#reg_preg:42"><span class="id" title="binder">reg_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="seal_store_preg:43" class="idref" href="#seal_store_preg:43"><span class="id" title="binder">seal_store_preg</span></a>: <a class="idref" href="cap_machine.seal_store.html#sealStorePreG"><span class="id" title="class">sealStorePreG</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:44" class="idref" href="#na_invg:44"><span class="id" title="binder">na_invg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_invG"><span class="id" title="class">na_invG</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="MP:45" class="idref" href="#MP:45"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cfgg:46" class="idref" href="#cfgg:46"><span class="id" title="binder">cfgg</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#cfgUR"><span class="id" title="abbreviation">cfgUR</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="confidentiality_adequacy_l'" class="idref" href="#confidentiality_adequacy_l'"><span class="id" title="lemma">confidentiality_adequacy_l'</span></a> {<a id="ML:47" class="idref" href="#ML:47"><span class="id" title="binder">ML</span></a>:<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#memory_layout"><span class="id" title="class">memory_layout</span></a>} <a id="c_adv:48" class="idref" href="#c_adv:48"><span class="id" title="binder">c_adv</span></a> <a id="r:49" class="idref" href="#r:49"><span class="id" title="binder">r</span></a> (<a id="es:50" class="idref" href="#es:50"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>) <a id="reg':51" class="idref" href="#reg':51"><span class="id" title="binder">reg'</span></a> <a id="m':52" class="idref" href="#m':52"><span class="id" title="binder">m'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement.html#is_ctxt"><span class="id" title="abbreviation">is_ctxt</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:48"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:49"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement.html#is_ctxt"><span class="id" title="abbreviation">is_ctxt</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:48"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:49"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#is_initial_context"><span class="id" title="definition">is_initial_context</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:48"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:49"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> (<a class="idref" href="cap_machine.contextual_refinement.html#initial_state"><span class="id" title="definition">initial_state</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:48"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.linking.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a>) <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:49"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="cap_machine.cap_lang.html#HaltedV"><span class="id" title="constructor">HaltedV</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#es:50"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#reg':51"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#m':52"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="es':53" class="idref" href="#es':53"><span class="id" title="binder">es'</span></a> <a id="conf':54" class="idref" href="#conf':54"><span class="id" title="binder">conf'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> (<a class="idref" href="cap_machine.contextual_refinement.html#initial_state"><span class="id" title="definition">initial_state</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:48"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.linking.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a>) <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:49"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="cap_machine.cap_lang.html#HaltedV"><span class="id" title="constructor">HaltedV</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#es':53"><span class="id" title="variable">es'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#conf':54"><span class="id" title="variable">conf'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hallints</span> &amp; <span class="id" title="var">Hregs</span> &amp; (<span class="id" title="var">p</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">a</span> &amp; <span class="id" title="var">Hrpbea</span> &amp; <span class="id" title="var">Hp</span>) &amp; (<span class="id" title="var">addr</span> &amp; <span class="id" title="var">Himp</span>) &amp; <span class="id" title="var">Hexp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="cap_machine.contextual_refinement_adequacy.html#contextual_refinement_adequacy"><span class="id" title="axiom">contextual_refinement_adequacy</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a> <span class="id" title="var">c_adv</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">es</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Href</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Href</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Href</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm2</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_union_L"><span class="id" title="lemma">dom_union_L</span></a> !<a class="idref" href="cap_machine.examples.mkregion_helpers.html#dom_mkregion_eq"><span class="id" title="axiom">dom_mkregion_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_dist_incr"><span class="id" title="lemma">finz_dist_incr</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span> <span class="id" title="var">reg_heapg</span> <span class="id" title="var">γc</span> <span class="id" title="var">logrel_nais</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span> <span class="id" title="var">Hcfg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(#Hspec &amp; Hmem &amp; Hmemspec)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.contextual_refinement_adequacy.html#interp_exports"><span class="id" title="definition">interp_exports</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_singleton"><span class="id" title="lemma">big_sepM_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#regions_disjoint"><span class="id" title="method">regions_disjoint</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_link_table</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a> /<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hlink_table]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span>+ <span class="id" title="var">Hdisj_link_table</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hlink_table_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span>+ <span class="id" title="var">Hdisj_link_table</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_mem</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_mem]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_mem_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_mem</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_memptr</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_memptr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_memptr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_memptr_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_memptr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmalloc_memptr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmalloc_memptr _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmalloc_memptr_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmalloc_memptr_spec _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_code</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_code]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_code</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_code_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_code</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_counter_body</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hcounter_body]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_body</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hcounter_body_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_body</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_counter_preamble</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link Hcounter_preamble]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_preamble</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link_spec Hcounter_preamble_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_preamble</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcounter_link"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link _]". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcounter_link_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link_spec _]". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hdisj_link_table</span> <span class="id" title="var">Hdisj_malloc_mem</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdisj_malloc_memptr</span> <span class="id" title="var">Hdisj_malloc_code</span> <span class="id" title="var">Hdisj_counter_body</span> <span class="id" title="var">Hdisj_counter_preamble</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Massage&nbsp;points-to&nbsp;into&nbsp;sepL2s&nbsp;with&nbsp;permission-pointsto&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hlink_table]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hlink_table". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_mem]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_mem".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_code]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_code".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_preamble]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_preamble".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_body]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_body". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hlink_table_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hlink_table_spec". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_mem_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_mem_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_code_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_code_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_preamble_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_preamble_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_body_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_body_spec". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left"><span class="id" title="definition">counter_left</span></a> <span class="id" title="var">_</span>) -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_preamble"><span class="id" title="definition">counter_left_preamble</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_right"><span class="id" title="definition">counter_right</span></a> <span class="id" title="var">_</span>) -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_right_preamble"><span class="id" title="definition">counter_right_preamble</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Split&nbsp;the&nbsp;link&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="axiom">finz_seq_between_cons</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL2_cons"><span class="id" title="lemma">big_sepL2_cons</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlink_table"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlink1 _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL2_cons"><span class="id" title="lemma">big_sepL2_cons</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlink_table_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlink1' _]".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Allocate&nbsp;malloc&nbsp;invariant&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_inv_alloc"><span class="id" title="lemma">na_inv_alloc</span></a> <span class="id" title="var">logrel_nais</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_left.html#mallocN"><span class="id" title="definition">mallocN</span></a> (<a class="idref" href="cap_machine.examples.malloc_binary.html#malloc_inv_binary"><span class="id" title="definition">malloc_inv_binary</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hmalloc_code Hmalloc_memptr Hmalloc_mem Hmalloc_code_spec Hmalloc_memptr_spec Hmalloc_mem_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#Hinv_malloc".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.malloc_binary.html#malloc_inv_binary"><span class="id" title="definition">malloc_inv_binary</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr_size"><span class="id" title="method">malloc_memptr_size</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.malloc.html#malloc_subroutine_instrs_length"><span class="id" title="definition">malloc_subroutine_instrs_length</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Facts&nbsp;about&nbsp;layout&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.contiguous.html#isCorrectPC_range"><span class="id" title="definition">isCorrectPC_range</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_linking_ptr_size"><span class="id" title="method">counter_linking_ptr_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">counter_preamble_move_addr</span> := (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">counter_preamble_move_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">counter_preamble_move_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">counter_preamble_move_addr</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">counter_preamble_move_addr</span>, <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.contiguous.html#isCorrectPC_range"><span class="id" title="definition">isCorrectPC_range</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_linking_ptr_size"><span class="id" title="method">counter_linking_ptr_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Extract&nbsp;validity&nbsp;of&nbsp;library&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="cap_machine.examples.counter_binary_preamble.html#counter_preamble_spec"><span class="id" title="axiom">counter_binary_preamble.counter_preamble_spec</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span> <span class="id" title="var">Hcfg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Spec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">Spec</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hspec $Hinv_malloc $Hcounter_preamble $Hcounter_body
                      $Hcounter_preamble_spec $Hcounter_body_spec $Hcounter_link $Hcounter_link_spec $Hlink1 $Hlink1']"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#le_addr_withinBounds"><span class="id" title="lemma">le_addr_withinBounds</span></a>. <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#le_addr_withinBounds"><span class="id" title="lemma">le_addr_withinBounds</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>. <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.linking.html#link_comm"><span class="id" title="axiom">link_comm</span></a>. <span class="id" title="var">done</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm1</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.linking.html#link_comm"><span class="id" title="axiom">link_comm</span></a>. <span class="id" title="var">done</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm2</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="confidentiality_adequacy_r'" class="idref" href="#confidentiality_adequacy_r'"><span class="id" title="lemma">confidentiality_adequacy_r'</span></a> {<a id="ML:55" class="idref" href="#ML:55"><span class="id" title="binder">ML</span></a>:<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#memory_layout"><span class="id" title="class">memory_layout</span></a>} <a id="c_adv:56" class="idref" href="#c_adv:56"><span class="id" title="binder">c_adv</span></a> <a id="r:57" class="idref" href="#r:57"><span class="id" title="binder">r</span></a> (<a id="es:58" class="idref" href="#es:58"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>) <a id="reg':59" class="idref" href="#reg':59"><span class="id" title="binder">reg'</span></a> <a id="m':60" class="idref" href="#m':60"><span class="id" title="binder">m'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement.html#is_ctxt"><span class="id" title="abbreviation">is_ctxt</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:56"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:57"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.contextual_refinement.html#is_ctxt"><span class="id" title="abbreviation">is_ctxt</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:56"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:57"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#is_initial_context"><span class="id" title="definition">is_initial_context</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:56"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:57"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> (<a class="idref" href="cap_machine.contextual_refinement.html#initial_state"><span class="id" title="definition">initial_state</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:56"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.linking.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a>) <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:57"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="cap_machine.cap_lang.html#HaltedV"><span class="id" title="constructor">HaltedV</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#es:58"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#reg':59"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#m':60"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="es':61" class="idref" href="#es':61"><span class="id" title="binder">es'</span></a> <a id="conf':62" class="idref" href="#conf':62"><span class="id" title="binder">conf'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> (<a class="idref" href="cap_machine.contextual_refinement.html#initial_state"><span class="id" title="definition">initial_state</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c_adv:56"><span class="id" title="variable">c_adv</span></a> <a class="idref" href="cap_machine.linking.html#ef9d256079c0792b68e6d5b9b0edd2f4"><span class="id" title="notation">⋈</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a>) <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#r:57"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="cap_machine.cap_lang.html#HaltedV"><span class="id" title="constructor">HaltedV</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#es':61"><span class="id" title="variable">es'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#conf':62"><span class="id" title="variable">conf'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hallints</span> &amp; <span class="id" title="var">Hregs</span> &amp; (<span class="id" title="var">p</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">a</span> &amp; <span class="id" title="var">Hrpbea</span> &amp; <span class="id" title="var">Hp</span>) &amp; (<span class="id" title="var">addr</span> &amp; <span class="id" title="var">Himp</span>) &amp; <span class="id" title="var">Hexp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="cap_machine.contextual_refinement_adequacy.html#contextual_refinement_adequacy"><span class="id" title="axiom">contextual_refinement_adequacy</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp2"><span class="id" title="definition">comp2</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#comp1"><span class="id" title="definition">comp1</span></a> <span class="id" title="var">c_adv</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">es</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Href</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Href</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Href</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm2</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_union_L"><span class="id" title="lemma">dom_union_L</span></a> !<a class="idref" href="cap_machine.examples.mkregion_helpers.html#dom_mkregion_eq"><span class="id" title="axiom">dom_mkregion_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_dist_incr"><span class="id" title="lemma">finz_dist_incr</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span> <span class="id" title="var">reg_heapg</span> <span class="id" title="var">γc</span> <span class="id" title="var">logrel_nais</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span> <span class="id" title="var">Hcfg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(#Hspec &amp; Hmem &amp; Hmemspec)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.contextual_refinement_adequacy.html#interp_exports"><span class="id" title="definition">interp_exports</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_singleton"><span class="id" title="lemma">big_sepM_singleton</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#regions_disjoint"><span class="id" title="method">regions_disjoint</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_link_table</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_left"><span class="id" title="definition">mk_initial_memory_left</span></a> /<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#mk_initial_memory_right"><span class="id" title="definition">mk_initial_memory_right</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hlink_table]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span>+ <span class="id" title="var">Hdisj_link_table</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hlink_table_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span>+ <span class="id" title="var">Hdisj_link_table</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_mem</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_mem]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_mem_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_mem</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_memptr</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_memptr]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_memptr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_memptr_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_memptr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmalloc_memptr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmalloc_memptr _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmalloc_memptr_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmalloc_memptr_spec _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_malloc_code</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hmalloc_code]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_code</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hmalloc_code_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_malloc_code</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_counter_body</span> &amp; <span class="id" title="var">Hdisjoint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmem Hcounter_body]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_body</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hmemspec Hcounter_body_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_body</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#disjoint_list_cons"><span class="id" title="axiom">disjoint_list_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdisjoint</span> |- *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hdisj_counter_preamble</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link Hcounter_preamble]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_preamble</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmemspec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link_spec Hcounter_preamble_spec]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">disjoint_map_to_list</span>. <span class="id" title="var">set_solver</span> +<span class="id" title="var">Hdisj_counter_preamble</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcounter_link"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link _]". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hcounter_link_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hcounter_link_spec _]". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span> <span class="id" title="var">snd</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hdisj_link_table</span> <span class="id" title="var">Hdisj_malloc_mem</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdisj_malloc_memptr</span> <span class="id" title="var">Hdisj_malloc_code</span> <span class="id" title="var">Hdisj_counter_body</span> <span class="id" title="var">Hdisj_counter_preamble</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Massage&nbsp;points-to&nbsp;into&nbsp;sepL2s&nbsp;with&nbsp;permission-pointsto&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hlink_table]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hlink_table". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_mem]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_mem".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_code]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_code".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_preamble]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_preamble".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare"><span class="id" title="axiom">mkregion_prepare</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_body]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_body". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hlink_table_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hlink_table_spec". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_mem_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_mem_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#replicate_length"><span class="id" title="lemma">replicate_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_start"><span class="id" title="method">malloc_mem_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hmalloc_code_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hmalloc_code_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_preamble_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_preamble_spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion_prepare_spec"><span class="id" title="axiom">mkregion_prepare_spec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hcounter_body_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;Hcounter_body_spec". <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left"><span class="id" title="definition">counter_left</span></a> <span class="id" title="var">_</span>) -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_preamble"><span class="id" title="definition">counter_left_preamble</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_right"><span class="id" title="definition">counter_right</span></a> <span class="id" title="var">_</span>) -/(<a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_right_preamble"><span class="id" title="definition">counter_right_preamble</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Split&nbsp;the&nbsp;link&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="axiom">finz_seq_between_cons</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL2_cons"><span class="id" title="lemma">big_sepL2_cons</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlink_table"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlink1 _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL2_cons"><span class="id" title="lemma">big_sepL2_cons</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlink_table_spec"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlink1' _]".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Allocate&nbsp;malloc&nbsp;invariant&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_inv_alloc"><span class="id" title="lemma">na_inv_alloc</span></a> <span class="id" title="var">logrel_nais</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_left.html#mallocN"><span class="id" title="definition">mallocN</span></a> (<a class="idref" href="cap_machine.examples.malloc_binary.html#malloc_inv_binary"><span class="id" title="definition">malloc_inv_binary</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_start"><span class="id" title="method">malloc_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_end"><span class="id" title="method">malloc_end</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hmalloc_code Hmalloc_memptr Hmalloc_mem Hmalloc_code_spec Hmalloc_memptr_spec Hmalloc_mem_spec]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#Hinv_malloc".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.malloc_binary.html#malloc_inv_binary"><span class="id" title="definition">malloc_inv_binary</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_code_size"><span class="id" title="method">malloc_code_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_mem_size"><span class="id" title="method">malloc_mem_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#malloc_memptr_size"><span class="id" title="method">malloc_memptr_size</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.malloc.html#malloc_subroutine_instrs_length"><span class="id" title="definition">malloc_subroutine_instrs_length</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Facts&nbsp;about&nbsp;layout&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.contiguous.html#isCorrectPC_range"><span class="id" title="definition">isCorrectPC_range</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_linking_ptr_size"><span class="id" title="method">counter_linking_ptr_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">counter_preamble_move_addr</span> := (<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">counter_preamble_move_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">counter_preamble_move_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">counter_preamble_move_addr</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">counter_preamble_move_addr</span>, <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#offset_to_awkward"><span class="id" title="definition">offset_to_awkward</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_move_offset"><span class="id" title="definition">counter_preamble_move_offset</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_start"><span class="id" title="method">counter_preamble_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.contiguous.html#isCorrectPC_range"><span class="id" title="definition">isCorrectPC_range</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_start"><span class="id" title="method">counter_region_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_start"><span class="id" title="method">counter_body_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_region_end"><span class="id" title="method">counter_region_end</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_linking_ptr_size"><span class="id" title="method">counter_linking_ptr_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>, <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Extract&nbsp;validity&nbsp;of&nbsp;library&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="cap_machine.examples.counter_binary_preamble_left.html#counter_preamble_spec"><span class="id" title="axiom">counter_binary_preamble_left.counter_preamble_spec</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#c7e8116438e02dde8049f1cd7b720c83"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span> <span class="id" title="var">Hcfg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Spec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">Spec</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hspec $Hinv_malloc $Hcounter_preamble $Hcounter_body
                      $Hcounter_preamble_spec $Hcounter_body_spec $Hcounter_link $Hcounter_link_spec $Hlink1 $Hlink1']"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_preamble_size"><span class="id" title="method">counter_preamble_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_preamble_instrs_length"><span class="id" title="definition">counter_preamble_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#le_addr_withinBounds"><span class="id" title="lemma">le_addr_withinBounds</span></a>. <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#le_addr_withinBounds"><span class="id" title="lemma">le_addr_withinBounds</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_end"><span class="id" title="method">link_table_end</span></a> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_size"><span class="id" title="method">link_table_size</span></a>. <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#link_table_start"><span class="id" title="method">link_table_start</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.examples.contiguous.html#contiguous_between_region_addrs"><span class="id" title="lemma">contiguous_between_region_addrs</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#counter_body_size"><span class="id" title="method">counter_body_size</span></a>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.counter_binary_preamble_def.html#counter_left_instrs_length"><span class="id" title="definition">counter_left_instrs_length</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.linking.html#link_comm"><span class="id" title="axiom">link_comm</span></a>. <span class="id" title="var">done</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm1</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.linking.html#link_comm"><span class="id" title="axiom">link_comm</span></a>. <span class="id" title="var">done</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm2</span>. <span class="id" title="var">solve_can_link</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.counter_binary_adequacy.html#Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
