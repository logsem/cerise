<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.logical_mapsto</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">invariants</span> <span class="id" title="library">gen_heap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">weakestpre</span> <span class="id" title="library">ectx_lifting</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">gmap</span> <span class="id" title="library">excl</span> <span class="id" title="library">agree</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">excl_auth</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">sorting</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="cap_machine.cap_lang.html#"><span class="id" title="library">cap_lang</span></a> <a class="idref" href="cap_machine.iris_extra.html#"><span class="id" title="library">iris_extra</span></a> <a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.machine_parameters.html#"><span class="id" title="library">machine_parameters</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Version" class="idref" href="#Version"><span class="id" title="definition">Version</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="LAddr" class="idref" href="#LAddr"><span class="id" title="definition">LAddr</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Inductive</span> <a id="LSealable" class="idref" href="#LSealable"><span class="id" title="definition, inductive"><span id="LSealable_rect" class="id"><span id="LSealable_ind" class="id"><span id="LSealable_rec" class="id"><span id="LSealable_sind" class="id">LSealable</span></span></span></span></span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="LSCap" class="idref" href="#LSCap"><span class="id" title="constructor">LSCap</span></a>: <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LSealable:1"><span class="id" title="inductive">LSealable</span></a><br/>
| <a id="LSSealRange" class="idref" href="#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a>: <a class="idref" href="cap_machine.machine_base.html#SealPerms"><span class="id" title="definition">SealPerms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LSealable:1"><span class="id" title="inductive">LSealable</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="LWord" class="idref" href="#LWord"><span class="id" title="definition, inductive"><span id="LWord_rect" class="id"><span id="LWord_ind" class="id"><span id="LWord_rec" class="id"><span id="LWord_sind" class="id">LWord</span></span></span></span></span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="LWInt" class="idref" href="#LWInt"><span class="id" title="constructor">LWInt</span></a> (<a id="z:5" class="idref" href="#z:5"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
| <a id="LWSealable" class="idref" href="#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a id="sb:6" class="idref" href="#sb:6"><span class="id" title="binder">sb</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>)<br/>
| <a id="LWSealed" class="idref" href="#LWSealed"><span class="id" title="constructor">LWSealed</span></a>: <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord:3"><span class="id" title="inductive">LWord</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="LCap" class="idref" href="#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> := (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LSealRange" class="idref" href="#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> := (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LSealedCap" class="idref" href="#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">o</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> := (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> (<a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LInt" class="idref" href="#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span> := (<a class="idref" href="cap_machine.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="lword_inhabited" class="idref" href="#lword_inhabited"><span class="id" title="instance">lword_inhabited</span></a>: <span class="id" title="class">Inhabited</span> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> := <span class="id" title="constructor">populate</span> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> 0).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="version_eq_dec" class="idref" href="#version_eq_dec"><span class="id" title="instance">version_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="lsealb_eq_dec" class="idref" href="#lsealb_eq_dec"><span class="id" title="instance">lsealb_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="lword_eq_dec" class="idref" href="#lword_eq_dec"><span class="id" title="instance">lword_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="lsealable_countable" class="idref" href="#lsealable_countable"><span class="id" title="instance">lsealable_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">enc</span> := <span class="id" title="keyword">fun</span> <a id="sb:7" class="idref" href="#sb:7"><span class="id" title="binder"><span id="sb:9" class="id">sb</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#sb:7"><span class="id" title="variable">sb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">dec</span> := <span class="id" title="keyword">fun</span> <a id="e:11" class="idref" href="#e:11"><span class="id" title="binder"><span id="e:13" class="id">e</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <a class="idref" href="cap_machine.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="var">a</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <a class="idref" href="cap_machine.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="var">a</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">inj_countable'</span> <span class="id" title="var">enc</span> <span class="id" title="var">dec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="lword_countable" class="idref" href="#lword_countable"><span class="id" title="instance">lword_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">enc</span> := <span class="id" title="keyword">fun</span> <a id="w:15" class="idref" href="#w:15"><span class="id" title="binder"><span id="w:17" class="id">w</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#w:15"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">dec</span> := <span class="id" title="keyword">fun</span> <a id="e:19" class="idref" href="#e:19"><span class="id" title="binder"><span id="e:21" class="id">e</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#e:19"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sb</span>) =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">inj_countable'</span> <span class="id" title="var">enc</span> <span class="id" title="var">dec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z</span> := <span class="id" title="tactic">fresh</span> "z" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">fresh</span> "p" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="tactic">fresh</span> "b" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a</span> := <span class="id" title="tactic">fresh</span> "a" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v</span> := <span class="id" title="tactic">fresh</span> "v" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">o</span> := <span class="id" title="tactic">fresh</span> "o" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sr</span> := <span class="id" title="tactic">fresh</span> "sr" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sd</span> := <span class="id" title="tactic">fresh</span> "sd" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">z</span> | [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>] | <span class="id" title="var">o</span> [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>]].<br/>

<br/>
<span class="comment">(*&nbsp;Setters&nbsp;and&nbsp;Getters&nbsp;lword&nbsp;and&nbsp;laddr&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sealable_to_lsealable" class="idref" href="#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> (<a id="sb:23" class="idref" href="#sb:23"><span class="id" title="binder">sb</span></a> : <a class="idref" href="cap_machine.machine_base.html#Sealable"><span class="id" title="inductive">Sealable</span></a>) (<a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#sb:23"><span class="id" title="variable">sb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:24"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#SSealRange"><span class="id" title="constructor">SSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lsealable_get_sealable" class="idref" href="#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> (<a id="lsb:26" class="idref" href="#lsb:26"><span class="id" title="binder">lsb</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>) : <a class="idref" href="cap_machine.machine_base.html#Sealable"><span class="id" title="inductive">Sealable</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lsb:26"><span class="id" title="variable">lsb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">ob</span> <span class="id" title="var">oe</span> <span class="id" title="var">oa</span> =&gt; <a class="idref" href="cap_machine.machine_base.html#SSealRange"><span class="id" title="constructor">SSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">ob</span> <span class="id" title="var">oe</span> <span class="id" title="var">oa</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_to_lword" class="idref" href="#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> (<a id="w:28" class="idref" href="#w:28"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:29" class="idref" href="#v:29"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#w:28"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#WInt"><span class="id" title="constructor">WInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#WSealable"><span class="id" title="constructor">WSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> <span class="id" title="var">sb</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:29"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">ot</span> (<a class="idref" href="cap_machine.logical_mapsto.html#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> <span class="id" title="var">sb</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:29"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_word" class="idref" href="#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a id="lw:31" class="idref" href="#lw:31"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:31"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.machine_base.html#WInt"><span class="id" title="constructor">WInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">lsb</span> =&gt; <a class="idref" href="cap_machine.machine_base.html#WSealable"><span class="id" title="constructor">WSealable</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> <span class="id" title="var">lsb</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> <span class="id" title="var">lsb</span> =&gt; <a class="idref" href="cap_machine.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">o</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> <span class="id" title="var">lsb</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_version" class="idref" href="#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> (<a id="lw:33" class="idref" href="#lw:33"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:33"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> | (<a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_get_addr" class="idref" href="#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> (<a id="la:35" class="idref" href="#la:35"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) := <a class="idref" href="cap_machine.logical_mapsto.html#la:35"><span class="id" title="variable">la</span></a><span class="id" title="notation">.1</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_get_version" class="idref" href="#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> (<a id="la:36" class="idref" href="#la:36"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) := <a class="idref" href="cap_machine.logical_mapsto.html#la:36"><span class="id" title="variable">la</span></a><span class="id" title="notation">.2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_inv" class="idref" href="#laddr_inv"><span class="id" title="lemma">laddr_inv</span></a> <a id="la:37" class="idref" href="#la:37"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> ; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_region" class="idref" href="#logical_region"><span class="id" title="definition">logical_region</span></a> ( <a id="region:38" class="idref" href="#region:38"><span class="id" title="binder">region</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ) (<a id="v:39" class="idref" href="#v:39"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:39"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#region:38"><span class="id" title="variable">region</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_log_cap" class="idref" href="#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> (<a id="lw:41" class="idref" href="#lw:41"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:41"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_log_cap_is_cap_true_iff" class="idref" href="#is_log_cap_is_cap_true_iff"><span class="id" title="lemma">is_log_cap_is_cap_true_iff</span></a> (<a id="lw:43" class="idref" href="#lw:43"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:43"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:43"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_log_cap_is_cap_false_iff" class="idref" href="#is_log_cap_is_cap_false_iff"><span class="id" title="lemma">is_log_cap_is_cap_false_iff</span></a> (<a id="lw:44" class="idref" href="#lw:44"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:44"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:44"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="ReservedAddresses" class="idref" href="#ReservedAddresses"><span class="id" title="record">ReservedAddresses</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">ReservedAddressesG</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="reserved_addresses" class="idref" href="#reserved_addresses"><span class="id" title="projection">reserved_addresses</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="init_version" class="idref" href="#init_version"><span class="id" title="projection">init_version</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="VMap" class="idref" href="#VMap"><span class="id" title="definition">VMap</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LReg" class="idref" href="#LReg"><span class="id" title="definition">LReg</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LMem" class="idref" href="#LMem"><span class="id" title="definition">LMem</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LDFrac" class="idref" href="#LDFrac"><span class="id" title="definition">LDFrac</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <span class="id" title="inductive">iris.algebra.dfrac.dfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Logical_mapsto" class="idref" href="#Logical_mapsto"><span class="id" title="section">Logical_mapsto</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{ <a id="reservedaddresses:48" class="idref" href="#reservedaddresses:48"><span class="id" title="binder">reservedaddresses</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#ReservedAddresses"><span class="id" title="class">ReservedAddresses</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lreg_strip" class="idref" href="#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> (<a id="lr:49" class="idref" href="#lr:49"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a> :=<br/>
&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="lw:50" class="idref" href="#lw:50"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:50"><span class="id" title="variable">lw</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#lr:49"><span class="id" title="variable">lr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_addr" class="idref" href="#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> (<a id="la:51" class="idref" href="#la:51"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="vmap:52" class="idref" href="#vmap:52"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap:52"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:51"><span class="id" title="variable">la</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:51"><span class="id" title="variable">la</span></a><span class="id" title="notation">.2</span>. <span class="comment">(*&nbsp;check&nbsp;whether&nbsp;the&nbsp;version&nbsp;of&nbsp;`la`&nbsp;matches&nbsp;in&nbsp;cur_map&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_word" class="idref" href="#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a id="lw:53" class="idref" href="#lw:53"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="vmap:54" class="idref" href="#vmap:54"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:53"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> | <a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:56" class="idref" href="#a:56"><span class="id" title="binder"><span id="a:57" class="id">a</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:56"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#vmap:54"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:56"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_regs" class="idref" href="#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> (<a id="lr:58" class="idref" href="#lr:58"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:59" class="idref" href="#vmap:59"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <a id="lw:60" class="idref" href="#lw:60"><span class="id" title="binder">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:60"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:59"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lr:58"><span class="id" title="variable">lr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_regs_mono" class="idref" href="#is_cur_regs_mono"><span class="id" title="lemma">is_cur_regs_mono</span></a> {<a id="lr1:61" class="idref" href="#lr1:61"><span class="id" title="binder">lr1</span></a> <a id="lr2:62" class="idref" href="#lr2:62"><span class="id" title="binder">lr2</span></a> <a id="vmap:63" class="idref" href="#vmap:63"><span class="id" title="binder">vmap</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr1:61"><span class="id" title="variable">lr1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lr2:62"><span class="id" title="variable">lr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr2:62"><span class="id" title="variable">lr2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:63"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr1:61"><span class="id" title="variable">lr1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:63"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">map_subseteq_union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsubset</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_union_1_1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="is_cur_addr_dec" class="idref" href="#is_cur_addr_dec"><span class="id" title="instance">is_cur_addr_dec</span></a> (<a id="la:64" class="idref" href="#la:64"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="vmap:65" class="idref" href="#vmap:65"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:64"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:65"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">la</span><span class="id" title="notation">.1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_same" class="idref" href="#is_cur_addr_same"><span class="id" title="lemma">is_cur_addr_same</span></a> (<a id="a:66" class="idref" href="#a:66"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:67" class="idref" href="#v:67"><span class="id" title="binder">v</span></a> <a id="v':68" class="idref" href="#v':68"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:69" class="idref" href="#vmap:69"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:66"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:67"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:69"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:66"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':68"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:69"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#v:67"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':68"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hcur_a</span> <span class="id" title="var">Hcur_a'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_wlcap_slcap" class="idref" href="#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="lw:70" class="idref" href="#lw:70"><span class="id" title="binder">lw</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:70"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_lword_version" class="idref" href="#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> (<a id="lw:72" class="idref" href="#lw:72"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:73" class="idref" href="#p:73"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:74" class="idref" href="#b:74"><span class="id" title="binder">b</span></a> <a id="e:75" class="idref" href="#e:75"><span class="id" title="binder">e</span></a> <a id="a:76" class="idref" href="#a:76"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:77" class="idref" href="#v:77"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:72"><span class="id" title="variable">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:73"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:74"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:75"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:76"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:77"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_lword_inv" class="idref" href="#is_lword_inv"><span class="id" title="lemma">is_lword_inv</span></a> (<a id="lw:78" class="idref" href="#lw:78"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:79" class="idref" href="#p:79"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:80" class="idref" href="#b:80"><span class="id" title="binder">b</span></a> <a id="e:81" class="idref" href="#e:81"><span class="id" title="binder">e</span></a> <a id="a:82" class="idref" href="#a:82"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:83" class="idref" href="#v:83"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:78"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:80"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:82"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:83"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="o:84" class="idref" href="#o:84"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:78"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#o:84"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:80"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:82"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:83"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:78"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:80"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:82"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:83"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hversion</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hversion</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hversion</span>; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span> ; <span class="id" title="tactic">eexists</span>]; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cur_lword_cur_addr" class="idref" href="#cur_lword_cur_addr"><span class="id" title="lemma">cur_lword_cur_addr</span></a> <a id="lw:85" class="idref" href="#lw:85"><span class="id" title="binder">lw</span></a> <a id="p:86" class="idref" href="#p:86"><span class="id" title="binder">p</span></a> <a id="b:87" class="idref" href="#b:87"><span class="id" title="binder">b</span></a> <a id="e:88" class="idref" href="#e:88"><span class="id" title="binder">e</span></a> <a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a> (<a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:91" class="idref" href="#vmap:91"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:85"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:86"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:87"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:88"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:90"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:85"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:91"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:87"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:88"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:89"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:90"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:91"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlword</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> ; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_lword_inv"><span class="id" title="axiom">is_lword_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlword</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlword</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">o</span> ?]| ?] ; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_true_iff"><span class="id" title="axiom">withinBounds_true_iff</span></a>, <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_lw</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_lword_lea" class="idref" href="#is_cur_lword_lea"><span class="id" title="lemma">is_cur_lword_lea</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:92" class="idref" href="#vmap:92"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="p:93" class="idref" href="#p:93"><span class="id" title="binder">p</span></a> <a id="p':94" class="idref" href="#p':94"><span class="id" title="binder">p'</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:95" class="idref" href="#b:95"><span class="id" title="binder">b</span></a> <a id="b':96" class="idref" href="#b':96"><span class="id" title="binder">b'</span></a> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a> <a id="e':98" class="idref" href="#e':98"><span class="id" title="binder">e'</span></a> <a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a> <a id="a':100" class="idref" href="#a':100"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:101" class="idref" href="#v:101"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:102" class="idref" href="#lw:102"><span class="id" title="binder">lw</span></a> <a id="lw':103" class="idref" href="#lw':103"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#isWithin"><span class="id" title="definition">isWithin</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':96"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':98"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:95"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:102"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:93"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:95"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:97"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:99"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:101"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':103"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p':94"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':96"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':98"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':100"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:101"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:102"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:92"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':103"><span class="id" title="variable">lw'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:92"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlw'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">auto</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha0in</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> !<a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0in</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Is_true_true</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isWithin_implies"><span class="id" title="axiom">isWithin_implies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_insert_ne" class="idref" href="#is_cur_addr_insert_ne"><span class="id" title="lemma">is_cur_addr_insert_ne</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:104" class="idref" href="#vmap:104"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:105" class="idref" href="#a:105"><span class="id" title="binder">a</span></a> <a id="a':106" class="idref" href="#a':106"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:107" class="idref" href="#v:107"><span class="id" title="binder">v</span></a> <a id="v':108" class="idref" href="#v':108"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:105"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':106"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:105"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:107"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:104"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:105"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:107"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#a':106"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#v':108"><span class="id" title="variable">v'</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_insert" class="idref" href="#is_cur_addr_insert"><span class="id" title="lemma">is_cur_addr_insert</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:109" class="idref" href="#vmap:109"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:110" class="idref" href="#a:110"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:111" class="idref" href="#v:111"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:110"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:111"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#a:110"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:111"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="insert_reg_lreg_strip" class="idref" href="#insert_reg_lreg_strip"><span class="id" title="lemma">insert_reg_lreg_strip</span></a> (<a id="lregs:112" class="idref" href="#lregs:112"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="r:113" class="idref" href="#r:113"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:114" class="idref" href="#lw:114"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:112"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:113"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:114"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:113"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:114"><span class="id" title="variable">lw</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">lreg_strip</span> <span class="id" title="notation">lregs</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:112"><span class="id" title="variable">lregs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> -<span class="id" title="lemma">fmap_insert</span> <span class="id" title="lemma">insert_id</span> //.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="next_version_lword" class="idref" href="#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> (<a id="lw:115" class="idref" href="#lw:115"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> ) : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:115"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lw:115"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lword_get_word_next_version" class="idref" href="#lword_get_word_next_version"><span class="id" title="lemma">lword_get_word_next_version</span></a> (<a id="lw:117" class="idref" href="#lw:117"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:117"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:117"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
The `reg_phys_log_corresponds` states that, the physical register file `phr` corresponds
    to the the logical register file `lr`, according to the view map `vmap` if:
<ul class="doclist">
<li> the content of the register `phr` is the same as the words in `lr` w/o the version

</li>
<li> the version of the capabilities in `lr` are the same as the version of its addresses
      in the view map `vmap`

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="reg_phys_log_corresponds" class="idref" href="#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<a id="phr:118" class="idref" href="#phr:118"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:119" class="idref" href="#lr:119"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:120" class="idref" href="#vmap:120"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:119"><span class="id" title="variable">lr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:118"><span class="id" title="variable">phr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:119"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:120"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_legal_address" class="idref" href="#is_legal_address"><span class="id" title="definition">is_legal_address</span></a> (<a id="lm:121" class="idref" href="#lm:121"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) <a id="vmap:122" class="idref" href="#vmap:122"><span class="id" title="binder">vmap</span></a> <a id="la:123" class="idref" href="#la:123"><span class="id" title="binder">la</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="cur_v:124" class="idref" href="#cur_v:124"><span class="id" title="binder">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:123"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_v:124"><span class="id" title="variable">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:122"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:123"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_v:124"><span class="id" title="variable">cur_v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="definition">is_Some</span> ( <a class="idref" href="cap_machine.logical_mapsto.html#lm:121"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:123"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_v:124"><span class="id" title="variable">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
for each logical address in the logical memory,
<ul class="doclist">
<li> the version is less than or equal to the current version of the address

</li>
<li> the current version of the address also exists in the logical memory 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="mem_current_version" class="idref" href="#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> (<a id="lm:125" class="idref" href="#lm:125"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:126" class="idref" href="#vmap:126"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="la:127" class="idref" href="#la:127"><span class="id" title="binder">la</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_legal_address"><span class="id" title="definition">is_legal_address</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:125"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:126"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:127"><span class="id" title="variable">la</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lm:125"><span class="id" title="variable">lm</span></a>.<br/>

<br/>
</div>

<div class="doc">
for all entries in the view/curr map,
<ul class="doclist">
<li> there exists a logical word `lw` in the logical memory `lm`
      ( i.e. dom(vmap) ⊆ dom(lm) ) s.t.

</li>
<li> the logical word `lw` corresponds to the actual word in the physical memory `phm`
      for the same address

</li>
<li> the logical word `lw` is the current view of the word 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="mem_vmap_root" class="idref" href="#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> (<a id="phm:128" class="idref" href="#phm:128"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:129" class="idref" href="#lm:129"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:130" class="idref" href="#vmap:130"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:131" class="idref" href="#a:131"><span class="id" title="binder">a</span></a> <a id="v:132" class="idref" href="#v:132"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lw:133" class="idref" href="#lw:133"><span class="id" title="binder">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:129"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:131"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:132"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:133"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:128"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:131"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:133"><span class="id" title="variable">lw</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:133"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:130"><span class="id" title="variable">vmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap:130"><span class="id" title="variable">vmap</span></a>. <span class="comment">(*&nbsp;subset&nbsp;in&nbsp;other&nbsp;direction,&nbsp;and&nbsp;every&nbsp;current&nbsp;address&nbsp;is&nbsp;gc&nbsp;root&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mem_gcroot" class="idref" href="#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a> (<a id="vmap:134" class="idref" href="#vmap:134"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:135" class="idref" href="#a:135"><span class="id" title="binder">a</span></a> <a id="v:136" class="idref" href="#v:136"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:135"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:136"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a> ) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:134"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mem_phys_log_corresponds" class="idref" href="#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> (<a id="phm:137" class="idref" href="#phm:137"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:138" class="idref" href="#lm:138"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:139" class="idref" href="#vmap:139"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:138"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:139"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:137"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:138"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:139"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:139"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_phys_log_corresponds" class="idref" href="#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phr:140" class="idref" href="#phr:140"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:141" class="idref" href="#phm:141"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:142" class="idref" href="#lr:142"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:143" class="idref" href="#lm:143"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:144" class="idref" href="#vmap:144"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>):=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:140"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:142"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:144"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:141"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:143"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:144"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;lreg_corresponds&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_read_iscur" class="idref" href="#lreg_corresponds_read_iscur"><span class="id" title="lemma">lreg_corresponds_read_iscur</span></a><br/>
&nbsp;&nbsp;(<a id="phr:145" class="idref" href="#phr:145"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:146" class="idref" href="#lr:146"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:147" class="idref" href="#vmap:147"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="r:148" class="idref" href="#r:148"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:149" class="idref" href="#lw:149"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:145"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:146"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:147"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:146"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:148"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:149"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:149"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:147"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_get_word" class="idref" href="#lreg_corresponds_get_word"><span class="id" title="lemma">lreg_corresponds_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:150" class="idref" href="#phr:150"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:151" class="idref" href="#lr:151"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:152" class="idref" href="#vmap:152"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:153" class="idref" href="#r:153"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:154" class="idref" href="#lw:154"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:150"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:151"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:152"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:151"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:153"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:154"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phr:150"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:153"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:154"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [&lt;- <span class="id" title="var">Hcurreg</span>] <span class="id" title="var">Hlr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_fmap_Some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_insert_respects" class="idref" href="#lreg_corresponds_insert_respects"><span class="id" title="lemma">lreg_corresponds_insert_respects</span></a><br/>
&nbsp;&nbsp;(<a id="phr:155" class="idref" href="#phr:155"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:156" class="idref" href="#lr:156"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:157" class="idref" href="#vmap:157"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="r:158" class="idref" href="#r:158"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:159" class="idref" href="#lw:159"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:155"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:156"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:157"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:159"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:157"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#r:158"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:159"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phr</span>) (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#r:158"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:159"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:157"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_delete" class="idref" href="#lreg_corresponds_delete"><span class="id" title="lemma">lreg_corresponds_delete</span></a><br/>
&nbsp;&nbsp;(<a id="phr:160" class="idref" href="#phr:160"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:161" class="idref" href="#lr:161"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:162" class="idref" href="#vmap:162"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="src:163" class="idref" href="#src:163"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:160"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:161"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:162"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:163"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:160"><span class="id" title="variable">phr</span></a>) (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:163"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:161"><span class="id" title="variable">lr</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:162"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_delete</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word_1" class="idref" href="#lreg_corresponds_cap_cur_word_1"><span class="id" title="lemma">lreg_corresponds_cap_cur_word_1</span></a><br/>
&nbsp;&nbsp;(<a id="phr:164" class="idref" href="#phr:164"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:165" class="idref" href="#lr:165"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:166" class="idref" href="#vmap:166"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:167" class="idref" href="#lw:167"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:168" class="idref" href="#p:168"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:169" class="idref" href="#b:169"><span class="id" title="binder">b</span></a> <a id="e:170" class="idref" href="#e:170"><span class="id" title="binder">e</span></a> <a id="a:171" class="idref" href="#a:171"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:172" class="idref" href="#la:172"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:173" class="idref" href="#r:173"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:164"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:165"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:166"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:167"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:169"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:170"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:171"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:172"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:171"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:169"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:170"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:171"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:165"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:173"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:167"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:167"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:172"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:172"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:166"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlcap</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hbounds</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word_2" class="idref" href="#lreg_corresponds_cap_cur_word_2"><span class="id" title="lemma">lreg_corresponds_cap_cur_word_2</span></a><br/>
&nbsp;&nbsp;(<a id="phr:174" class="idref" href="#phr:174"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:175" class="idref" href="#lr:175"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:176" class="idref" href="#vmap:176"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:177" class="idref" href="#lw:177"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:178" class="idref" href="#p:178"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:179" class="idref" href="#b:179"><span class="id" title="binder">b</span></a> <a id="e:180" class="idref" href="#e:180"><span class="id" title="binder">e</span></a> <a id="a:181" class="idref" href="#a:181"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:182" class="idref" href="#la:182"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:183" class="idref" href="#r:183"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:174"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:175"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:176"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:177"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:178"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:179"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:180"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:182"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:179"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:180"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:175"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:183"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:177"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:182"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:176"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:177"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:182"><span class="id" title="variable">la</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlr</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hinbounds</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hcur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_regs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word" class="idref" href="#lreg_corresponds_cap_cur_word"><span class="id" title="lemma">lreg_corresponds_cap_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:184" class="idref" href="#phr:184"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:185" class="idref" href="#lr:185"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:186" class="idref" href="#vmap:186"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:187" class="idref" href="#lw:187"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:188" class="idref" href="#p:188"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:189" class="idref" href="#b:189"><span class="id" title="binder">b</span></a> <a id="e:190" class="idref" href="#e:190"><span class="id" title="binder">e</span></a> <a id="a:191" class="idref" href="#a:191"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:192" class="idref" href="#la:192"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:193" class="idref" href="#r:193"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:184"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:185"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:186"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:187"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:188"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:189"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:190"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:191"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:192"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:191"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:189"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:190"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:191"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:185"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:193"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:187"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:187"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:192"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:192"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:186"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HInvReg</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hinbounds</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_cap_cur_word_1"><span class="id" title="axiom">lreg_corresponds_cap_cur_word_1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_cap_cur_word_2"><span class="id" title="axiom">lreg_corresponds_cap_cur_word_2</span></a> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_correct_PC" class="idref" href="#lreg_corresponds_correct_PC"><span class="id" title="lemma">lreg_corresponds_correct_PC</span></a><br/>
&nbsp;&nbsp;(<a id="phr:194" class="idref" href="#phr:194"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:195" class="idref" href="#lr:195"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:196" class="idref" href="#vmap:196"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:197" class="idref" href="#lw:197"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:198" class="idref" href="#p:198"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:199" class="idref" href="#b:199"><span class="id" title="binder">b</span></a> <a id="e:200" class="idref" href="#e:200"><span class="id" title="binder">e</span></a> <a id="a:201" class="idref" href="#a:201"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:202" class="idref" href="#la:202"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:203" class="idref" href="#r:203"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:194"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:195"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:196"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:197"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:198"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:199"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:200"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:201"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:202"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:201"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:198"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:199"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:200"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:201"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:195"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:203"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:197"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:197"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:202"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:202"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:196"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HinvReg</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC_withinBounds"><span class="id" title="axiom">isCorrectPC_withinBounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_cap_cur_word"><span class="id" title="axiom">lreg_corresponds_cap_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_is_cur" class="idref" href="#lreg_corresponds_cap_is_cur"><span class="id" title="lemma">lreg_corresponds_cap_is_cur</span></a><br/>
&nbsp;&nbsp;(<a id="phr:204" class="idref" href="#phr:204"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:205" class="idref" href="#lr:205"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:206" class="idref" href="#vmap:206"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:207" class="idref" href="#src:207"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:208" class="idref" href="#p:208"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>)  (<a id="b:209" class="idref" href="#b:209"><span class="id" title="binder">b</span></a> <a id="e:210" class="idref" href="#e:210"><span class="id" title="binder">e</span></a> <a id="a:211" class="idref" href="#a:211"><span class="id" title="binder">a</span></a> <a id="a':212" class="idref" href="#a':212"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:213" class="idref" href="#v:213"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:204"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:205"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:206"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:205"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:207"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:208"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:209"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:210"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:211"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:213"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':212"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:209"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:210"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':212"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:213"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:206"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_read_iscur"><span class="id" title="axiom">lreg_corresponds_read_iscur</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw'</span> := <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq_2"><span class="id" title="axiom">withinBounds_in_seq_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;lmem_corresponds&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_read_iscur" class="idref" href="#lmem_corresponds_read_iscur"><span class="id" title="lemma">lmem_corresponds_read_iscur</span></a><br/>
&nbsp;&nbsp;(<a id="phm:214" class="idref" href="#phm:214"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:215" class="idref" href="#lm:215"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:216" class="idref" href="#vmap:216"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:217" class="idref" href="#la:217"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:218" class="idref" href="#lw:218"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:214"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:215"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:216"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:217"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:216"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:215"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:217"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:218"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:218"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:216"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hla</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hphm</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_insert_respects" class="idref" href="#lmem_corresponds_insert_respects"><span class="id" title="lemma">lmem_corresponds_insert_respects</span></a><br/>
&nbsp;&nbsp;(<a id="phm:219" class="idref" href="#phm:219"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:220" class="idref" href="#lm:220"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:221" class="idref" href="#vmap:221"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:222" class="idref" href="#la:222"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:223" class="idref" href="#lw:223"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:219"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:220"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:221"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:222"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:221"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:223"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:221"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:222"><span class="id" title="variable">la</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:223"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#la:222"><span class="id" title="variable">la</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:223"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lm</span>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:221"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hgcroot</span>) <span class="id" title="var">Hla</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <span class="id" title="var">la</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#laddr_inv"><span class="id" title="lemma">laddr_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>). <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v</span>. <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">la</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cur_v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hp</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hp'</span> := <span class="id" title="var">Hp</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hroot</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [ <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [ <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> ;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_pair_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_get_word" class="idref" href="#lmem_corresponds_get_word"><span class="id" title="lemma">lmem_corresponds_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phm:224" class="idref" href="#phm:224"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:225" class="idref" href="#lm:225"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:226" class="idref" href="#vmap:226"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:227" class="idref" href="#a:227"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:228" class="idref" href="#v:228"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:229" class="idref" href="#lw:229"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:224"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:225"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:226"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:227"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:228"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:226"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:225"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:227"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:228"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:229"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phm:224"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:227"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:229"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hcur</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdom</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_addr</span> &amp; <span class="id" title="var">Hle_cur</span> &amp; <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>, <span class="id" title="var">Hcur_addr</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlm'</span> &amp; <span class="id" title="var">Hpm'</span> &amp; <span class="id" title="var">Hcurword</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_current_word" class="idref" href="#lmem_corresponds_current_word"><span class="id" title="lemma">lmem_corresponds_current_word</span></a><br/>
&nbsp;&nbsp;(<a id="phm:230" class="idref" href="#phm:230"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:231" class="idref" href="#lm:231"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:232" class="idref" href="#vmap:232"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:233" class="idref" href="#a:233"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:234" class="idref" href="#v:234"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:235" class="idref" href="#lw:235"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:230"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:231"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:232"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:231"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:233"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:234"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:235"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:233"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:234"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:232"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:235"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:232"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hlm</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdom</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_addr</span> &amp; <span class="id" title="var">Hle_cur</span> &amp; <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>, <span class="id" title="var">Hcur_addr</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlm'</span> &amp; <span class="id" title="var">Hpm'</span> &amp; <span class="id" title="var">Hcurword</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;state_corresponds&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_reg_get_word" class="idref" href="#state_corresponds_reg_get_word"><span class="id" title="lemma">state_corresponds_reg_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:236" class="idref" href="#phr:236"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:237" class="idref" href="#phm:237"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:238" class="idref" href="#lr:238"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:239" class="idref" href="#lm:239"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:240" class="idref" href="#vmap:240"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:241" class="idref" href="#r:241"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:242" class="idref" href="#lw:242"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:236"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:237"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:238"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:239"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:240"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:238"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:241"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:242"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phr:236"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:241"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:242"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hreg</span> <span class="id" title="var">_</span>] ? ; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_get_word"><span class="id" title="axiom">lreg_corresponds_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_reg_get_word_cap" class="idref" href="#state_corresponds_reg_get_word_cap"><span class="id" title="lemma">state_corresponds_reg_get_word_cap</span></a><br/>
&nbsp;&nbsp;(<a id="phr:243" class="idref" href="#phr:243"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:244" class="idref" href="#phm:244"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:245" class="idref" href="#lr:245"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:246" class="idref" href="#lm:246"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:247" class="idref" href="#vmap:247"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:248" class="idref" href="#r:248"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:249" class="idref" href="#p:249"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:250" class="idref" href="#b:250"><span class="id" title="binder">b</span></a> <a id="e:251" class="idref" href="#e:251"><span class="id" title="binder">e</span></a> <a id="a:252" class="idref" href="#a:252"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:253" class="idref" href="#v:253"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:243"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:244"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:245"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:246"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:247"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:245"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:248"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:249"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:250"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:251"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:252"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:253"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phr:243"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:248"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:249"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:250"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:251"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:252"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HLinv</span> <span class="id" title="var">Hlr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_mem_get_word" class="idref" href="#state_corresponds_mem_get_word"><span class="id" title="lemma">state_corresponds_mem_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:254" class="idref" href="#phr:254"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:255" class="idref" href="#phm:255"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:256" class="idref" href="#lr:256"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:257" class="idref" href="#lm:257"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:258" class="idref" href="#vmap:258"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:259" class="idref" href="#a:259"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:260" class="idref" href="#v:260"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:261" class="idref" href="#lw:261"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:254"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:255"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:256"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:257"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:258"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:259"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:260"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:258"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:257"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:259"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:260"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:261"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phm:255"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:259"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:261"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hmem</span>] ? ? ; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem_corresponds_get_word"><span class="id" title="axiom">lmem_corresponds_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_cap_cur_word" class="idref" href="#state_corresponds_cap_cur_word"><span class="id" title="lemma">state_corresponds_cap_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:262" class="idref" href="#phr:262"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:263" class="idref" href="#phm:263"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:264" class="idref" href="#lr:264"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:265" class="idref" href="#lm:265"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:266" class="idref" href="#vmap:266"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:267" class="idref" href="#lw:267"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:268" class="idref" href="#p:268"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:269" class="idref" href="#b:269"><span class="id" title="binder">b</span></a> <a id="e:270" class="idref" href="#e:270"><span class="id" title="binder">e</span></a> <a id="a:271" class="idref" href="#a:271"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:272" class="idref" href="#la:272"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:273" class="idref" href="#r:273"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:262"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:263"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:264"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:265"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:266"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:267"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:269"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:270"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:271"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:272"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:271"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:269"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:270"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:271"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:264"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:273"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:267"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:267"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:272"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:272"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:266"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HinvReg</span> <span class="id" title="var">_</span>] <span class="id" title="var">Hlw</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hbounds</span> <span class="id" title="var">Hr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_cap_cur_word"><span class="id" title="axiom">lreg_corresponds_cap_cur_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_mem_correct_PC" class="idref" href="#state_corresponds_mem_correct_PC"><span class="id" title="lemma">state_corresponds_mem_correct_PC</span></a><br/>
&nbsp;&nbsp;(<a id="phr:274" class="idref" href="#phr:274"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:275" class="idref" href="#phm:275"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:276" class="idref" href="#lr:276"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:277" class="idref" href="#lm:277"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:278" class="idref" href="#vmap:278"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:279" class="idref" href="#p:279"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:280" class="idref" href="#b:280"><span class="id" title="binder">b</span></a> <a id="e:281" class="idref" href="#e:281"><span class="id" title="binder">e</span></a> <a id="a:282" class="idref" href="#a:282"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:283" class="idref" href="#v:283"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="r:284" class="idref" href="#r:284"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:285" class="idref" href="#lw:285"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:274"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:275"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:276"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:277"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:278"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:279"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:280"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:281"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:282"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:276"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:284"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:279"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:280"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:281"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:282"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:283"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:277"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:282"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:283"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:285"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#phm:275"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:282"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:285"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HLinv</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_mem_get_word"><span class="id" title="axiom">state_corresponds_mem_get_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HLinv</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">HinvReg</span> <span class="id" title="var">_</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_correct_PC"><span class="id" title="axiom">lreg_corresponds_correct_PC</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_cap_all_current" class="idref" href="#state_corresponds_cap_all_current"><span class="id" title="lemma">state_corresponds_cap_all_current</span></a><br/>
&nbsp;&nbsp;(<a id="phr:286" class="idref" href="#phr:286"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:287" class="idref" href="#phm:287"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:288" class="idref" href="#lm:288"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:289" class="idref" href="#lr:289"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:290" class="idref" href="#vmap:290"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:291" class="idref" href="#src:291"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:292" class="idref" href="#lwsrc:292"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:293" class="idref" href="#p:293"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:294" class="idref" href="#b:294"><span class="id" title="binder">b</span></a> <a id="e:295" class="idref" href="#e:295"><span class="id" title="binder">e</span></a> <a id="a:296" class="idref" href="#a:296"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:297" class="idref" href="#v:297"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:286"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:287"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:289"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:288"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:290"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:292"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:293"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:294"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:295"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:296"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:297"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:289"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:291"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:292"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:298" class="idref" href="#a0:298"><span class="id" title="binder">a0</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:290"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a0:298"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:297"><span class="id" title="variable">v</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:294"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:295"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [ [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget_lw</span> <span class="id" title="var">Hlr_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="var">lwsrc</span> <span class="id" title="var">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_last_version_lword_region" class="idref" href="#state_corresponds_last_version_lword_region"><span class="id" title="lemma">state_corresponds_last_version_lword_region</span></a><br/>
&nbsp;&nbsp;(<a id="phr:299" class="idref" href="#phr:299"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:300" class="idref" href="#phm:300"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:301" class="idref" href="#lm:301"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:302" class="idref" href="#lr:302"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:303" class="idref" href="#vmap:303"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:304" class="idref" href="#p:304"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:305" class="idref" href="#b:305"><span class="id" title="binder">b</span></a> <a id="e:306" class="idref" href="#e:306"><span class="id" title="binder">e</span></a> <a id="a:307" class="idref" href="#a:307"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:308" class="idref" href="#v:308"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="src:309" class="idref" href="#src:309"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:310" class="idref" href="#lwsrc:310"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:299"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:300"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:302"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:301"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:303"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:310"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:304"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:305"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:306"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:307"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:308"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:302"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:309"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:310"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:311" class="idref" href="#a0:311"><span class="id" title="binder">a0</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:301"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a0:311"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:308"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:305"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:306"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [ [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget</span> <span class="id" title="var">Hlr_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="var">lwsrc</span> <span class="id" title="var">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha0_inbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0_inbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="abbreviation">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_a0</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hv'</span> ; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmem_inv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hcur</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_v</span> &amp; <span class="id" title="var">cur</span> &amp; <span class="id" title="var">Hsome</span> &amp; <span class="id" title="var">Hmaxv</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm</span> &amp; <span class="id" title="var">_</span>) ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_access_lword_region" class="idref" href="#state_corresponds_access_lword_region"><span class="id" title="lemma">state_corresponds_access_lword_region</span></a><br/>
&nbsp;&nbsp;(<a id="phr:312" class="idref" href="#phr:312"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:313" class="idref" href="#phm:313"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:314" class="idref" href="#lr:314"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:315" class="idref" href="#lm:315"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:316" class="idref" href="#vmap:316"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:317" class="idref" href="#src:317"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:318" class="idref" href="#lwsrc:318"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:319" class="idref" href="#p:319"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:320" class="idref" href="#b:320"><span class="id" title="binder">b</span></a> <a id="e:321" class="idref" href="#e:321"><span class="id" title="binder">e</span></a> <a id="a:322" class="idref" href="#a:322"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:323" class="idref" href="#v:323"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:312"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:313"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:314"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:315"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:316"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:318"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:319"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:320"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:321"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:322"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:323"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:314"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:317"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:318"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':324" class="idref" href="#a':324"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lm:315"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':324"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:323"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:320"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:321"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [ [<span class="id" title="var">_</span> ?] [? [ ? <span class="id" title="var">_</span> ] ] ] <span class="id" title="var">Hget</span> <span class="id" title="var">Hlsrc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlsrc</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlsrc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlsrc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Machinery for word access and unique_in_machine 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_access_addr" class="idref" href="#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> (<a id="a:325" class="idref" href="#a:325"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="w:326" class="idref" href="#w:326"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.cap_lang.html#get_scap"><span class="id" title="definition">get_scap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:326"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:325"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">e</span>)%<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_access_addrL" class="idref" href="#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> (<a id="a:327" class="idref" href="#a:327"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw:328" class="idref" href="#lw:328"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:327"><span class="id" title="variable">a</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:328"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_cur_word" class="idref" href="#update_cur_word"><span class="id" title="lemma">update_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="lm:329" class="idref" href="#lm:329"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:330" class="idref" href="#vmap:330"><span class="id" title="binder">vmap</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:331" class="idref" href="#a:331"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:332" class="idref" href="#v:332"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:333" class="idref" href="#lw:333"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:331"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:333"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:333"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:330"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:333"><span class="id" title="variable">lw</span></a> ( <span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#a:331"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:332"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span> ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnaccess</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha1</span>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Update&nbsp;version&nbsp;number&nbsp;of&nbsp;a&nbsp;memory&nbsp;region&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;all&nbsp;the&nbsp;content&nbsp;of&nbsp;a&nbsp;logical&nbsp;memory&nbsp;`lm`,<br/>
&nbsp;&nbsp;&nbsp;no&nbsp;current&nbsp;logical&nbsp;address&nbsp;has&nbsp;a&nbsp;lword&nbsp;that&nbsp;can&nbsp;access&nbsp;the&nbsp;address&nbsp;`a`.<br/>
<br/>
&nbsp;&nbsp;&nbsp;Put&nbsp;another&nbsp;way,&nbsp;the&nbsp;"current&nbsp;view"&nbsp;of&nbsp;the&nbsp;memory&nbsp;cannot&nbsp;access&nbsp;`a`.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="lmem_not_access_addrL" class="idref" href="#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a id="lm:334" class="idref" href="#lm:334"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:335" class="idref" href="#vmap:335"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:336" class="idref" href="#a:336"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="la:337" class="idref" href="#la:337"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:338" class="idref" href="#lw:338"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:337"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:335"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:336"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:338"><span class="id" title="variable">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;) <a class="idref" href="cap_machine.logical_mapsto.html#lm:334"><span class="id" title="variable">lm</span></a>.<br/>

<br/>
</div>

<div class="doc">
Sweep in logical memory 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="overlap_wordL" class="idref" href="#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> (<a id="lw1:339" class="idref" href="#lw1:339"><span class="id" title="binder">lw1</span></a> <a id="lw2:340" class="idref" href="#lw2:340"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw1:339"><span class="id" title="variable">lw1</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw2:340"><span class="id" title="variable">lw2</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="overlap_wordL_dec" class="idref" href="#overlap_wordL_dec"><span class="id" title="instance">overlap_wordL_dec</span></a> (<a id="lw1:341" class="idref" href="#lw1:341"><span class="id" title="binder">lw1</span></a> <a id="lw2:342" class="idref" href="#lw2:342"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw1:341"><span class="id" title="variable">lw1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw2:342"><span class="id" title="variable">lw2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_overlap_wordL_seq_between" class="idref" href="#not_overlap_wordL_seq_between"><span class="id" title="lemma">not_overlap_wordL_seq_between</span></a><br/>
&nbsp;&nbsp;(<a id="p:343" class="idref" href="#p:343"><span class="id" title="binder">p</span></a> <a id="p':344" class="idref" href="#p':344"><span class="id" title="binder">p'</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:345" class="idref" href="#b:345"><span class="id" title="binder">b</span></a> <a id="b':346" class="idref" href="#b':346"><span class="id" title="binder">b'</span></a> <a id="e:347" class="idref" href="#e:347"><span class="id" title="binder">e</span></a> <a id="e':348" class="idref" href="#e':348"><span class="id" title="binder">e'</span></a> <a id="a:349" class="idref" href="#a:349"><span class="id" title="binder">a</span></a> <a id="a':350" class="idref" href="#a':350"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:351" class="idref" href="#v:351"><span class="id" title="binder">v</span></a> <a id="v':352" class="idref" href="#v':352"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:353" class="idref" href="#lw:353"><span class="id" title="binder">lw</span></a> <a id="lw':354" class="idref" href="#lw':354"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:353"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:343"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:345"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:347"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:349"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:351"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':354"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p':344"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':346"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':348"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':350"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':352"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:353"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':354"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="a0:355" class="idref" href="#a0:355"><span class="id" title="binder">a0</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.logical_mapsto.html#a0:355"><span class="id" title="variable">a0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':346"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':348"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a0:355"><span class="id" title="variable">a0</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:345"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:347"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hget_lw</span> <span class="id" title="var">Hget_lw'</span> <span class="id" title="var">Hnot_overlap</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha_in</span> <span class="id" title="var">Ha_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnot_overlap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /= /<a class="idref" href="cap_machine.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha_in</span>, <span class="id" title="var">Ha_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hb</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;No&nbsp;register&nbsp;except&nbsp;`src`&nbsp;contains&nbsp;`lwsrc`&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_registersL" class="idref" href="#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> (<a id="lregs:356" class="idref" href="#lregs:356"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="osrc:357" class="idref" href="#osrc:357"><span class="id" title="binder">osrc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:358" class="idref" href="#lwsrc:358"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#osrc:357"><span class="id" title="variable">osrc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">src</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="r:360" class="idref" href="#r:360"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwr:361" class="idref" href="#lwr:361"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.logical_mapsto.html#r:360"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="notation">True</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:358"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:361"><span class="id" title="variable">lwr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:356"><span class="id" title="variable">lregs</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <a id="lwr:362" class="idref" href="#lwr:362"><span class="id" title="binder">lwr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:358"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:362"><span class="id" title="variable">lwr</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lregs:356"><span class="id" title="variable">lregs</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="unique_in_registersL_dec" class="idref" href="#unique_in_registersL_dec"><span class="id" title="instance">unique_in_registersL_dec</span></a> (<a id="lregs:363" class="idref" href="#lregs:363"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="osrc:364" class="idref" href="#osrc:364"><span class="id" title="binder">osrc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:365" class="idref" href="#lwsrc:365"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:363"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#osrc:364"><span class="id" title="variable">osrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:365"><span class="id" title="variable">lwsrc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">osrc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rn</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">r</span> <span class="id" title="var">rw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="var">solve_decision</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>. <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">r</span> <span class="id" title="var">rw</span>. <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Returns&nbsp;<span class="inlinecode"><span class="id" title="var">true</span></span>&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">r</span></span>&nbsp;is&nbsp;unique.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_memoryL" class="idref" href="#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> (<a id="lmem:366" class="idref" href="#lmem:366"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:367" class="idref" href="#vmap:367"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="lwsrc:368" class="idref" href="#lwsrc:368"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="la:369" class="idref" href="#la:369"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lwa:370" class="idref" href="#lwa:370"><span class="id" title="binder">lwa</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:369"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:367"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:368"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwa:370"><span class="id" title="variable">lwa</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem:366"><span class="id" title="variable">lmem</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="unique_in_memoryL_dec" class="idref" href="#unique_in_memoryL_dec"><span class="id" title="instance">unique_in_memoryL_dec</span></a> (<a id="lmem:371" class="idref" href="#lmem:371"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:372" class="idref" href="#vmap:372"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="lwsrc:373" class="idref" href="#lwsrc:373"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:371"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:372"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:373"><span class="id" title="variable">lwsrc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">la</span> <span class="id" title="var">lwa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">impl_dec</span>; <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_machineL" class="idref" href="#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lregs:374" class="idref" href="#lregs:374"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lmem:375" class="idref" href="#lmem:375"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:376" class="idref" href="#vmap:376"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="src:377" class="idref" href="#src:377"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:378" class="idref" href="#lwsrc:378"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:374"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:377"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:378"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:374"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:377"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:378"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:375"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:376"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:378"><span class="id" title="variable">lwsrc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_mono" class="idref" href="#unique_in_registersL_mono"><span class="id" title="lemma">unique_in_registersL_mono</span></a><br/>
&nbsp;&nbsp;(<a id="lregs:379" class="idref" href="#lregs:379"><span class="id" title="binder">lregs</span></a> <a id="lr:380" class="idref" href="#lr:380"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:381" class="idref" href="#src:381"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:382" class="idref" href="#lwsrc:382"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:379"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lr:380"><span class="id" title="variable">lr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:380"><span class="id" title="variable">lr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:381"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:382"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:379"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:381"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:382"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hlregs_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hr</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machineL_insert_reg" class="idref" href="#unique_in_machineL_insert_reg"><span class="id" title="lemma">unique_in_machineL_insert_reg</span></a><br/>
&nbsp;&nbsp;(<a id="lr:383" class="idref" href="#lr:383"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:384" class="idref" href="#lm:384"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>)  (<a id="vmap:385" class="idref" href="#vmap:385"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:386" class="idref" href="#src:386"><span class="id" title="binder">src</span></a> <a id="r:387" class="idref" href="#r:387"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:388" class="idref" href="#lwsrc:388"><span class="id" title="binder">lwsrc</span></a> <a id="lwr:389" class="idref" href="#lwr:389"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#r:387"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:386"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:383"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:386"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:388"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:388"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:389"><span class="id" title="variable">lwr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:383"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:384"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:385"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:386"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:388"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#r:387"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:389"><span class="id" title="variable">lwr</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.logical_mapsto.html#lm:384"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:385"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:386"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:388"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hr_neq_src</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hlr_r</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hunique</span> =&gt; [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_src</span>] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machineL_not_overlap_word" class="idref" href="#unique_in_machineL_not_overlap_word"><span class="id" title="lemma">unique_in_machineL_not_overlap_word</span></a><br/>
&nbsp;&nbsp;(<a id="lr:390" class="idref" href="#lr:390"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:391" class="idref" href="#lm:391"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:392" class="idref" href="#vmap:392"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:393" class="idref" href="#src:393"><span class="id" title="binder">src</span></a> <a id="r:394" class="idref" href="#r:394"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:395" class="idref" href="#lwsrc:395"><span class="id" title="binder">lwsrc</span></a> <a id="lwr:396" class="idref" href="#lwr:396"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#r:394"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:393"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:390"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:393"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:395"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:390"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:394"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:396"><span class="id" title="variable">lwr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:390"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:391"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:392"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:393"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:395"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:395"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwr:396"><span class="id" title="variable">lwr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hr_neq_src</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hlr_r</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hunique</span> =&gt; [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_unique_in_registers" class="idref" href="#state_corresponds_unique_in_registers"><span class="id" title="lemma">state_corresponds_unique_in_registers</span></a><br/>
&nbsp;&nbsp;(<a id="phr:397" class="idref" href="#phr:397"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:398" class="idref" href="#phm:398"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:399" class="idref" href="#lr:399"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:400" class="idref" href="#lm:400"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:401" class="idref" href="#vmap:401"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:402" class="idref" href="#src:402"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:403" class="idref" href="#lwsrc:403"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:397"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:398"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:399"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:400"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:401"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:399"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:402"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:403"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.cap_lang.html#unique_in_registers"><span class="id" title="definition">unique_in_registers</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:397"><span class="id" title="variable">phr</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:403"><span class="id" title="variable">lwsrc</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:402"><span class="id" title="variable">src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:399"><span class="id" title="variable">lr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:402"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:403"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">r</span> <span class="id" title="var">lwr</span> <span class="id" title="var">Hlr_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphr_r</span> : <span class="id" title="var">phr</span> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphr_r</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphr_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)) ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_r</span>; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_unique_in_memory" class="idref" href="#state_corresponds_unique_in_memory"><span class="id" title="lemma">state_corresponds_unique_in_memory</span></a><br/>
&nbsp;&nbsp;(<a id="phr:404" class="idref" href="#phr:404"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:405" class="idref" href="#phm:405"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:406" class="idref" href="#lr:406"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:407" class="idref" href="#lm:407"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:408" class="idref" href="#vmap:408"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:409" class="idref" href="#src:409"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:410" class="idref" href="#lwsrc:410"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:404"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:405"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:406"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:407"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:408"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:406"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:409"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:410"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.cap_lang.html#unique_in_memory"><span class="id" title="definition">unique_in_memory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:405"><span class="id" title="variable">phm</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:410"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:407"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:408"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:410"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">a</span> <span class="id" title="var">v</span>] <span class="id" title="var">lw_la</span> <span class="id" title="var">Hlm_la</span> <span class="id" title="var">His_cur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphm_a</span> : <span class="id" title="var">phm</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lw_la</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem_corresponds_get_word"><span class="id" title="axiom">lmem_corresponds_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hphm_a</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'phm_a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphm_a</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphm_a</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;link&nbsp;between<br/>
&nbsp;&nbsp;&nbsp;sweep&nbsp;of&nbsp;the&nbsp;physical&nbsp;machine<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;unique_in_machine&nbsp;of&nbsp;logical&nbsp;memory&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="sweep_true_specL" class="idref" href="#sweep_true_specL"><span class="id" title="lemma">sweep_true_specL</span></a><br/>
&nbsp;&nbsp;(<a id="phr:411" class="idref" href="#phr:411"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:412" class="idref" href="#phm:412"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:413" class="idref" href="#lr:413"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:414" class="idref" href="#lm:414"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:415" class="idref" href="#vmap:415"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:416" class="idref" href="#src:416"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:417" class="idref" href="#lwsrc:417"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:411"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:412"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:413"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:414"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:415"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:413"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:416"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:417"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.cap_lang.html#sweep_reg"><span class="id" title="definition">sweep_reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:412"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:411"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:416"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:413"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:414"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:415"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:416"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:417"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HLinv</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hsweep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphr_src</span> : <span class="id" title="var">phr</span> <span class="id" title="notation">!!</span> <span class="id" title="var">src</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwsrc</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.cap_lang.html#sweep_reg_spec"><span class="id" title="axiom">sweep_reg_spec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">wsrc</span> := (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwsrc</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsweep</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsweep</span> <span class="id" title="var">Hphr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsweep</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_mem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_unique_in_registers"><span class="id" title="axiom">state_corresponds_unique_in_registers</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_unique_in_memory"><span class="id" title="axiom">state_corresponds_unique_in_memory</span></a> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_overlap_word_no_access_addrL" class="idref" href="#no_overlap_word_no_access_addrL"><span class="id" title="lemma">no_overlap_word_no_access_addrL</span></a><br/>
&nbsp;&nbsp;(<a id="p:418" class="idref" href="#p:418"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:419" class="idref" href="#b:419"><span class="id" title="binder">b</span></a> <a id="e:420" class="idref" href="#e:420"><span class="id" title="binder">e</span></a> <a id="a:421" class="idref" href="#a:421"><span class="id" title="binder">a</span></a> <a id="a':422" class="idref" href="#a':422"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:423" class="idref" href="#v:423"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:424" class="idref" href="#lw:424"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':422"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:419"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:420"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:418"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:419"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:420"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:421"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:423"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lw:424"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':422"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:424"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Ha'</span> <span class="id" title="var">Hno_overlap</span> <span class="id" title="var">Haccess</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_overlap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Haccess</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.cap_lang.html#get_scap"><span class="id" title="definition">get_scap</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lw</span>)); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p0</span> <span class="id" title="var">b0</span> <span class="id" title="var">e0</span> <span class="id" title="var">a0</span>|] ; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b0</span>)%<span class="id" title="var">a</span> ; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machine_no_accessL" class="idref" href="#unique_in_machine_no_accessL"><span class="id" title="lemma">unique_in_machine_no_accessL</span></a><br/>
&nbsp;&nbsp;(<a id="phm:425" class="idref" href="#phm:425"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:426" class="idref" href="#lm:426"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:427" class="idref" href="#lr:427"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:428" class="idref" href="#vmap:428"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:429" class="idref" href="#p:429"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:430" class="idref" href="#b:430"><span class="id" title="binder">b</span></a> <a id="e:431" class="idref" href="#e:431"><span class="id" title="binder">e</span></a> <a id="a:432" class="idref" href="#a:432"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:433" class="idref" href="#v:433"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="src:434" class="idref" href="#src:434"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:435" class="idref" href="#lw:435"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:425"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:426"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:428"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:435"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:429"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:430"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:431"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:432"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:433"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:427"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:434"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:435"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:435"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:428"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:427"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:426"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:428"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:434"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:435"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':436" class="idref" href="#a':436"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:426"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:428"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':436"><span class="id" title="variable">a'</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:430"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:431"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hmem_inv</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">His_cur</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="var">vmap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw</span> := <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">o</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="var">vmap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw</span> := <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcur_a'</span>: <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="abbreviation">vmap</span>).<br/>
&nbsp;&nbsp;1: { <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; [|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; [|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hunique</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_mem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique_mem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>] <span class="id" title="var">lw0</span> <span class="id" title="var">Hlast_v</span> <span class="id" title="var">Hcur_v0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#no_overlap_word_no_access_addrL"><span class="id" title="axiom">no_overlap_word_no_access_addrL</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlast_v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">mem_corresponds_cur_addr_last_version_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_twice" class="idref" href="#unique_in_registersL_twice"><span class="id" title="lemma">unique_in_registersL_twice</span></a><br/>
&nbsp;&nbsp;(<a id="rcode:437" class="idref" href="#rcode:437"><span class="id" title="binder">rcode</span></a> <a id="rdata:438" class="idref" href="#rdata:438"><span class="id" title="binder">rdata</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lregs:439" class="idref" href="#lregs:439"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>)<br/>
&nbsp;&nbsp;<a id="p:440" class="idref" href="#p:440"><span class="id" title="binder">p</span></a> <a id="b:441" class="idref" href="#b:441"><span class="id" title="binder">b</span></a> <a id="e:442" class="idref" href="#e:442"><span class="id" title="binder">e</span></a> <a id="a:443" class="idref" href="#a:443"><span class="id" title="binder">a</span></a> <a id="v:444" class="idref" href="#v:444"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;<a id="p':445" class="idref" href="#p':445"><span class="id" title="binder">p'</span></a> <a id="b':446" class="idref" href="#b':446"><span class="id" title="binder">b'</span></a> <a id="e':447" class="idref" href="#e':447"><span class="id" title="binder">e'</span></a> <a id="a':448" class="idref" href="#a':448"><span class="id" title="binder">a'</span></a> <a id="v':449" class="idref" href="#v':449"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#rcode:437"><span class="id" title="variable">rcode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#rdata:438"><span class="id" title="variable">rdata</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:439"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#rcode:437"><span class="id" title="variable">rcode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:440"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:441"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:442"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:443"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:444"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:439"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#rdata:438"><span class="id" title="variable">rdata</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p':445"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':446"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':447"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':448"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':449"><span class="id" title="variable">v'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:439"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#rcode:437"><span class="id" title="variable">rcode</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:440"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:441"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:442"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:443"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:444"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:439"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#rdata:438"><span class="id" title="variable">rdata</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p':445"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':446"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':447"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':448"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':449"><span class="id" title="variable">v'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:441"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:442"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">##</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':446"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':447"><span class="id" title="variable">e'</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hrcode</span> <span class="id" title="var">Hrdata</span> <span class="id" title="var">Hunique_code</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrdata</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrcode</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>, <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>, <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hbb'</span>; <span class="id" title="var">solve_finz</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
Machinery to update the lmemory 
<div class="paragraph"> </div>

 Machinery to update the memory for a given version,
    without knowing the view map 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;Update&nbsp;the&nbsp;lmemory&nbsp;for&nbsp;the&nbsp;address&nbsp;a.<br/>
&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;llmem&nbsp;might&nbsp;not&nbsp;contain&nbsp;(a,v),<br/>
&nbsp;&nbsp;&nbsp;because&nbsp;llmem&nbsp;is&nbsp;only&nbsp;a&nbsp;*local*&nbsp;view&nbsp;of&nbsp;the&nbsp;actual&nbsp;lmemory.<br/>
&nbsp;&nbsp;&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;take&nbsp;the&nbsp;new&nbsp;values&nbsp;from&nbsp;global&nbsp;view&nbsp;glmem.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_addr" class="idref" href="#update_version_addr"><span class="id" title="definition">update_version_addr</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:450" class="idref" href="#glmem:450"><span class="id" title="binder">glmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:451" class="idref" href="#a:451"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:452" class="idref" href="#v:452"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem:453" class="idref" href="#llmem:453"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>): <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:450"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:451"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:452"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">lw</span> =&gt; <span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:451"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:452"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <span class="id" title="var">lw</span> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#llmem:453"><span class="id" title="variable">llmem</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Update&nbsp;the&nbsp;lmemory&nbsp;region&nbsp;for&nbsp;a&nbsp;given&nbsp;lregion.<br/>
&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;it&nbsp;only&nbsp;updates&nbsp;the&nbsp;*local*&nbsp;view&nbsp;of&nbsp;the&nbsp;lmemory,<br/>
&nbsp;&nbsp;&nbsp;which&nbsp;might&nbsp;not&nbsp;contain&nbsp;some&nbsp;of&nbsp;the&nbsp;addresses&nbsp;in&nbsp;la.<br/>
&nbsp;&nbsp;&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;take&nbsp;the&nbsp;new&nbsp;values&nbsp;from&nbsp;global&nbsp;view&nbsp;glmem.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_region" class="idref" href="#update_version_region"><span class="id" title="definition">update_version_region</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:454" class="idref" href="#glmem:454"><span class="id" title="binder">glmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:455" class="idref" href="#la:455"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:456" class="idref" href="#v:456"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem:457" class="idref" href="#llmem:457"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="a:458" class="idref" href="#a:458"><span class="id" title="binder">a</span></a> <a id="lmem':459" class="idref" href="#lmem':459"><span class="id" title="binder">lmem'</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:454"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:458"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:456"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':459"><span class="id" title="variable">lmem'</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#llmem:457"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:455"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_addr_vmap" class="idref" href="#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a><br/>
&nbsp;&nbsp;(<a id="a:460" class="idref" href="#a:460"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:461" class="idref" href="#v:461"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:462" class="idref" href="#vmap:462"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:460"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:461"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1 <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_region_vmap" class="idref" href="#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a><br/>
&nbsp;&nbsp;(<a id="la:463" class="idref" href="#la:463"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:464" class="idref" href="#v:464"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:465" class="idref" href="#vmap:465"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="a:466" class="idref" href="#a:466"><span class="id" title="binder">a</span></a> <a id="vm:467" class="idref" href="#vm:467"><span class="id" title="binder">vm</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:466"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:464"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vm:467"><span class="id" title="variable">vm</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:465"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:463"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_lookup" class="idref" href="#update_version_addr_lookup"><span class="id" title="lemma">update_version_addr_lookup</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:468" class="idref" href="#glmem:468"><span class="id" title="binder">glmem</span></a> <a id="llmem:469" class="idref" href="#llmem:469"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:470" class="idref" href="#a:470"><span class="id" title="binder">a</span></a> <a id="a':471" class="idref" href="#a':471"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:472" class="idref" href="#v:472"><span class="id" title="binder">v</span></a> <a id="v':473" class="idref" href="#v':473"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw':474" class="idref" href="#lw':474"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:469"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':471"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':473"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':474"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:469"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:470"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:472"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:468"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:470"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:472"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:469"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':471"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':473"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw':474"><span class="id" title="variable">lw'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw'</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hglm</span>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">simplify_map_eq</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmax</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_vmap_lookup" class="idref" href="#update_version_region_vmap_lookup"><span class="id" title="lemma">update_version_region_vmap_lookup</span></a> {<a id="vmap:475" class="idref" href="#vmap:475"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>} {<a id="v:476" class="idref" href="#v:476"><span class="id" title="binder">v</span></a> <a id="la:477" class="idref" href="#la:477"><span class="id" title="binder">la</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:477"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:478" class="idref" href="#a:478"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:478"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:477"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:477"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:476"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:475"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:478"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#v:476"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnd</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">NoDup_cons_1_2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">NoDup_cons_1_1</span> <span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">Hnd</span> <span class="id" title="var">Ha'</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_lookup_neq" class="idref" href="#update_version_addr_lookup_neq"><span class="id" title="lemma">update_version_addr_lookup_neq</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:479" class="idref" href="#glmem:479"><span class="id" title="binder">glmem</span></a> <a id="llmem:480" class="idref" href="#llmem:480"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:481" class="idref" href="#a:481"><span class="id" title="binder">a</span></a> <a id="a':482" class="idref" href="#a':482"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:483" class="idref" href="#v:483"><span class="id" title="binder">v</span></a> <a id="v':484" class="idref" href="#v':484"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:481"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':482"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:479"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:481"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:483"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:480"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':482"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':484"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:480"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':482"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':484"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_mono" class="idref" href="#update_version_addr_mono"><span class="id" title="lemma">update_version_addr_mono</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:485" class="idref" href="#glmem:485"><span class="id" title="binder">glmem</span></a> <a id="lmem1:486" class="idref" href="#lmem1:486"><span class="id" title="binder">lmem1</span></a> <a id="lmem2:487" class="idref" href="#lmem2:487"><span class="id" title="binder">lmem2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:488" class="idref" href="#a:488"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:489" class="idref" href="#v:489"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem1:486"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem2:487"><span class="id" title="variable">lmem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:485"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:488"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:489"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem1:486"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:485"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:488"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:489"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem2:487"><span class="id" title="variable">lmem2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span>|]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_mono" class="idref" href="#update_version_region_mono"><span class="id" title="lemma">update_version_region_mono</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:490" class="idref" href="#glmem:490"><span class="id" title="binder">glmem</span></a> <a id="lmem1:491" class="idref" href="#lmem1:491"><span class="id" title="binder">lmem1</span></a> <a id="lmem2:492" class="idref" href="#lmem2:492"><span class="id" title="binder">lmem2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:493" class="idref" href="#la:493"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:494" class="idref" href="#v:494"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem1:491"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem2:492"><span class="id" title="variable">lmem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:490"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:493"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:494"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem1:491"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:490"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:493"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:494"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem2:492"><span class="id" title="variable">lmem2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHla</span> ; <span class="id" title="tactic">rename</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lmem1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lmem2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_mono"><span class="id" title="axiom">update_version_addr_mono</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_lmem" class="idref" href="#update_version_region_preserves_lmem"><span class="id" title="lemma">update_version_region_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:495" class="idref" href="#glmem:495"><span class="id" title="binder">glmem</span></a> <a id="llmem:496" class="idref" href="#llmem:496"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:497" class="idref" href="#la:497"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:498" class="idref" href="#a:498"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:499" class="idref" href="#v:499"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:495"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:497"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:499"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:496"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:498"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:499"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:496"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:498"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:499"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_notin_preserves_lmem" class="idref" href="#update_version_region_notin_preserves_lmem"><span class="id" title="lemma">update_version_region_notin_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:500" class="idref" href="#glmem:500"><span class="id" title="binder">glmem</span></a> <a id="llmem:501" class="idref" href="#llmem:501"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:502" class="idref" href="#la:502"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':503" class="idref" href="#a':503"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:504" class="idref" href="#v:504"><span class="id" title="binder">v</span></a> <a id="v':505" class="idref" href="#v':505"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':503"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:502"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:500"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:502"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:504"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:501"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':503"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':505"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:501"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':503"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':505"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'_notin_la</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_lmem_next" class="idref" href="#update_version_region_preserves_lmem_next"><span class="id" title="lemma">update_version_region_preserves_lmem_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:506" class="idref" href="#glmem:506"><span class="id" title="binder">glmem</span></a> <a id="llmem:507" class="idref" href="#llmem:507"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:508" class="idref" href="#la:508"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':509" class="idref" href="#a':509"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:510" class="idref" href="#v:510"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:508"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':509"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:508"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:507"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':509"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:510"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:506"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:508"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:510"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:507"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':509"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:510"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:506"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':509"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:510"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlmem_next</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Ha'_in_la</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">erewrite</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //= ; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_updated_incl" class="idref" href="#update_version_addr_updated_incl"><span class="id" title="lemma">update_version_addr_updated_incl</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:511" class="idref" href="#glmem:511"><span class="id" title="binder">glmem</span></a> <a id="llmem:512" class="idref" href="#llmem:512"><span class="id" title="binder">llmem</span></a> <a id="llmem':513" class="idref" href="#llmem':513"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:514" class="idref" href="#la:514"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:515" class="idref" href="#a:515"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:516" class="idref" href="#v:516"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:511"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:514"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:516"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:512"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:515"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:516"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:511"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:515"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:516"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:511"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:514"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:516"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:512"><span class="id" title="variable">llmem</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':513"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:511"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:514"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:516"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:512"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':513"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hupd_max</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hupd_a</span><br/>
&nbsp;&nbsp;; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_insert" class="idref" href="#update_version_addr_insert"><span class="id" title="lemma">update_version_addr_insert</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:517" class="idref" href="#glmem:517"><span class="id" title="binder">glmem</span></a> <a id="lmem:518" class="idref" href="#lmem:518"><span class="id" title="binder">lmem</span></a> <a id="lmem':519" class="idref" href="#lmem':519"><span class="id" title="binder">lmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:520" class="idref" href="#a:520"><span class="id" title="binder">a</span></a> <a id="a':521" class="idref" href="#a':521"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:522" class="idref" href="#v:522"><span class="id" title="binder">v</span></a> <a id="v':523" class="idref" href="#v':523"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="la:524" class="idref" href="#la:524"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw:525" class="idref" href="#lw:525"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem:518"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':521"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':523"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:517"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:520"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:517"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:524"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':521"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':523"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.logical_mapsto.html#lw:525"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>)) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':519"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:517"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:524"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:518"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':519"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:517"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:520"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:517"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:524"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:518"><span class="id" title="variable">lmem</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':519"><span class="id" title="variable">lmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">Hupd</span> <span class="id" title="var">Hupd_mem_incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hupd_a</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_insert" class="idref" href="#update_version_region_insert"><span class="id" title="lemma">update_version_region_insert</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:526" class="idref" href="#glmem:526"><span class="id" title="binder">glmem</span></a> <a id="lmem:527" class="idref" href="#lmem:527"><span class="id" title="binder">lmem</span></a> <a id="lmem':528" class="idref" href="#lmem':528"><span class="id" title="binder">lmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:529" class="idref" href="#la:529"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':530" class="idref" href="#a':530"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:531" class="idref" href="#v:531"><span class="id" title="binder">v</span></a> <a id="v':532" class="idref" href="#v':532"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:533" class="idref" href="#lw:533"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:529"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':530"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:529"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem:527"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':530"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':532"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:534" class="idref" href="#a:534"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lmem:527"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:534"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:531"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:529"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:526"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:529"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:531"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':530"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':532"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.logical_mapsto.html#lw:533"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':528"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:526"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:529"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:531"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:527"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem':528"><span class="id" title="variable">lmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">lmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_notin_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_delete_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_subseteq_spec</span> ; <span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>] <span class="id" title="var">lw0</span> <span class="id" title="var">Hlw0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw0</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_map_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw0</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><span class="id" title="var">lw</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>) <span class="id" title="var">la</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_insert"><span class="id" title="axiom">update_version_addr_insert</span></a> ; <span class="id" title="var">cycle</span> 1 ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">a'</span> := <span class="id" title="var">a'</span>) (<span class="id" title="var">v'</span> := <span class="id" title="var">v'</span>) (<span class="id" title="var">lw</span> := <span class="id" title="var">lw</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_updated_incl"><span class="id" title="axiom">update_version_addr_updated_incl</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_insert_inv" class="idref" href="#update_version_region_insert_inv"><span class="id" title="lemma">update_version_region_insert_inv</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:535" class="idref" href="#glmem:535"><span class="id" title="binder">glmem</span></a> <a id="lmem:536" class="idref" href="#lmem:536"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:537" class="idref" href="#la:537"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':538" class="idref" href="#a':538"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:539" class="idref" href="#v:539"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:540" class="idref" href="#lw:540"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:537"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':538"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:539"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:541" class="idref" href="#a:541"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:541"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:539"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:537"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:537"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:539"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:537"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:539"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':538"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:539"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.logical_mapsto.html#lw:540"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_subseteq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -!/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHla</span> <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span> <span class="id" title="var">HNoDup_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_notin_preserves_cur" class="idref" href="#update_version_addr_notin_preserves_cur"><span class="id" title="lemma">update_version_addr_notin_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:542" class="idref" href="#vmap:542"><span class="id" title="binder">vmap</span></a> <a id="vmap':543" class="idref" href="#vmap':543"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:544" class="idref" href="#a:544"><span class="id" title="binder">a</span></a> <a id="a':545" class="idref" href="#a':545"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:546" class="idref" href="#v:546"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':543"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':545"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:546"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:542"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:544"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':545"><span class="id" title="variable">a'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':543"><span class="id" title="variable">vmap'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:544"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:542"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:544"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; -&gt; <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_notin_preserves_cur" class="idref" href="#update_version_region_notin_preserves_cur"><span class="id" title="lemma">update_version_region_notin_preserves_cur</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="vmap:547" class="idref" href="#vmap:547"><span class="id" title="binder">vmap</span></a> <a id="vmap':548" class="idref" href="#vmap':548"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="la:549" class="idref" href="#la:549"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:550" class="idref" href="#a:550"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:551" class="idref" href="#v:551"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':548"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:549"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:551"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:547"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:550"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:549"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':548"><span class="id" title="variable">vmap'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:550"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:547"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:550"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span> <span class="id" title="var">la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IH</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hupd</span> <span class="id" title="var">Ha_notin_la</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">vmap0</span> := <span class="id" title="abbreviation">foldr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:552" class="idref" href="#a:552"><span class="id" title="binder"><span id="a:554" class="id">a</span></span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vm:553" class="idref" href="#vm:553"><span class="id" title="binder"><span id="vm:555" class="id">vm</span></span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:552"><span class="id" title="variable">a</span></a> <span class="id" title="var">v</span> <a class="idref" href="cap_machine.logical_mapsto.html#vm:553"><span class="id" title="variable">vm</span></a>) <span class="id" title="var">vmap</span> <span class="id" title="var">la</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">vmap0</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span> ; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_notin_preserves_cur"><span class="id" title="axiom">update_version_addr_notin_preserves_cur</span></a>; <span class="id" title="var">cycle</span> 1 ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_notin_is_cur_word" class="idref" href="#update_version_notin_is_cur_word"><span class="id" title="lemma">update_version_notin_is_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:556" class="idref" href="#vmap:556"><span class="id" title="binder">vmap</span></a> <a id="vmap':557" class="idref" href="#vmap':557"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:558" class="idref" href="#p:558"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:559" class="idref" href="#b:559"><span class="id" title="binder">b</span></a> <a id="e:560" class="idref" href="#e:560"><span class="id" title="binder">e</span></a> <a id="a:561" class="idref" href="#a:561"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:562" class="idref" href="#v:562"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:563" class="idref" href="#lw:563"><span class="id" title="binder">lw</span></a> <a id="lwsrc:564" class="idref" href="#lwsrc:564"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:564"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:558"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:559"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:560"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:561"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:562"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':557"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:559"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:560"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:562"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:556"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:564"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:563"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:563"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:556"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:563"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':557"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hget</span> <span class="id" title="var">Hupd</span> <span class="id" title="var">Hno_overlap</span> <span class="id" title="var">His_cur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> <span class="id" title="var">a'0</span> <span class="id" title="var">Ha'0</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">His_cur_lw</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">His_cur_lw</span> <span class="id" title="var">a'0</span> <span class="id" title="var">Ha'0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'0_cur</span><br/>
&nbsp;&nbsp;; (<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_cur"><span class="id" title="axiom">update_version_region_notin_preserves_cur</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'0_cur</span>; <span class="id" title="tactic">eauto</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#not_overlap_wordL_seq_between"><span class="id" title="axiom">not_overlap_wordL_seq_between</span></a>; [| | <span class="id" title="tactic">eauto</span>..].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_lreg_corresponds_src" class="idref" href="#update_version_region_lreg_corresponds_src"><span class="id" title="lemma">update_version_region_lreg_corresponds_src</span></a><br/>
&nbsp;&nbsp;(<a id="phr:565" class="idref" href="#phr:565"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:566" class="idref" href="#phm:566"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:567" class="idref" href="#lr:567"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lmem:568" class="idref" href="#lmem:568"><span class="id" title="binder">lmem</span></a> <a id="lm:569" class="idref" href="#lm:569"><span class="id" title="binder">lm</span></a> <a id="lmem':570" class="idref" href="#lmem':570"><span class="id" title="binder">lmem'</span></a> <a id="lm':571" class="idref" href="#lm':571"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:572" class="idref" href="#vmap:572"><span class="id" title="binder">vmap</span></a> <a id="vmap':573" class="idref" href="#vmap':573"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:574" class="idref" href="#src:574"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:575" class="idref" href="#p:575"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:576" class="idref" href="#b:576"><span class="id" title="binder">b</span></a> <a id="e:577" class="idref" href="#e:577"><span class="id" title="binder">e</span></a> <a id="a:578" class="idref" href="#a:578"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:579" class="idref" href="#v:579"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="lwsrc:580" class="idref" href="#lwsrc:580"><span class="id" title="binder">lwsrc</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:565"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:566"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:567"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:569"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:572"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:575"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:576"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:577"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:578"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:579"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap':573"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:567"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:574"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:567"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:569"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:572"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:574"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':573"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:576"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:577"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:579"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:572"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#src:574"><span class="id" title="variable">src</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a>)<span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phr</span>) (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#src:574"><span class="id" title="variable">src</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:580"><span class="id" title="variable">lwsrc</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap':573"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;  [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_insert</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">phr</span> <span class="id" title="keyword">with</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg_inv</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">insert_delete_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_corresponds_insert_respects"><span class="id" title="axiom">lreg_corresponds_insert_respects</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">phr</span> := (<span class="id" title="definition">delete</span> <span class="id" title="var">src</span> <span class="id" title="var">phr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: {  <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_reg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_delete</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hunique</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_reg</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_notin_is_cur_word"><span class="id" title="axiom">update_version_notin_is_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_lreg_corresponds_src'" class="idref" href="#update_version_region_lreg_corresponds_src'"><span class="id" title="lemma">update_version_region_lreg_corresponds_src'</span></a><br/>
&nbsp;&nbsp;(<a id="phr:581" class="idref" href="#phr:581"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:582" class="idref" href="#phm:582"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:583" class="idref" href="#lr:583"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:584" class="idref" href="#lm:584"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:585" class="idref" href="#vmap:585"><span class="id" title="binder">vmap</span></a> <a id="vmap':586" class="idref" href="#vmap':586"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:587" class="idref" href="#src:587"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:588" class="idref" href="#p:588"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:589" class="idref" href="#b:589"><span class="id" title="binder">b</span></a> <a id="e:590" class="idref" href="#e:590"><span class="id" title="binder">e</span></a> <a id="a:591" class="idref" href="#a:591"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:592" class="idref" href="#v:592"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="lwsrc:593" class="idref" href="#lwsrc:593"><span class="id" title="binder">lwsrc</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:581"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:582"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:583"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:584"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:585"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:593"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:588"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:589"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:590"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:591"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:592"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:593"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap':586"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lr:583"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#src:587"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:593"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:583"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:584"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:585"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:587"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:593"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':586"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:589"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:590"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:592"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:585"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:581"><span class="id" title="variable">phr</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#src:587"><span class="id" title="variable">src</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwsrc:593"><span class="id" title="variable">lwsrc</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap':586"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">HLinv</span> <span class="id" title="var">Hget</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">phr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">&lt;[</span><span class="id" title="var">src</span><span class="id" title="notation">:=(</span><a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <span class="id" title="var">lwsrc</span>)<span class="id" title="notation">)]&gt;</span> <span class="id" title="notation">phr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_lreg_corresponds_src"><span class="id" title="axiom">update_version_region_lreg_corresponds_src</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insert_id</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word_next_version"><span class="id" title="axiom">lword_get_word_next_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_word_region_update_lword" class="idref" href="#update_version_word_region_update_lword"><span class="id" title="lemma">update_version_word_region_update_lword</span></a> {<a id="vmap:594" class="idref" href="#vmap:594"><span class="id" title="binder">vmap</span></a> <a id="vmap':595" class="idref" href="#vmap':595"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>} {<a id="lw:596" class="idref" href="#lw:596"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>} {<a id="p:597" class="idref" href="#p:597"><span class="id" title="binder">p</span></a> <a id="b:598" class="idref" href="#b:598"><span class="id" title="binder">b</span></a> <a id="e:599" class="idref" href="#e:599"><span class="id" title="binder">e</span></a> <a id="a:600" class="idref" href="#a:600"><span class="id" title="binder">a</span></a> <a id="v:601" class="idref" href="#v:601"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:596"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#p:597"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:598"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:599"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:600"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:601"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:598"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:599"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:601"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:594"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':595"><span class="id" title="variable">vmap'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:596"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:594"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:596"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap':595"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hgclw</span> &lt;- <span class="id" title="var">Hcw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [|[*|]|<span class="id" title="var">f</span> [*|*]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hgclw</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap_lookup"><span class="id" title="axiom">update_version_region_vmap_lookup</span></a>, <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_current_version" class="idref" href="#update_version_addr_preserves_mem_current_version"><span class="id" title="lemma">update_version_addr_preserves_mem_current_version</span></a><br/>
&nbsp;&nbsp;(<a id="lm:602" class="idref" href="#lm:602"><span class="id" title="binder">lm</span></a> <a id="lm':603" class="idref" href="#lm':603"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:604" class="idref" href="#vmap:604"><span class="id" title="binder">vmap</span></a> <a id="vmap':605" class="idref" href="#vmap':605"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:606" class="idref" href="#a:606"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:607" class="idref" href="#v:607"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:602"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:606"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:607"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:606"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:607"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:604"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm':603"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:602"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:606"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:607"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:602"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':605"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:606"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:607"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:604"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:602"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:604"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:606"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:602"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:604"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':603"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':605"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmaxv</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hla</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_insert</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_insert"><span class="id" title="axiom">is_cur_addr_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hlegal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlegal</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v'</span> &amp; <span class="id" title="var">Hcur_la'</span> &amp; <span class="id" title="var">Hcurv'_max</span> &amp; <span class="id" title="var">Hsome_la'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>] ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_insert"><span class="id" title="axiom">is_cur_addr_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la'</span> |- * ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hlegal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlegal</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v'</span> &amp; <span class="id" title="var">Hcur_la'</span> &amp; <span class="id" title="var">Hcurv'_max</span> &amp; <span class="id" title="var">Hsome_la'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> ; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la'</span> |- * ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_cur_version_notin_is_cur_word" class="idref" href="#update_cur_version_notin_is_cur_word"><span class="id" title="lemma">update_cur_version_notin_is_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="lm:608" class="idref" href="#lm:608"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:609" class="idref" href="#vmap:609"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:610" class="idref" href="#a:610"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:611" class="idref" href="#v:611"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:612" class="idref" href="#lw:612"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:608"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:609"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:610"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:608"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:610"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:611"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:612"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:610"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:611"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:609"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:612"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:609"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:612"><span class="id" title="variable">lw</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#a:610"><span class="id" title="variable">a</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.logical_mapsto.html#v:611"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hno_access</span> <span class="id" title="var">Hlm</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">His_cur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">His_cur_lw</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">His_cur_lw</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'_cur</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_vmap_root" class="idref" href="#update_version_addr_preserves_mem_vmap_root"><span class="id" title="lemma">update_version_addr_preserves_mem_vmap_root</span></a><br/>
&nbsp;&nbsp;(<a id="phm:613" class="idref" href="#phm:613"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:614" class="idref" href="#lm:614"><span class="id" title="binder">lm</span></a> <a id="lm':615" class="idref" href="#lm':615"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:616" class="idref" href="#vmap:616"><span class="id" title="binder">vmap</span></a> <a id="vmap':617" class="idref" href="#vmap':617"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:618" class="idref" href="#a:618"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:619" class="idref" href="#v:619"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:618"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:619"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:618"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:619"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:616"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm':615"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:618"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:619"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':617"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:618"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:619"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:616"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:616"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:618"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:616"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:613"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:614"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:616"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:613"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':615"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':617"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hla</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <span class="id" title="var">a</span> <span class="id" title="var">lw</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnaccess</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hla'</span> := <span class="id" title="var">Hla</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">va</span> &amp; <span class="id" title="var">Hcur_va</span> &amp; <span class="id" title="var">Hle_va</span> &amp; [<span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span>, <span class="id" title="var">Hcur_va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_va</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hla'</span> := <span class="id" title="var">Hla</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_v</span> &amp; <span class="id" title="var">Hcur_max</span> &amp; [<span class="id" title="var">cur_lw</span> <span class="id" title="var">Hcur_lw</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_v</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hcur_a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hcur_a''</span> := <span class="id" title="var">Hcur_a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a''</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_a''</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">va</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_lw'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlwa</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm_lw</span> &amp; <span class="id" title="var">Hphm_lw</span> &amp; <span class="id" title="var">Hcur_lw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm_lw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_corresponds" class="idref" href="#update_version_addr_preserves_mem_corresponds"><span class="id" title="lemma">update_version_addr_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phm:620" class="idref" href="#phm:620"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:621" class="idref" href="#lm:621"><span class="id" title="binder">lm</span></a> <a id="lm':622" class="idref" href="#lm':622"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:623" class="idref" href="#vmap:623"><span class="id" title="binder">vmap</span></a> <a id="vmap':624" class="idref" href="#vmap':624"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:625" class="idref" href="#a:625"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:626" class="idref" href="#v:626"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:621"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:623"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm':622"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:621"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:621"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':624"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:623"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:621"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:623"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:620"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:621"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:623"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:620"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':622"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':624"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnotres</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hgcroot</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_preserves_mem_current_version"><span class="id" title="axiom">update_version_addr_preserves_mem_current_version</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_preserves_mem_vmap_root"><span class="id" title="axiom">update_version_addr_preserves_mem_vmap_root</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;If&nbsp;an&nbsp;address&nbsp;`a'`&nbsp;is&nbsp;not&nbsp;reachable&nbsp;from&nbsp;the&nbsp;current&nbsp;view&nbsp;of&nbsp;the&nbsp;lmem,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;updating&nbsp;the&nbsp;version&nbsp;number&nbsp;of&nbsp;another&nbsp;address&nbsp;`a`&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;does&nbsp;not&nbsp;make&nbsp;it&nbsp;reachable&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_notin_not_access" class="idref" href="#update_version_addr_preserves_notin_not_access"><span class="id" title="lemma">update_version_addr_preserves_notin_not_access</span></a><br/>
&nbsp;&nbsp;(<a id="lm:627" class="idref" href="#lm:627"><span class="id" title="binder">lm</span></a> <a id="lm':628" class="idref" href="#lm':628"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:629" class="idref" href="#a:629"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vmap:630" class="idref" href="#vmap:630"><span class="id" title="binder">vmap</span></a> <a id="vmap':631" class="idref" href="#vmap':631"><span class="id" title="binder">vmap'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="v:632" class="idref" href="#v:632"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a':633" class="idref" href="#a':633"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:629"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lm':628"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':631"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':628"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':631"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:629"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':628"><span class="id" title="variable">lm'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':633"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':631"><span class="id" title="variable">vmap'</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#a:629"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hincl</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlm</span>] <span class="id" title="var">Hcur</span> <span class="id" title="var">Hmaxv</span> <span class="id" title="var">Hno_access</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hsome'</span> <span class="id" title="var">Hcur'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">v0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur'</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hno_access</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_expands" class="idref" href="#update_version_addr_expands"><span class="id" title="lemma">update_version_addr_expands</span></a> (<a id="lm:634" class="idref" href="#lm:634"><span class="id" title="binder">lm</span></a> <a id="lm':635" class="idref" href="#lm':635"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:636" class="idref" href="#a:636"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:637" class="idref" href="#v:637"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:634"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lm':635"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:634"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:636"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:637"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:634"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:634"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:636"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:637"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':635"><span class="id" title="variable">lm'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hmaxv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span>|]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_expands" class="idref" href="#update_version_region_expands"><span class="id" title="lemma">update_version_region_expands</span></a> (<a id="lm:638" class="idref" href="#lm:638"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:639" class="idref" href="#la:639"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:640" class="idref" href="#v:640"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:639"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:641" class="idref" href="#a:641"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lm:638"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:641"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:640"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:639"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm:638"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:638"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:639"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:640"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:638"><span class="id" title="variable">lm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">HmaxMap</span> ; <span class="id" title="var">destruct_cons</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HNoDup_la</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_expands"><span class="id" title="axiom">update_version_addr_expands</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_vmap_neq_preserves_cur" class="idref" href="#update_version_addr_vmap_neq_preserves_cur"><span class="id" title="lemma">update_version_addr_vmap_neq_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:642" class="idref" href="#vmap:642"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a':643" class="idref" href="#a':643"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:644" class="idref" href="#v:644"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:645" class="idref" href="#a:645"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:645"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':643"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:645"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:642"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:645"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':643"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:642"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_vmap_notin_preserves_cur" class="idref" href="#update_version_region_vmap_notin_preserves_cur"><span class="id" title="lemma">update_version_region_vmap_notin_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:646" class="idref" href="#vmap:646"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:647" class="idref" href="#la:647"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:648" class="idref" href="#v:648"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:649" class="idref" href="#a:649"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:649"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:647"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:649"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:648"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:646"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:649"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:648"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:647"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:648"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:646"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnot_in</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha_notin_la</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_vmap_neq_preserves_cur"><span class="id" title="axiom">update_version_addr_vmap_neq_preserves_cur</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_notin_not_access" class="idref" href="#update_version_region_preserves_notin_not_access"><span class="id" title="lemma">update_version_region_preserves_notin_not_access</span></a><br/>
&nbsp;&nbsp;(<a id="lm:650" class="idref" href="#lm:650"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:651" class="idref" href="#la:651"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vmap:652" class="idref" href="#vmap:652"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="v:653" class="idref" href="#v:653"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:654" class="idref" href="#a:654"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:655" class="idref" href="#a:655"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lm:650"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:655"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:653"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:656" class="idref" href="#a:656"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:656"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:653"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:652"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:657" class="idref" href="#a:657"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lm:650"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:657"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:653"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:650"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:652"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:650"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:653"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:650"><span class="id" title="variable">lm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:651"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:653"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:652"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hmap</span> <span class="id" title="var">HcurMap</span> <span class="id" title="var">HmaxvMap</span> <span class="id" title="var">Hnot_access</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_access</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_preserves_notin_not_access"><span class="id" title="axiom">update_version_addr_preserves_notin_not_access</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_expands"><span class="id" title="axiom">update_version_region_expands</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap_notin_preserves_cur"><span class="id" title="axiom">update_version_region_vmap_notin_preserves_cur</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;generalize&nbsp;to&nbsp;update&nbsp;with&nbsp;glm&nbsp;instead&nbsp;of&nbsp;lm&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_mem_corresponds" class="idref" href="#update_version_region_preserves_mem_corresponds"><span class="id" title="lemma">update_version_region_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phm:658" class="idref" href="#phm:658"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:659" class="idref" href="#lm:659"><span class="id" title="binder">lm</span></a> <a id="lm':660" class="idref" href="#lm':660"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:661" class="idref" href="#vmap:661"><span class="id" title="binder">vmap</span></a> <a id="vmap':662" class="idref" href="#vmap':662"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:663" class="idref" href="#la:663"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:664" class="idref" href="#v:664"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#vmap':662"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:664"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:661"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lm':660"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:664"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:665" class="idref" href="#a:665"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#a:665"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:666" class="idref" href="#a:666"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:666"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:664"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:667" class="idref" href="#a:667"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:667"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:664"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:661"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:668" class="idref" href="#a:668"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:668"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:664"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:669" class="idref" href="#a:669"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:661"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:669"><span class="id" title="variable">a</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:663"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:658"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:661"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:658"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm':660"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap':662"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">phm</span> <span class="id" title="var">lm</span> <span class="id" title="var">lm'</span> <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> * -&gt; -&gt; <span class="id" title="var">Hno_dup</span> <span class="id" title="var">Hnotres</span> <span class="id" title="var">Hmap</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hall_naccess_mem</span> <span class="id" title="var">Hmem_corr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <span class="id" title="var">phm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span> ;<span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_preserves_mem_corresponds"><span class="id" title="axiom">update_version_addr_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_cur"><span class="id" title="axiom">update_version_region_notin_preserves_cur</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_preserves_notin_not_access"><span class="id" title="axiom">update_version_region_preserves_notin_not_access</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Machinery for valid update of the lmemory 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;We&nbsp;require&nbsp;⊆,&nbsp;because&nbsp;lmem&nbsp;might&nbsp;contain&nbsp;only&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;updated&nbsp;region,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;means&nbsp;that&nbsp;lmem'&nbsp;contains&nbsp;both:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;updated&nbsp;addresses&nbsp;known&nbsp;from&nbsp;lmem<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;updated&nbsp;addresses&nbsp;a&nbsp;∈&nbsp;<span class="inlinecode"><span class="id" title="var">b</span>,</span> <span class="inlinecode"><span class="id" title="var">e</span>),</span> <span class="inlinecode"><span class="id" title="var">unknown</span></span> <span class="inlinecode"><span class="id" title="var">from</span></span> <span class="inlinecode"><span class="id" title="var">lmem</span></span>

       <span class="inlinecode"><span class="id" title="var">We</span></span> <span class="inlinecode"><span class="id" title="var">also</span></span> <span class="inlinecode"><span class="id" title="var">require</span></span> <span class="inlinecode"><span class="id" title="var">that</span></span> <span class="inlinecode"><span class="id" title="var">every</span></span> <span class="inlinecode"><span class="id" title="var">addresses</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">the</span></span> <span class="inlinecode"><span class="id" title="var">region</span></span> <span class="inlinecode"><span class="id" title="var">have</span></span> <span class="inlinecode"><span class="id" title="var">actually</span></span> <span class="inlinecode"><span class="id" title="var">been</span></span> <span class="inlinecode"><span class="id" title="var">updated</span>,</span>
       <span class="inlinecode"><span class="id" title="var">although</span></span> <span class="inlinecode"><span class="id" title="var">we</span></span> <span class="inlinecode"><span class="id" title="var">might</span></span> <span class="inlinecode"><span class="id" title="var">not</span></span> <span class="inlinecode"><span class="id" title="var">know</span></span> <span class="inlinecode"><span class="id" title="var">their</span></span> <span class="inlinecode"><span class="id" title="var">value</span></span>
 <span class="inlinecode"></span>*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="is_valid_updated_lmemory" class="idref" href="#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:670" class="idref" href="#glmem:670"><span class="id" title="binder">glmem</span></a> <a id="llmem:671" class="idref" href="#llmem:671"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:672" class="idref" href="#la:672"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:673" class="idref" href="#v:673"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem':674" class="idref" href="#llmem':674"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:670"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:672"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:671"><span class="id" title="variable">llmem</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':674"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:671"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:670"><span class="id" title="variable">glmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;unclear&nbsp;whether&nbsp;this&nbsp;is&nbsp;useful&nbsp;in&nbsp;the&nbsp;def&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:675" class="idref" href="#a:675"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#llmem:671"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:675"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:672"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:676" class="idref" href="#a:676"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#llmem':674"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:676"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#la:672"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_notin_preserves_lmem" class="idref" href="#is_valid_updated_lmemory_notin_preserves_lmem"><span class="id" title="lemma">is_valid_updated_lmemory_notin_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:677" class="idref" href="#glmem:677"><span class="id" title="binder">glmem</span></a> <a id="llmem:678" class="idref" href="#llmem:678"><span class="id" title="binder">llmem</span></a> <a id="llmem':679" class="idref" href="#llmem':679"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:680" class="idref" href="#la:680"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':681" class="idref" href="#a':681"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:682" class="idref" href="#v:682"><span class="id" title="binder">v</span></a> <a id="v':683" class="idref" href="#v':683"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:684" class="idref" href="#lw:684"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':681"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:680"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:677"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:678"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:680"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:682"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':679"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:678"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':681"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':683"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:684"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem':679"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':681"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':683"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:684"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'_notin_la</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">lw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ( <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">lwa'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa'</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_preserves_lmem" class="idref" href="#is_valid_updated_lmemory_preserves_lmem"><span class="id" title="lemma">is_valid_updated_lmemory_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:685" class="idref" href="#glmem:685"><span class="id" title="binder">glmem</span></a> <a id="llmem:686" class="idref" href="#llmem:686"><span class="id" title="binder">llmem</span></a> <a id="llmem':687" class="idref" href="#llmem':687"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:688" class="idref" href="#la:688"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':689" class="idref" href="#a':689"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:690" class="idref" href="#v:690"><span class="id" title="binder">v</span></a> <a id="v':691" class="idref" href="#v':691"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:692" class="idref" href="#lw:692"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:685"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:686"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:690"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':687"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:686"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':689"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':691"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:692"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem':687"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':689"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':691"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:692"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_map_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HmaxMem_a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? | <span class="id" title="var">Ha'_neq_a</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq_v</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_lookup"><span class="id" title="axiom">update_version_addr_lookup</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_updated_incl"><span class="id" title="axiom">update_version_addr_updated_incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_lmem_incl" class="idref" href="#is_valid_updated_lmemory_lmem_incl"><span class="id" title="lemma">is_valid_updated_lmemory_lmem_incl</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:693" class="idref" href="#glmem:693"><span class="id" title="binder">glmem</span></a> <a id="llmem:694" class="idref" href="#llmem:694"><span class="id" title="binder">llmem</span></a> <a id="llmem':695" class="idref" href="#llmem':695"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:696" class="idref" href="#la:696"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:697" class="idref" href="#v:697"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:696"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:693"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:694"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:696"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:697"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':695"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:694"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':695"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory_preserves_lmem"><span class="id" title="axiom">is_valid_updated_lmemory_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_preserves_lmem_next" class="idref" href="#is_valid_updated_lmemory_preserves_lmem_next"><span class="id" title="lemma">is_valid_updated_lmemory_preserves_lmem_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:698" class="idref" href="#glmem:698"><span class="id" title="binder">glmem</span></a> <a id="llmem:699" class="idref" href="#llmem:699"><span class="id" title="binder">llmem</span></a> <a id="llmem':700" class="idref" href="#llmem':700"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:701" class="idref" href="#la:701"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':702" class="idref" href="#a':702"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:703" class="idref" href="#v:703"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:704" class="idref" href="#lw:704"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:701"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':702"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:701"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:698"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:699"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:701"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:703"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':700"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;llmem&nbsp;⊆&nbsp;glmem&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:705" class="idref" href="#a:705"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#llmem:699"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:705"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:703"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:701"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:699"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':702"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:703"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:704"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem':700"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':702"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:703"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:704"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hmax_la</span> <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ( <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [? | <span class="id" title="var">Ha'_in_la</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlmem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlwa'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'_in_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'_in_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ha'_lookup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_la</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_preserves_lmem_next"><span class="id" title="axiom">update_version_region_preserves_lmem_next</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Ha'</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlmem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlwa'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_preserves_lmem_next"><span class="id" title="axiom">update_version_region_preserves_lmem_next</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_la</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_insert" class="idref" href="#is_valid_updated_lmemory_insert"><span class="id" title="lemma">is_valid_updated_lmemory_insert</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:706" class="idref" href="#glmem:706"><span class="id" title="binder">glmem</span></a> <a id="llmem:707" class="idref" href="#llmem:707"><span class="id" title="binder">llmem</span></a> <a id="llmem':708" class="idref" href="#llmem':708"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:709" class="idref" href="#la:709"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':710" class="idref" href="#a':710"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:711" class="idref" href="#v:711"><span class="id" title="binder">v</span></a> <a id="v':712" class="idref" href="#v':712"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:713" class="idref" href="#lw:713"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:709"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':710"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:709"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:707"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':710"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':712"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:714" class="idref" href="#a:714"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#llmem:707"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:714"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:711"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:709"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:706"><span class="id" title="variable">glmem</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':710"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':712"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:713"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>) <a class="idref" href="cap_machine.logical_mapsto.html#la:709"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:711"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':708"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:706"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:707"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:709"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:711"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':708"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_notin_la</span> <span class="id" title="var">Hlmem_None</span>  <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hvalid</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hupd</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMap'</span> &amp; <span class="id" title="var">HnextMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_insert"><span class="id" title="axiom">update_version_region_insert</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_insert'" class="idref" href="#is_valid_updated_lmemory_insert'"><span class="id" title="lemma">is_valid_updated_lmemory_insert'</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:715" class="idref" href="#glmem:715"><span class="id" title="binder">glmem</span></a> <a id="llmem:716" class="idref" href="#llmem:716"><span class="id" title="binder">llmem</span></a> <a id="llmem':717" class="idref" href="#llmem':717"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:718" class="idref" href="#la:718"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':719" class="idref" href="#a':719"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:720" class="idref" href="#v:720"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:721" class="idref" href="#lw:721"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:718"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':719"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:718"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:716"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':719"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:720"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:722" class="idref" href="#a:722"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#llmem:716"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:722"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:720"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:718"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:715"><span class="id" title="variable">glmem</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':719"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:720"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:721"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>) <a class="idref" href="cap_machine.logical_mapsto.html#la:718"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:720"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':717"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:715"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:716"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:718"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:720"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':717"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hvalid</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hupd</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMap'</span> &amp; <span class="id" title="var">HnextMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_insert_inv"><span class="id" title="axiom">update_version_region_insert_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_lmem_subset" class="idref" href="#is_valid_updated_lmemory_lmem_subset"><span class="id" title="lemma">is_valid_updated_lmemory_lmem_subset</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:723" class="idref" href="#glmem:723"><span class="id" title="binder">glmem</span></a> <a id="llmem:724" class="idref" href="#llmem:724"><span class="id" title="binder">llmem</span></a> <a id="llmem':725" class="idref" href="#llmem':725"><span class="id" title="binder">llmem'</span></a> <a id="llmem'':726" class="idref" href="#llmem'':726"><span class="id" title="binder">llmem''</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:727" class="idref" href="#la:727"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:728" class="idref" href="#v:728"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:724"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':725"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:723"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem':725"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:727"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem'':726"><span class="id" title="variable">llmem''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:723"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:724"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:727"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem'':726"><span class="id" title="variable">llmem''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hsubset</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_mono"><span class="id" title="axiom">update_version_region_mono</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmaxMem</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HmaxMem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Logical machine 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="isCorrectLPC" class="idref" href="#isCorrectLPC"><span class="id" title="definition, inductive"><span id="isCorrectLPC_ind" class="id"><span id="isCorrectLPC_sind" class="id">isCorrectLPC</span></span></span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="isCorrectLPC_intro" class="idref" href="#isCorrectLPC_intro"><span class="id" title="constructor">isCorrectLPC_intro</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lpc:731" class="idref" href="#lpc:731"><span class="id" title="binder">lpc</span></a> <a id="p:732" class="idref" href="#p:732"><span class="id" title="binder">p</span></a> (<a id="b:733" class="idref" href="#b:733"><span class="id" title="binder">b</span></a> <a id="e:734" class="idref" href="#e:734"><span class="id" title="binder">e</span></a> <a id="a:735" class="idref" href="#a:735"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lpc:731"><span class="id" title="variable">lpc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:732"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:733"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:734"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:735"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:732"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:733"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:734"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:735"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC:729"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lpc:731"><span class="id" title="variable">lpc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_isCorrectPC" class="idref" href="#isCorrectLPC_isCorrectPC"><span class="id" title="lemma">isCorrectLPC_isCorrectPC</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:736" class="idref" href="#lw:736"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:736"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:736"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hcorrect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_word</span> <span class="id" title="var">lw</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hcorrect</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectPC_isCorrectLPC" class="idref" href="#isCorrectPC_isCorrectLPC"><span class="id" title="lemma">isCorrectPC_isCorrectLPC</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:737" class="idref" href="#lw:737"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:737"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:737"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hcorrect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_word</span> <span class="id" title="var">lw</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hcorrect</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_isCorrectPC_iff" class="idref" href="#isCorrectLPC_isCorrectPC_iff"><span class="id" title="lemma">isCorrectLPC_isCorrectPC_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:738" class="idref" href="#lw:738"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:738"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:738"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span> ; [<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC_isCorrectPC"><span class="id" title="axiom">isCorrectLPC_isCorrectPC</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectPC_isCorrectLPC"><span class="id" title="axiom">isCorrectPC_isCorrectLPC</span></a>].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_isCorrectLPC_perm" class="idref" href="#not_isCorrectLPC_perm"><span class="id" title="lemma">not_isCorrectLPC_perm</span></a> <a id="p:739" class="idref" href="#p:739"><span class="id" title="binder">p</span></a> <a id="b:740" class="idref" href="#b:740"><span class="id" title="binder">b</span></a> <a id="e:741" class="idref" href="#e:741"><span class="id" title="binder">e</span></a> <a id="a:742" class="idref" href="#a:742"><span class="id" title="binder">a</span></a> <a id="v:743" class="idref" href="#v:743"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#p:739"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:739"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:739"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:740"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:741"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:742"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:743"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#not_isCorrectPC_perm"><span class="id" title="axiom">not_isCorrectPC_perm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_isCorrectLPC_bounds" class="idref" href="#not_isCorrectLPC_bounds"><span class="id" title="lemma">not_isCorrectLPC_bounds</span></a> <a id="p:744" class="idref" href="#p:744"><span class="id" title="binder">p</span></a> <a id="b:745" class="idref" href="#b:745"><span class="id" title="binder">b</span></a> <a id="e:746" class="idref" href="#e:746"><span class="id" title="binder">e</span></a> <a id="a:747" class="idref" href="#a:747"><span class="id" title="binder">a</span></a> <a id="v:748" class="idref" href="#v:748"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#b:745"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:747"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:746"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:744"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:745"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:746"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:747"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:748"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#not_isCorrectPC_bounds"><span class="id" title="axiom">not_isCorrectPC_bounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_ExecPCPerm_InBounds" class="idref" href="#isCorrectLPC_ExecPCPerm_InBounds"><span class="id" title="lemma">isCorrectLPC_ExecPCPerm_InBounds</span></a> <a id="p:749" class="idref" href="#p:749"><span class="id" title="binder">p</span></a> <a id="b:750" class="idref" href="#b:750"><span class="id" title="binder">b</span></a> <a id="e:751" class="idref" href="#e:751"><span class="id" title="binder">e</span></a> <a id="a:752" class="idref" href="#a:752"><span class="id" title="binder">a</span></a> <a id="v:753" class="idref" href="#v:753"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_base.html#ExecPCPerm"><span class="id" title="definition">ExecPCPerm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:749"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_base.html#InBounds"><span class="id" title="definition">InBounds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:750"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:751"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:752"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:749"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:750"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:751"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:752"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:753"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.machine_base.html#ExecPCPerm"><span class="id" title="definition">ExecPCPerm</span></a>, <a class="idref" href="machine_utils.finz_base.html#InBounds"><span class="id" title="definition">InBounds</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC_ExecPCPerm_InBounds"><span class="id" title="axiom">isCorrectPC_ExecPCPerm_InBounds</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_dec" class="idref" href="#isCorrectLPC_dec"><span class="id" title="lemma">isCorrectLPC_dec</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:754" class="idref" href="#lw:754"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:754"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:754"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_eq</span> (<span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> | <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="machine_utils.finz_base.html#finz_le_dec"><span class="id" title="instance">finz_le_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="machine_utils.finz_base.html#finz_lt_dec"><span class="id" title="instance">finz_lt_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_range_is_correctLPC" class="idref" href="#in_range_is_correctLPC"><span class="id" title="lemma">in_range_is_correctLPC</span></a> <a id="p:757" class="idref" href="#p:757"><span class="id" title="binder">p</span></a> <a id="b:758" class="idref" href="#b:758"><span class="id" title="binder">b</span></a> <a id="e:759" class="idref" href="#e:759"><span class="id" title="binder">e</span></a> <a id="a:760" class="idref" href="#a:760"><span class="id" title="binder">a</span></a> <a id="b':761" class="idref" href="#b':761"><span class="id" title="binder">b'</span></a> <a id="e':762" class="idref" href="#e':762"><span class="id" title="binder">e'</span></a> <a id="v:763" class="idref" href="#v:763"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:758"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:759"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:760"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:763"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#b':761"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:758"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#e:759"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':762"><span class="id" title="variable">e'</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#b':761"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:760"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#a:760"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':762"><span class="id" title="variable">e'</span></a>)%<span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvpc</span> [<span class="id" title="var">Hb</span> <span class="id" title="var">He</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvpc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="dec_lpc" class="idref" href="#dec_lpc"><span class="id" title="instance">dec_lpc</span></a> <a id="lc:764" class="idref" href="#lc:764"><span class="id" title="binder">lc</span></a> : <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lc:764"><span class="id" title="variable">lc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC_dec"><span class="id" title="axiom">isCorrectLPC_dec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_lookup" class="idref" href="#lreg_lookup"><span class="id" title="lemma">lreg_lookup</span></a> <a id="regs:765" class="idref" href="#regs:765"><span class="id" title="binder">regs</span></a> (<a id="r:766" class="idref" href="#r:766"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:767" class="idref" href="#lw:767"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#regs:765"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:766"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:767"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#regs:765"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:766"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:767"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="method">lookup_fmap</span> ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_neq" class="idref" href="#laddr_neq"><span class="id" title="lemma">laddr_neq</span></a> (<a id="la1:768" class="idref" href="#la1:768"><span class="id" title="binder">la1</span></a> <a id="la2:769" class="idref" href="#la2:769"><span class="id" title="binder">la2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#la2:769"><span class="id" title="variable">la2</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la1:768"><span class="id" title="variable">la1</span></a><span class="id" title="notation">.1</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#la2:769"><span class="id" title="variable">la2</span></a><span class="id" title="notation">.2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la1:768"><span class="id" title="variable">la1</span></a><span class="id" title="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#la1:768"><span class="id" title="variable">la1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la2:769"><span class="id" title="variable">la2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hneq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Hneq</span>]<br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_neq"><span class="id" title="lemma">Z.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_neq'" class="idref" href="#laddr_neq'"><span class="id" title="lemma">laddr_neq'</span></a> (<a id="a1:770" class="idref" href="#a1:770"><span class="id" title="binder">a1</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v1:771" class="idref" href="#v1:771"><span class="id" title="binder">v1</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a2:772" class="idref" href="#a2:772"><span class="id" title="binder">a2</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v2:773" class="idref" href="#v2:773"><span class="id" title="binder">v2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#a1:770"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a2:772"><span class="id" title="variable">a2</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v1:771"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v2:773"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a1:770"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v1:771"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a2:772"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v2:773"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hneq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Hneq</span>]<br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_neq"><span class="id" title="lemma">Z.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="updatePcPermL" class="idref" href="#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> (<a id="lw:774" class="idref" href="#lw:774"><span class="id" title="binder">lw</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>): <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:774"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lw:774"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="updatePcPermL_spec" class="idref" href="#updatePcPermL_spec"><span class="id" title="lemma">updatePcPermL_spec</span></a> (<a id="lw:776" class="idref" href="#lw:776"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:776"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_base.html#updatePcPerm"><span class="id" title="definition">updatePcPerm</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:776"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="updatePcPermL_cap_non_E" class="idref" href="#updatePcPermL_cap_non_E"><span class="id" title="lemma">updatePcPermL_cap_non_E</span></a> <a id="p:777" class="idref" href="#p:777"><span class="id" title="binder">p</span></a> <a id="b:778" class="idref" href="#b:778"><span class="id" title="binder">b</span></a> <a id="e:779" class="idref" href="#e:779"><span class="id" title="binder">e</span></a> <a id="a:780" class="idref" href="#a:780"><span class="id" title="binder">a</span></a> <a id="v:781" class="idref" href="#v:781"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#p:777"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:777"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:778"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:779"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:780"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:781"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:777"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:778"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:779"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:780"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:781"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HnE</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_updatePcPermL" class="idref" href="#is_cur_updatePcPermL"><span class="id" title="lemma">is_cur_updatePcPermL</span></a> (<a id="lw:782" class="idref" href="#lw:782"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <a id="vmap:783" class="idref" href="#vmap:783"><span class="id" title="binder">vmap</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:782"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:783"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:782"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:783"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="z_of_argumentL" class="idref" href="#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> (<a id="lregs:784" class="idref" href="#lregs:784"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="a:785" class="idref" href="#a:785"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:785"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:784"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_cap" class="idref" href="#lword_get_cap"><span class="id" title="definition">lword_get_cap</span></a> (<a id="lword:787" class="idref" href="#lword:787"><span class="id" title="binder">lword</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword:787"><span class="id" title="variable">lword</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_of_argumentL" class="idref" href="#word_of_argumentL"><span class="id" title="definition">word_of_argumentL</span></a> (<a id="lregs:789" class="idref" href="#lregs:789"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="a:790" class="idref" href="#a:790"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:790"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#lregs:789"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="addr_of_argumentL" class="idref" href="#addr_of_argumentL"><span class="id" title="definition">addr_of_argumentL</span></a> (<a id="lregs:792" class="idref" href="#lregs:792"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:793" class="idref" href="#src:793"><span class="id" title="binder">src</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<a id="n:794" class="idref" href="#n:794"><span class="id" title="binder">n</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.logical_mapsto.html#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:792"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:793"><span class="id" title="variable">src</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="abbreviation">z_to_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#n:794"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="otype_of_argumentL" class="idref" href="#otype_of_argumentL"><span class="id" title="definition">otype_of_argumentL</span></a> (<a id="lregs:795" class="idref" href="#lregs:795"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:796" class="idref" href="#src:796"><span class="id" title="binder">src</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:795"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:796"><span class="id" title="variable">src</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#z_to_otype"><span class="id" title="abbreviation">z_to_otype</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_mutable_rangeL" class="idref" href="#is_mutable_rangeL"><span class="id" title="definition">is_mutable_rangeL</span></a> (<a id="lw:797" class="idref" href="#lw:797"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:797"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> | <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nonZeroL" class="idref" href="#nonZeroL"><span class="id" title="definition">nonZeroL</span></a> (<a id="lw:800" class="idref" href="#lw:800"><span class="id" title="binder">lw</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:800"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Zbool.html#Zneq_bool"><span class="id" title="definition">Zneq_bool</span></a> <span class="id" title="var">n</span> 0<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealbL" class="idref" href="#is_sealbL"><span class="id" title="definition">is_sealbL</span></a> (<a id="lw:802" class="idref" href="#lw:802"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:802"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealrL" class="idref" href="#is_sealrL"><span class="id" title="definition">is_sealrL</span></a> (<a id="lw:804" class="idref" href="#lw:804"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:804"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealedL" class="idref" href="#is_sealedL"><span class="id" title="definition">is_sealedL</span></a> (<a id="lw:806" class="idref" href="#lw:806"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:806"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">a</span> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_zL" class="idref" href="#is_zL"><span class="id" title="definition">is_zL</span></a> (<a id="lw:808" class="idref" href="#lw:808"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:808"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="word_to_lword_get_word_int" class="idref" href="#word_to_lword_get_word_int"><span class="id" title="lemma">word_to_lword_get_word_int</span></a> (<a id="w:810" class="idref" href="#w:810"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:811" class="idref" href="#v:811"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_zL"><span class="id" title="definition">is_zL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:810"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:810"><span class="id" title="variable">w</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:811"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:810"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealed_with_oL" class="idref" href="#is_sealed_with_oL"><span class="id" title="definition">is_sealed_with_oL</span></a> (<a id="lw:812" class="idref" href="#lw:812"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="o:813" class="idref" href="#o:813"><span class="id" title="binder">o</span></a> : <a class="idref" href="cap_machine.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:812"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o'</span> <span class="id" title="var">sb</span> =&gt; (<a class="idref" href="cap_machine.logical_mapsto.html#o:813"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.addr_reg.html#fc98ca1de87871caf368dfbeb46e594a"><span class="id" title="notation">=?</span></a> <span class="id" title="var">o'</span>)%<span class="id" title="var">ot</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_ne_reg_ne" class="idref" href="#laddr_ne_reg_ne"><span class="id" title="lemma">laddr_ne_reg_ne</span></a> {<a id="lregs:815" class="idref" href="#lregs:815"><span class="id" title="binder">lregs</span></a> : <span class="id" title="abbreviation">leibnizO</span> <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>} {<a id="r1:816" class="idref" href="#r1:816"><span class="id" title="binder">r1</span></a> <a id="r2:817" class="idref" href="#r2:817"><span class="id" title="binder">r2</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>}<br/>
&nbsp;&nbsp;{<a id="p0:818" class="idref" href="#p0:818"><span class="id" title="binder">p0</span></a> <a id="b0:819" class="idref" href="#b0:819"><span class="id" title="binder">b0</span></a> <a id="e0:820" class="idref" href="#e0:820"><span class="id" title="binder">e0</span></a> <a id="a0:821" class="idref" href="#a0:821"><span class="id" title="binder">a0</span></a> <a id="v0:822" class="idref" href="#v0:822"><span class="id" title="binder">v0</span></a> <a id="p:823" class="idref" href="#p:823"><span class="id" title="binder">p</span></a> <a id="b:824" class="idref" href="#b:824"><span class="id" title="binder">b</span></a> <a id="e:825" class="idref" href="#e:825"><span class="id" title="binder">e</span></a> <a id="a:826" class="idref" href="#a:826"><span class="id" title="binder">a</span></a> <a id="v:827" class="idref" href="#v:827"><span class="id" title="binder">v</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:815"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r1:816"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p0:818"><span class="id" title="variable">p0</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b0:819"><span class="id" title="variable">b0</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e0:820"><span class="id" title="variable">e0</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a0:821"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v0:822"><span class="id" title="variable">v0</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lregs:815"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r2:817"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:823"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:824"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:825"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:826"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:827"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a0:821"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v0:822"><span class="id" title="variable">v0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:826"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:827"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#r1:816"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#r2:817"><span class="id" title="variable">r2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">Hr2</span> <span class="id" title="var">Hne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r2</span>)); <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_pc_no_overlap" class="idref" href="#unique_in_registersL_pc_no_overlap"><span class="id" title="lemma">unique_in_registersL_pc_no_overlap</span></a><br/>
&nbsp;&nbsp;(<a id="pc_p:828" class="idref" href="#pc_p:828"><span class="id" title="binder">pc_p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="pc_b:829" class="idref" href="#pc_b:829"><span class="id" title="binder">pc_b</span></a> <a id="pc_e:830" class="idref" href="#pc_e:830"><span class="id" title="binder">pc_e</span></a> <a id="pc_a:831" class="idref" href="#pc_a:831"><span class="id" title="binder">pc_a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="pc_v:832" class="idref" href="#pc_v:832"><span class="id" title="binder">pc_v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:833" class="idref" href="#p:833"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:834" class="idref" href="#b:834"><span class="id" title="binder">b</span></a> <a id="e:835" class="idref" href="#e:835"><span class="id" title="binder">e</span></a> <a id="a:836" class="idref" href="#a:836"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:837" class="idref" href="#v:837"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:838" class="idref" href="#src:838"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="regs:839" class="idref" href="#regs:839"><span class="id" title="binder">regs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:838"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_p:828"><span class="id" title="variable">pc_p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_b:829"><span class="id" title="variable">pc_b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_e:830"><span class="id" title="variable">pc_e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_a:831"><span class="id" title="variable">pc_a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_v:832"><span class="id" title="variable">pc_v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#regs:839"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_p:828"><span class="id" title="variable">pc_p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_b:829"><span class="id" title="variable">pc_b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_e:830"><span class="id" title="variable">pc_e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_a:831"><span class="id" title="variable">pc_a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#pc_v:832"><span class="id" title="variable">pc_v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#regs:839"><span class="id" title="variable">regs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#src:838"><span class="id" title="variable">src</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:833"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:834"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:835"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:836"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:837"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#pc_a:831"><span class="id" title="variable">pc_a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:834"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:835"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpc_neq_pc</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hpc</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pc_a</span> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">pc_b</span> <span class="id" title="var">pc_e</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> /=  <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#isCorrectPC_withinBounds"><span class="id" title="axiom">isCorrectPC_withinBounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_regs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>,<span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>,<span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">pc_b</span>)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hb</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_next" class="idref" href="#update_version_addr_next"><span class="id" title="lemma">update_version_addr_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:840" class="idref" href="#glmem:840"><span class="id" title="binder">glmem</span></a> <a id="llmem:841" class="idref" href="#llmem:841"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:842" class="idref" href="#a:842"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:843" class="idref" href="#v:843"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:844" class="idref" href="#lw:844"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#glmem:840"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:842"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:843"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:844"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#glmem:840"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:842"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:843"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:840"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:842"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:843"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:841"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:842"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:843"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:844"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlw_max</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="var">Hlw</span> ; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_update_version_region" class="idref" href="#is_valid_updated_lmemory_update_version_region"><span class="id" title="lemma">is_valid_updated_lmemory_update_version_region</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:845" class="idref" href="#glmem:845"><span class="id" title="binder">glmem</span></a> <a id="llmem:846" class="idref" href="#llmem:846"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:847" class="idref" href="#la:847"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:848" class="idref" href="#v:848"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#llmem:846"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:845"><span class="id" title="variable">glmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:847"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:849" class="idref" href="#a:849"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:845"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:849"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:848"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#la:847"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':850" class="idref" href="#a':850"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#glmem:845"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':850"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:848"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#la:847"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:845"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:846"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:847"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:848"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#glmem:845"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:847"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:848"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#llmem:846"><span class="id" title="variable">llmem</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span>] ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">HnoDup</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hsome</span> ; <span class="id" title="var">destruct_cons</span> ; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">Hla_max</span> &amp; <span class="id" title="var">Hla_upd</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ] ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlw</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_next"><span class="id" title="axiom">update_version_addr_next</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hla_upd</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">lw'</span> <span class="id" title="var">Hlw'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#update_version_addr_lookup_neq"><span class="id" title="axiom">update_version_addr_lookup_neq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reg_allows_hash" class="idref" href="#reg_allows_hash"><span class="id" title="definition">reg_allows_hash</span></a> (<a id="lregs:851" class="idref" href="#lregs:851"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="r:852" class="idref" href="#r:852"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) <a id="p:853" class="idref" href="#p:853"><span class="id" title="binder">p</span></a> <a id="b:854" class="idref" href="#b:854"><span class="id" title="binder">b</span></a> <a id="e:855" class="idref" href="#e:855"><span class="id" title="binder">e</span></a> <a id="a:856" class="idref" href="#a:856"><span class="id" title="binder">a</span></a> <a id="v:857" class="idref" href="#v:857"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lregs:851"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:852"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:853"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:854"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:855"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:856"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:857"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#readAllowed"><span class="id" title="definition">readAllowed</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:853"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_leb" class="idref" href="#laddr_leb"><span class="id" title="definition">laddr_leb</span></a> := <a class="idref" href="cap_machine.cap_lang.html#pair_fst_leb"><span class="id" title="definition">pair_fst_leb</span></a> (<span class="id" title="var">A</span>:= <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<span class="id" title="var">B</span>:= <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) <a class="idref" href="cap_machine.cap_lang.html#addr_leb"><span class="id" title="definition">addr_leb</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="lmem_leb" class="idref" href="#lmem_leb"><span class="id" title="definition">lmem_leb</span></a> := <a class="idref" href="cap_machine.cap_lang.html#pair_fst_leb"><span class="id" title="definition">pair_fst_leb</span></a> (<span class="id" title="var">A</span>:= <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<span class="id" title="var">B</span>:= <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#laddr_leb"><span class="id" title="definition">laddr_leb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lmemory_get_instrs" class="idref" href="#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> (<a id="lm:858" class="idref" href="#lm:858"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:859" class="idref" href="#la:859"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:860" class="idref" href="#v:860"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="a:861" class="idref" href="#a:861"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="opt_instrs_next:862" class="idref" href="#opt_instrs_next:862"><span class="id" title="binder">opt_instrs_next</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="instrs_next:863" class="idref" href="#instrs_next:863"><span class="id" title="binder">instrs_next</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.logical_mapsto.html#opt_instrs_next:862"><span class="id" title="variable">opt_instrs_next</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="w:864" class="idref" href="#w:864"><span class="id" title="binder">w</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.logical_mapsto.html#lm:858"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:861"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:860"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:864"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><a class="idref" href="cap_machine.logical_mapsto.html#instrs_next:863"><span class="id" title="variable">instrs_next</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#la:859"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hash_lmemory_range" class="idref" href="#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> `{<a id="H:865" class="idref" href="#H:865"><span class="id" title="binder">MachineParameters</span></a>} (<a id="lm:866" class="idref" href="#lm:866"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:867" class="idref" href="#b:867"><span class="id" title="binder">b</span></a> <a id="e:868" class="idref" href="#e:868"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:869" class="idref" href="#v:869"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a id="instructions:870" class="idref" href="#instructions:870"><span class="id" title="binder">instructions</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:866"><span class="id" title="variable">lm</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:867"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:868"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:869"><span class="id" title="variable">v</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_parameters.html#hash"><span class="id" title="method">hash</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#instructions:870"><span class="id" title="variable">instructions</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_measure_aux" class="idref" href="#lmeasure_measure_aux"><span class="id" title="lemma">lmeasure_measure_aux</span></a> `{<a id="MP:871" class="idref" href="#MP:871"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;(<a id="phm:872" class="idref" href="#phm:872"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:873" class="idref" href="#lm:873"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:874" class="idref" href="#vmap:874"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:875" class="idref" href="#la:875"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:876" class="idref" href="#v:876"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:873"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:874"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:872"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:873"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:874"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:877" class="idref" href="#a:877"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:877"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:875"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:874"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:877"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:876"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:873"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:875"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:876"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:872"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:875"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <span class="id" title="var">phm</span> <span class="id" title="var">la</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> /<a class="idref" href="cap_machine.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> !<span class="id" title="lemma">foldr_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>) -/(<a class="idref" href="cap_machine.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <span class="id" title="var">phm</span> <span class="id" title="var">la</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="var">set_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm_a</span> &amp; <span class="id" title="var">Hphm_a</span> &amp; <span class="id" title="var">Hcur_lw</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm_a</span> <span class="id" title="var">Hphm_a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_measure" class="idref" href="#lmeasure_measure"><span class="id" title="lemma">lmeasure_measure</span></a> `{<a id="MP:878" class="idref" href="#MP:878"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} (<a id="phr:879" class="idref" href="#phr:879"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:880" class="idref" href="#phm:880"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:881" class="idref" href="#lr:881"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:882" class="idref" href="#lm:882"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:883" class="idref" href="#vmap:883"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)  :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="p:884" class="idref" href="#p:884"><span class="id" title="binder">p</span></a> <a id="b:885" class="idref" href="#b:885"><span class="id" title="binder">b</span></a> <a id="e:886" class="idref" href="#e:886"><span class="id" title="binder">e</span></a> <a id="a:887" class="idref" href="#a:887"><span class="id" title="binder">a</span></a> <a id="v:888" class="idref" href="#v:888"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:884"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:885"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:886"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:887"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:888"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#vmap:883"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phr:879"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:880"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lr:881"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:882"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:883"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:882"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:885"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:886"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:888"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.cap_lang.html#hash_memory_range"><span class="id" title="definition">hash_memory_range</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#phm:880"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:885"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:886"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">Hcur_word</span> [ <span class="id" title="var">_</span> (<span class="id" title="var">Hcur</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a>, <a class="idref" href="cap_machine.cap_lang.html#hash_memory_range"><span class="id" title="definition">hash_memory_range</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_word</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmeasure_measure_aux"><span class="id" title="axiom">lmeasure_measure_aux</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Instantiation of the program logic 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclaves_agreeUR" class="idref" href="#enclaves_agreeUR"><span class="id" title="definition">enclaves_agreeUR</span></a> := <span class="id" title="definition">authR</span> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> (<span class="id" title="definition">agreeR</span> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>)).<br/>
<span class="id" title="keyword">Definition</span> <a id="c0302a7f27629cbbaafd58b2490e300d" class="idref" href="#c0302a7f27629cbbaafd58b2490e300d"><span class="id" title="definition">EnclavesAgreePreΣ</span></a> := <span class="id" title="notation">#[</span> <span class="id" title="constructor">GFunctor</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agreeUR"><span class="id" title="definition">enclaves_agreeUR</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Class</span> <a id="EnclavesAgreePreG" class="idref" href="#EnclavesAgreePreG"><span class="id" title="record">EnclavesAgreePreG</span></a> <a id="9bd354f5d938323972e70b5956565eb5" class="idref" href="#9bd354f5d938323972e70b5956565eb5"><span class="id" title="binder">Σ</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="EnclavesAgreePre" class="idref" href="#EnclavesAgreePre"><span class="id" title="projection">EnclavesAgreePre</span></a> ::  <span class="id" title="class">inG</span> <a class="idref" href="cap_machine.logical_mapsto.html#9bd354f5d938323972e70b5956565eb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agreeUR"><span class="id" title="definition">enclaves_agreeUR</span></a>;<br/>
}.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="34f991d6a64a289ea0a22846f8e4ad8d" class="idref" href="#34f991d6a64a289ea0a22846f8e4ad8d"><span class="id" title="instance">subG_EnclavesAgreePreΣ</span></a> {<a id="f08523154d08a48d86263e4ea12398d1" class="idref" href="#f08523154d08a48d86263e4ea12398d1"><span class="id" title="binder">Σ</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">subG</span> <a class="idref" href="cap_machine.logical_mapsto.html#c0302a7f27629cbbaafd58b2490e300d"><span class="id" title="definition">EnclavesAgreePreΣ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePreG"><span class="id" title="class">EnclavesAgreePreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclaves_exclUR" class="idref" href="#enclaves_exclUR"><span class="id" title="definition">enclaves_exclUR</span></a> := <span class="id" title="definition">authUR</span> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> (<span class="id" title="definition">exclR</span> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>)).<br/>
<span class="id" title="keyword">Definition</span> <a id="c817b91ba63f1f2964048a6ead67ec3b" class="idref" href="#c817b91ba63f1f2964048a6ead67ec3b"><span class="id" title="definition">EnclavesExclPreΣ</span></a> := <span class="id" title="notation">#[</span> <span class="id" title="constructor">GFunctor</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_exclUR"><span class="id" title="definition">enclaves_exclUR</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Class</span> <a id="EnclavesExclPreG" class="idref" href="#EnclavesExclPreG"><span class="id" title="record">EnclavesExclPreG</span></a> <a id="d45a9f110ee14e31924482787d467fce" class="idref" href="#d45a9f110ee14e31924482787d467fce"><span class="id" title="binder">Σ</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="EnclavesExclPre" class="idref" href="#EnclavesExclPre"><span class="id" title="projection">EnclavesExclPre</span></a> ::  <span class="id" title="class">inG</span> <a class="idref" href="cap_machine.logical_mapsto.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_exclUR"><span class="id" title="definition">enclaves_exclUR</span></a>;<br/>
}.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="aa01d8f84cd862aeca97cf42b6ca833d" class="idref" href="#aa01d8f84cd862aeca97cf42b6ca833d"><span class="id" title="instance">subG_EnclavesExclPreΣ</span></a> {<a id="fd7c171a326bed9015ab0c8f4587275f" class="idref" href="#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="binder">Σ</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">subG</span> <a class="idref" href="cap_machine.logical_mapsto.html#c817b91ba63f1f2964048a6ead67ec3b"><span class="id" title="definition">EnclavesExclPreΣ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesExclPreG"><span class="id" title="class">EnclavesExclPreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#fd7c171a326bed9015ab0c8f4587275f"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ECUR" class="idref" href="#ECUR"><span class="id" title="definition">ECUR</span></a> := <span class="id" title="definition">excl_authUR</span> <a class="idref" href="cap_machine.machine_base.html#ENum"><span class="id" title="definition">ENum</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="80aa3c97c2dee6d89b8e72aa42f3aa3b" class="idref" href="#80aa3c97c2dee6d89b8e72aa42f3aa3b"><span class="id" title="definition">ECPreΣ</span></a> := <span class="id" title="notation">#[</span> <span class="id" title="constructor">GFunctor</span> <a class="idref" href="cap_machine.logical_mapsto.html#ECUR"><span class="id" title="definition">ECUR</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Class</span> <a id="ECPreG" class="idref" href="#ECPreG"><span class="id" title="record">ECPreG</span></a> <a id="0ecee77066fee3c317ce91ce34b8a116" class="idref" href="#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="binder">Σ</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ECPre" class="idref" href="#ECPre"><span class="id" title="projection">ECPre</span></a> ::  <span class="id" title="class">inG</span> <a class="idref" href="cap_machine.logical_mapsto.html#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#ECUR"><span class="id" title="definition">ECUR</span></a>;<br/>
}.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="150ab08623d27fac2ea2b7cff507c380" class="idref" href="#150ab08623d27fac2ea2b7cff507c380"><span class="id" title="instance">subG_ECPreΣ</span></a> {<a id="e31c03ceb260bd4515001cb5e615635e" class="idref" href="#e31c03ceb260bd4515001cb5e615635e"><span class="id" title="binder">Σ</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="class">subG</span> <a class="idref" href="cap_machine.logical_mapsto.html#80aa3c97c2dee6d89b8e72aa42f3aa3b"><span class="id" title="definition">ECPreΣ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e31c03ceb260bd4515001cb5e615635e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#ECPreG"><span class="id" title="class">ECPreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e31c03ceb260bd4515001cb5e615635e"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;CMRΑ&nbsp;for&nbsp;Cerise&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="ceriseG" class="idref" href="#ceriseG"><span class="id" title="record">ceriseG</span></a> <a id="86f8d351fc285df642cae27d41cca251" class="idref" href="#86f8d351fc285df642cae27d41cca251"><span class="id" title="binder">Σ</span></a> := <span class="id" title="var">CeriseG</span> {<br/>
&nbsp;&nbsp;<a id="cerise_invG" class="idref" href="#cerise_invG"><span class="id" title="projection">cerise_invG</span></a> : <span class="id" title="abbreviation">invGS</span> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Heap&nbsp;for&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="mem_gen_memG" class="idref" href="#mem_gen_memG"><span class="id" title="projection">mem_gen_memG</span></a> :: <span class="id" title="class">gen_heapGS</span> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Heap&nbsp;for&nbsp;registers&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="reg_gen_regG" class="idref" href="#reg_gen_regG"><span class="id" title="projection">reg_gen_regG</span></a> :: <span class="id" title="class">gen_heapGS</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="enclaves_agree" class="idref" href="#enclaves_agree"><span class="id" title="projection">enclaves_agree</span></a> :: <a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePreG"><span class="id" title="class">EnclavesAgreePreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="enclaves_excl" class="idref" href="#enclaves_excl"><span class="id" title="projection">enclaves_excl</span></a> :: <a class="idref" href="cap_machine.logical_mapsto.html#EnclavesExclPreG"><span class="id" title="class">EnclavesExclPreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;ghost&nbsp;resource&nbsp;of&nbsp;deinitialised&nbsp;enclaves&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="enclaves_name_prev" class="idref" href="#enclaves_name_prev"><span class="id" title="projection">enclaves_name_prev</span></a> : <span class="id" title="definition">gname</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;ghost&nbsp;resource&nbsp;of&nbsp;all&nbsp;enclaves&nbsp;that&nbsp;have&nbsp;ever&nbsp;existed&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="enclaves_name_all" class="idref" href="#enclaves_name_all"><span class="id" title="projection">enclaves_name_all</span></a> : <span class="id" title="definition">gname</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ghost&nbsp;names&nbsp;for&nbsp;the&nbsp;resources&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="enclaves_name_cur" class="idref" href="#enclaves_name_cur"><span class="id" title="projection">enclaves_name_cur</span></a> : <span class="id" title="definition">gname</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Heap&nbsp;for&nbsp;EC&nbsp;register&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="EC_G" class="idref" href="#EC_G"><span class="id" title="projection">EC_G</span></a> :: <a class="idref" href="cap_machine.logical_mapsto.html#ECPreG"><span class="id" title="class">ECPreG</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#86f8d351fc285df642cae27d41cca251"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;<a id="EC_name" class="idref" href="#EC_name"><span class="id" title="projection">EC_name</span></a> : <span class="id" title="definition">gname</span>;<br/>
}.<br/>

<br/>
&nbsp;<span class="comment">(*&nbsp;Assertions&nbsp;over&nbsp;enclaves&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclaves_cur" class="idref" href="#enclaves_cur"><span class="id" title="definition">enclaves_cur</span></a> (<a id="tbl:913" class="idref" href="#tbl:913"><span class="id" title="binder">tbl</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:915" class="idref" href="#H:915"><span class="id" title="binder">ceriseG</span></a> <a id="938a139b426ee50c037de213518de867" class="idref" href="#938a139b426ee50c037de213518de867"><span class="id" title="binder"><span id="H:915" class="id">Σ</span></span></a>} :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesExclPre"><span class="id" title="method">EnclavesExclPre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#938a139b426ee50c037de213518de867"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_excl"><span class="id" title="method">enclaves_excl</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_cur"><span class="id" title="method">enclaves_name_cur</span></a> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="constructor">Excl</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#tbl:913"><span class="id" title="variable">tbl</span></a><span class="id" title="notation">)</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclaves_prev" class="idref" href="#enclaves_prev"><span class="id" title="definition">enclaves_prev</span></a> (<a id="tbl:916" class="idref" href="#tbl:916"><span class="id" title="binder">tbl</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:918" class="idref" href="#H:918"><span class="id" title="binder">ceriseG</span></a> <a id="0dff4e713b12689d3b413f533487d0bd" class="idref" href="#0dff4e713b12689d3b413f533487d0bd"><span class="id" title="binder"><span id="H:918" class="id">Σ</span></span></a>} :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePre"><span class="id" title="method">EnclavesAgreePre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#0dff4e713b12689d3b413f533487d0bd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agree"><span class="id" title="method">enclaves_agree</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_prev"><span class="id" title="method">enclaves_name_prev</span></a> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_agree</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#tbl:916"><span class="id" title="variable">tbl</span></a><span class="id" title="notation">)</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclaves_all" class="idref" href="#enclaves_all"><span class="id" title="definition">enclaves_all</span></a> (<a id="tbl:919" class="idref" href="#tbl:919"><span class="id" title="binder">tbl</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:921" class="idref" href="#H:921"><span class="id" title="binder">ceriseG</span></a> <a id="d8019345f448cce485fae720c9fb2a92" class="idref" href="#d8019345f448cce485fae720c9fb2a92"><span class="id" title="binder"><span id="H:921" class="id">Σ</span></span></a>} :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePre"><span class="id" title="method">EnclavesAgreePre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#d8019345f448cce485fae720c9fb2a92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agree"><span class="id" title="method">enclaves_agree</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_all"><span class="id" title="method">enclaves_name_all</span></a> (<span class="id" title="notation">●</span> <span class="id" title="notation">(</span><span class="id" title="definition">to_agree</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#tbl:919"><span class="id" title="variable">tbl</span></a><span class="id" title="notation">)</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="EC_auth" class="idref" href="#EC_auth"><span class="id" title="definition">EC_auth</span></a> `{<a id="H:923" class="idref" href="#H:923"><span class="id" title="binder">ceriseG</span></a> <a id="66e9718375a901325e070a2a120b375c" class="idref" href="#66e9718375a901325e070a2a120b375c"><span class="id" title="binder"><span id="H:923" class="id">Σ</span></span></a>} (<a id="n:924" class="idref" href="#n:924"><span class="id" title="binder">n</span></a> : <a class="idref" href="cap_machine.machine_base.html#ENum"><span class="id" title="definition">ENum</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := @<a class="idref" href="cap_machine.logical_mapsto.html#ECPre"><span class="id" title="method">ECPre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#66e9718375a901325e070a2a120b375c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#EC_G"><span class="id" title="method">EC_G</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#EC_name"><span class="id" title="method">EC_name</span></a> (<span class="id" title="notation">●</span><span class="id" title="notation">E</span> <a class="idref" href="cap_machine.logical_mapsto.html#n:924"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Fragmental&nbsp;resources&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclave_cur" class="idref" href="#enclave_cur"><span class="id" title="definition">enclave_cur</span></a> (<a id="eid:925" class="idref" href="#eid:925"><span class="id" title="binder">eid</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) (<a id="identity:926" class="idref" href="#identity:926"><span class="id" title="binder">identity</span></a> : <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:928" class="idref" href="#H:928"><span class="id" title="binder">ceriseG</span></a> <a id="d44568d4737a35ed5d5952865a22a23e" class="idref" href="#d44568d4737a35ed5d5952865a22a23e"><span class="id" title="binder"><span id="H:928" class="id">Σ</span></span></a>} :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesExclPre"><span class="id" title="method">EnclavesExclPre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#d44568d4737a35ed5d5952865a22a23e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_excl"><span class="id" title="method">enclaves_excl</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_cur"><span class="id" title="method">enclaves_name_cur</span></a> (<span class="id" title="definition">auth_frag</span> <span class="id" title="notation">{[</span><a class="idref" href="cap_machine.logical_mapsto.html#eid:925"><span class="id" title="variable">eid</span></a> <span class="id" title="notation">:=</span> <span class="id" title="constructor">Excl</span> <a class="idref" href="cap_machine.logical_mapsto.html#identity:926"><span class="id" title="variable">identity</span></a><span class="id" title="notation">]}</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclave_prev" class="idref" href="#enclave_prev"><span class="id" title="definition">enclave_prev</span></a> (<a id="eid:929" class="idref" href="#eid:929"><span class="id" title="binder">eid</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) `{<a id="H:931" class="idref" href="#H:931"><span class="id" title="binder">ceriseG</span></a> <a id="024ae0b42718a7e315e037c5005f42fa" class="idref" href="#024ae0b42718a7e315e037c5005f42fa"><span class="id" title="binder"><span id="H:931" class="id">Σ</span></span></a>} : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.logical_mapsto.html#024ae0b42718a7e315e037c5005f42fa"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="id:932" class="idref" href="#id:932"><span class="id" title="binder">id</span></a> <span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePre"><span class="id" title="method">EnclavesAgreePre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#024ae0b42718a7e315e037c5005f42fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agree"><span class="id" title="method">enclaves_agree</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_prev"><span class="id" title="method">enclaves_name_prev</span></a> (<span class="id" title="definition">auth_frag</span> <span class="id" title="notation">{[</span><a class="idref" href="cap_machine.logical_mapsto.html#eid:929"><span class="id" title="variable">eid</span></a> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <a class="idref" href="cap_machine.logical_mapsto.html#id:932"><span class="id" title="variable">id</span></a><span class="id" title="notation">]}</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enclave_all" class="idref" href="#enclave_all"><span class="id" title="definition">enclave_all</span></a> (<a id="eid:933" class="idref" href="#eid:933"><span class="id" title="binder">eid</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) (<a id="id:934" class="idref" href="#id:934"><span class="id" title="binder">id</span></a> : <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:936" class="idref" href="#H:936"><span class="id" title="binder">ceriseG</span></a> <a id="e3984359fa387d2b033bde5520daad8a" class="idref" href="#e3984359fa387d2b033bde5520daad8a"><span class="id" title="binder"><span id="H:936" class="id">Σ</span></span></a>} : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.logical_mapsto.html#e3984359fa387d2b033bde5520daad8a"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := (@<a class="idref" href="cap_machine.logical_mapsto.html#EnclavesAgreePre"><span class="id" title="method">EnclavesAgreePre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e3984359fa387d2b033bde5520daad8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_agree"><span class="id" title="method">enclaves_agree</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_name_all"><span class="id" title="method">enclaves_name_all</span></a> (<span class="id" title="definition">auth_frag</span> <span class="id" title="notation">{[</span><a class="idref" href="cap_machine.logical_mapsto.html#eid:933"><span class="id" title="variable">eid</span></a> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <a class="idref" href="cap_machine.logical_mapsto.html#id:934"><span class="id" title="variable">id</span></a><span class="id" title="notation">]}</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enclave_all_agree" class="idref" href="#enclave_all_agree"><span class="id" title="lemma">enclave_all_agree</span></a> (<a id="tidx:937" class="idref" href="#tidx:937"><span class="id" title="binder">tidx</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) (<a id="id1:938" class="idref" href="#id1:938"><span class="id" title="binder">id1</span></a> <a id="id2:939" class="idref" href="#id2:939"><span class="id" title="binder">id2</span></a> : <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) `{<a id="H:941" class="idref" href="#H:941"><span class="id" title="binder">ceriseG</span></a> <a id="aefc738384f693de71ee2b87343b4f54" class="idref" href="#aefc738384f693de71ee2b87343b4f54"><span class="id" title="binder"><span id="H:941" class="id">Σ</span></span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclave_all"><span class="id" title="definition">enclave_all</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:937"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#id1:938"><span class="id" title="variable">id1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclave_all"><span class="id" title="definition">enclave_all</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:937"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#id2:939"><span class="id" title="variable">id2</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">⌜</span> <a class="idref" href="cap_machine.logical_mapsto.html#id1:938"><span class="id" title="variable">id1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#id2:939"><span class="id" title="variable">id2</span></a> <span class="id" title="notation">⌝</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[E1 E2]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "E1 E2" <span class="id" title="keyword">as</span> "E".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">own_valid</span> <span class="id" title="lemma">auth_frag_validI</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "E" <span class="id" title="keyword">as</span> "%E".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">singleton_valid</span> <span class="id" title="var">tidx</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">to_agree_op_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="enclave_prev_timeless" class="idref" href="#enclave_prev_timeless"><span class="id" title="instance">enclave_prev_timeless</span></a> `{<a id="H:943" class="idref" href="#H:943"><span class="id" title="binder">ceriseG</span></a> <a id="5fb9b3fc6d85ea822e0ce1d87b7bfb7f" class="idref" href="#5fb9b3fc6d85ea822e0ce1d87b7bfb7f"><span class="id" title="binder"><span id="H:943" class="id">Σ</span></span></a>} (<a id="tidx:944" class="idref" href="#tidx:944"><span class="id" title="binder">tidx</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>)  : <span class="id" title="class">Timeless</span> (<a class="idref" href="cap_machine.logical_mapsto.html#enclave_prev"><span class="id" title="definition">enclave_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:944"><span class="id" title="variable">tidx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="enclave_cur_timeless" class="idref" href="#enclave_cur_timeless"><span class="id" title="instance">enclave_cur_timeless</span></a> `{<a id="H:946" class="idref" href="#H:946"><span class="id" title="binder">ceriseG</span></a> <a id="19c5ce644c2d5d2091dc9d190975fb12" class="idref" href="#19c5ce644c2d5d2091dc9d190975fb12"><span class="id" title="binder"><span id="H:946" class="id">Σ</span></span></a>} (<a id="tidx:947" class="idref" href="#tidx:947"><span class="id" title="binder">tidx</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) (<a id="eid:948" class="idref" href="#eid:948"><span class="id" title="binder">eid</span></a> : <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) : <span class="id" title="class">Timeless</span> (<a class="idref" href="cap_machine.logical_mapsto.html#enclave_cur"><span class="id" title="definition">enclave_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:947"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#eid:948"><span class="id" title="variable">eid</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="enclave_all_timeless" class="idref" href="#enclave_all_timeless"><span class="id" title="instance">enclave_all_timeless</span></a> `{<a id="H:950" class="idref" href="#H:950"><span class="id" title="binder">ceriseG</span></a> <a id="95a0b62957a024fcd9ee8feafc3f5a21" class="idref" href="#95a0b62957a024fcd9ee8feafc3f5a21"><span class="id" title="binder"><span id="H:950" class="id">Σ</span></span></a>} (<a id="tidx:951" class="idref" href="#tidx:951"><span class="id" title="binder">tidx</span></a> : <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a>) (<a id="eid:952" class="idref" href="#eid:952"><span class="id" title="binder">eid</span></a> : <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) : <span class="id" title="class">Timeless</span> (<a class="idref" href="cap_machine.logical_mapsto.html#enclave_all"><span class="id" title="definition">enclave_all</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:951"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#eid:952"><span class="id" title="variable">eid</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="EC_frag" class="idref" href="#EC_frag"><span class="id" title="definition">EC_frag</span></a> `{<a id="H:954" class="idref" href="#H:954"><span class="id" title="binder">ceriseG</span></a> <a id="538264d447f849627a0bb615e87768d2" class="idref" href="#538264d447f849627a0bb615e87768d2"><span class="id" title="binder"><span id="H:954" class="id">Σ</span></span></a>} (<a id="n:955" class="idref" href="#n:955"><span class="id" title="binder">n</span></a> : <a class="idref" href="cap_machine.machine_base.html#ENum"><span class="id" title="definition">ENum</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.logical_mapsto.html#538264d447f849627a0bb615e87768d2"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">own</span> (<span class="id" title="var">inG0</span> := @<a class="idref" href="cap_machine.logical_mapsto.html#ECPre"><span class="id" title="method">ECPre</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#538264d447f849627a0bb615e87768d2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#EC_G"><span class="id" title="method">EC_G</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#EC_name"><span class="id" title="method">EC_name</span></a> (<span class="id" title="definition">excl_auth_frag</span> <a class="idref" href="cap_machine.logical_mapsto.html#n:955"><span class="id" title="variable">n</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EC_timeless" class="idref" href="#EC_timeless"><span class="id" title="instance">EC_timeless</span></a> `{<a id="H:957" class="idref" href="#H:957"><span class="id" title="binder">ceriseG</span></a> <a id="860cc40e809f679dd1a703a8514599fa" class="idref" href="#860cc40e809f679dd1a703a8514599fa"><span class="id" title="binder"><span id="H:957" class="id">Σ</span></span></a>} (<a id="n:958" class="idref" href="#n:958"><span class="id" title="binder">n</span></a> : <a class="idref" href="cap_machine.machine_base.html#ENum"><span class="id" title="definition">ENum</span></a>) : <span class="id" title="class">Timeless</span> (<a class="idref" href="cap_machine.logical_mapsto.html#EC_frag"><span class="id" title="definition">EC_frag</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#n:958"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.logical_mapsto.html#Logical_mapsto"><span class="id" title="section">Logical_mapsto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lword_get_word_to_lword" class="idref" href="#lword_get_word_to_lword"><span class="id" title="lemma">lword_get_word_to_lword</span></a> (<a id="w:959" class="idref" href="#w:959"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:960" class="idref" href="#v:960"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:959"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:960"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:959"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enclave_cur_compat" class="idref" href="#enclave_cur_compat"><span class="id" title="lemma">enclave_cur_compat</span></a> `{<a id="H:962" class="idref" href="#H:962"><span class="id" title="binder">ceriseG</span></a> <a id="7130e7de23dfd03b40a61abb1e50c308" class="idref" href="#7130e7de23dfd03b40a61abb1e50c308"><span class="id" title="binder"><span id="H:962" class="id">Σ</span></span></a>} {<a id="tidx:963" class="idref" href="#tidx:963"><span class="id" title="binder">tidx</span></a> <a id="eid:964" class="idref" href="#eid:964"><span class="id" title="binder">eid</span></a> <a id="cur_tb:965" class="idref" href="#cur_tb:965"><span class="id" title="binder">cur_tb</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclave_cur"><span class="id" title="definition">enclave_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:963"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#eid:964"><span class="id" title="variable">eid</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_cur"><span class="id" title="definition">enclaves_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:965"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">⌜</span> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:965"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:963"><span class="id" title="variable">tidx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#eid:964"><span class="id" title="variable">eid</span></a> <span class="id" title="notation">⌝</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hcur Hcur_tb".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_valid_2</span> <span class="id" title="notation">with</span> "Hcur_tb Hcur"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "%Hvalid".<br/>
&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_both_valid_discrete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hincl</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">singleton_included_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hincl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">I'</span> &amp; <span class="id" title="var">HeqI'</span> &amp; <span class="id" title="var">HII'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqI'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">I'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">last</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">cur_tb</span> <span class="id" title="notation">!!</span> <span class="id" title="var">tidx</span>); <span class="id" title="tactic">apply</span> <span class="id" title="definition">leibniz_equiv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqI'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqI'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Excl_included</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HII'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">leibniz_equiv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HII'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">leibniz_equiv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqI'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">cur_tb</span> <span class="id" title="notation">!!</span> <span class="id" title="var">tidx</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqI'</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enclave_prev_compat" class="idref" href="#enclave_prev_compat"><span class="id" title="lemma">enclave_prev_compat</span></a> `{<a id="H:967" class="idref" href="#H:967"><span class="id" title="binder">ceriseG</span></a> <a id="a4a66a88a77f086ff36425576d285b08" class="idref" href="#a4a66a88a77f086ff36425576d285b08"><span class="id" title="binder"><span id="H:967" class="id">Σ</span></span></a>} {<a id="tidx:968" class="idref" href="#tidx:968"><span class="id" title="binder">tidx</span></a> <a id="prev_tb:969" class="idref" href="#prev_tb:969"><span class="id" title="binder">prev_tb</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclave_prev"><span class="id" title="definition">enclave_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:968"><span class="id" title="variable">tidx</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_prev"><span class="id" title="definition">enclaves_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:969"><span class="id" title="variable">prev_tb</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">⌜</span> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:968"><span class="id" title="variable">tidx</span></a> <span class="id" title="notation">∈</span> <span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:969"><span class="id" title="variable">prev_tb</span></a> <span class="id" title="notation">⌝</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(%eid &amp; Hprev) Hprev_tb".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_valid_2</span> <span class="id" title="notation">with</span> "Hprev_tb Hprev"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "%Hvalid".<br/>
&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">auth_both_valid_discrete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hincl</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">singleton_included_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hincl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">I'</span> &amp; <span class="id" title="var">HeqI'</span> &amp; <span class="id" title="var">HII'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqI'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">prev_tb</span> <span class="id" title="notation">!!</span> <span class="id" title="var">tidx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hptbtidx</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqI'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">elem_of_dom_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hptbtidx</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enclave_update_deinit" class="idref" href="#enclave_update_deinit"><span class="id" title="lemma">enclave_update_deinit</span></a> `{<a id="H:971" class="idref" href="#H:971"><span class="id" title="binder">ceriseG</span></a> <a id="c65ab55c9ceb6bb515c8829dba9bbbe4" class="idref" href="#c65ab55c9ceb6bb515c8829dba9bbbe4"><span class="id" title="binder"><span id="H:971" class="id">Σ</span></span></a>} {<a id="cur_tb:972" class="idref" href="#cur_tb:972"><span class="id" title="binder">cur_tb</span></a> <a id="prev_tb:973" class="idref" href="#prev_tb:973"><span class="id" title="binder">prev_tb</span></a> <a id="tidx:974" class="idref" href="#tidx:974"><span class="id" title="binder">tidx</span></a> <a id="I:975" class="idref" href="#I:975"><span class="id" title="binder">I</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:972"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:973"><span class="id" title="variable">prev_tb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclaves_cur"><span class="id" title="definition">enclaves_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:972"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_prev"><span class="id" title="definition">enclaves_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:973"><span class="id" title="variable">prev_tb</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclave_cur"><span class="id" title="definition">enclave_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:974"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#I:975"><span class="id" title="variable">I</span></a> <span class="id" title="notation">==∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclave_prev"><span class="id" title="definition">enclave_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:974"><span class="id" title="variable">tidx</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_cur"><span class="id" title="definition">enclaves_cur</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:974"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:972"><span class="id" title="variable">cur_tb</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.logical_mapsto.html#enclaves_prev"><span class="id" title="definition">enclaves_prev</span></a> (<span class="id" title="definition">insert</span> <a class="idref" href="cap_machine.logical_mapsto.html#tidx:974"><span class="id" title="variable">tidx</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#I:975"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:973"><span class="id" title="variable">prev_tb</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hdisj</span>) "Hcur_tb Hprev_tb Hcur".<br/>
&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#enclave_cur_compat"><span class="id" title="axiom">enclave_cur_compat</span></a> <span class="id" title="notation">with</span> "Hcur Hcur_tb"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "%Hcurtbtidx".<br/>
&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "Hcur_tb Hcur" <span class="id" title="keyword">as</span> "Hcurm".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "Hcurm"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "Hcurm".<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">auth_update_dealloc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="constructor">excl.Excl</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><span class="id" title="definition">delete</span> <span class="id" title="var">tidx</span> <span class="id" title="var">cur_tb</span><span class="id" title="notation">)</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_delete</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (@<span class="id" title="lemma">delete_singleton_local_update</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="inductive">excl</span> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a>) (<span class="id" title="constructor">Excl</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">cur_tb</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <span class="id" title="notation">(</span><span class="id" title="lemma">own_update</span> <span class="id" title="notation">with</span> "Hprev_tb"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "(Hprev_tb &amp; Hprev)".<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">auth_update_alloc</span> <span class="id" title="var">_</span> (<span class="id" title="definition">to_agree</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><span class="id" title="definition">insert</span> <span class="id" title="var">tidx</span> <span class="id" title="var">I</span> <span class="id" title="var">prev_tb</span><span class="id" title="notation">)</span>) <span class="id" title="notation">{[</span> <span class="id" title="var">tidx</span> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <span class="id" title="var">I</span><span class="id" title="notation">]}</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span> -<span class="id" title="lemma">insert_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">alloc_singleton_local_update</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">lookup_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">prev_tb</span> <span class="id" title="notation">!!</span> <span class="id" title="var">tidx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hprev_tbNone</span> <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprev_tbNone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_disjoint_Some_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hdisj</span> <span class="id" title="var">Hcurtbtidx</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hprev".<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">iExists</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">iFrame</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_interp_logical" class="idref" href="#state_interp_logical"><span class="id" title="definition">state_interp_logical</span></a> (<a id="6b448efb8421d37cc5cc50b4cd5c82db" class="idref" href="#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="binder">σ</span></a> : <a class="idref" href="cap_machine.cap_lang.html#state"><span class="id" title="definition">cap_lang.state</span></a>) `{<a id="H:977" class="idref" href="#H:977"><span class="id" title="binder">ReservedAddresses</span></a>} `{<a id="ceriseG0:979" class="idref" href="#ceriseG0:979"><span class="id" title="binder">!</span></a><a id="ceriseG0:979" class="idref" href="#ceriseG0:979"><span class="id" title="binder">ceriseG</span></a> <a id="741b0b6e7ee32b5f0f926ae2afc58581" class="idref" href="#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="binder"><span id="ceriseG0:979" class="id">Σ</span></span></a>} : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.logical_mapsto.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="lr:980" class="idref" href="#lr:980"><span class="id" title="binder">lr</span></a> <a id="lm:981" class="idref" href="#lm:981"><span class="id" title="binder">lm</span></a> <a id="vmap:982" class="idref" href="#vmap:982"><span class="id" title="binder">vmap</span></a> (<a id="cur_tb:983" class="idref" href="#cur_tb:983"><span class="id" title="binder">cur_tb</span></a> <a id="prev_tb:984" class="idref" href="#prev_tb:984"><span class="id" title="binder">prev_tb</span></a> <a id="all_tb:985" class="idref" href="#all_tb:985"><span class="id" title="binder">all_tb</span></a> : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.machine_base.html#TIndex"><span class="id" title="definition">TIndex</span></a> <a class="idref" href="cap_machine.machine_base.html#EIdentity"><span class="id" title="definition">EIdentity</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.logical_mapsto.html#lr:980"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">gen_heap_interp</span> <a class="idref" href="cap_machine.logical_mapsto.html#lm:981"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="variable">σ</span></a>.(<a class="idref" href="cap_machine.cap_lang.html#etable"><span class="id" title="projection">etable</span></a>)<span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclaves_cur"><span class="id" title="definition">enclaves_cur</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclaves_prev"><span class="id" title="definition">enclaves_prev</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:984"><span class="id" title="variable">prev_tb</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#enclaves_all"><span class="id" title="definition">enclaves_all</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#all_tb:985"><span class="id" title="variable">all_tb</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#EC_auth"><span class="id" title="definition">EC_auth</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="variable">σ</span></a>.(<a class="idref" href="cap_machine.cap_lang.html#enumcur"><span class="id" title="projection">enumcur</span></a>) <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">##</span> <span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:984"><span class="id" title="variable">prev_tb</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><span class="id" title="definition">dom</span> (<a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:984"><span class="id" title="variable">prev_tb</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="cap_machine.logical_mapsto.html#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="variable">σ</span></a>.(<a class="idref" href="cap_machine.cap_lang.html#enumcur"><span class="id" title="projection">enumcur</span></a>))<span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <span class="comment">(**)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:984"><span class="id" title="variable">prev_tb</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.logical_mapsto.html#cur_tb:983"><span class="id" title="variable">cur_tb</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.logical_mapsto.html#prev_tb:984"><span class="id" title="variable">prev_tb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#all_tb:985"><span class="id" title="variable">all_tb</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="variable">σ</span></a>.(<a class="idref" href="cap_machine.cap_lang.html#reg"><span class="id" title="projection">reg</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#6b448efb8421d37cc5cc50b4cd5c82db"><span class="id" title="variable">σ</span></a>.(<a class="idref" href="cap_machine.cap_lang.html#mem"><span class="id" title="projection">mem</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lr:980"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lm:981"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#vmap:982"><span class="id" title="variable">vmap</span></a><span class="id" title="notation">⌝</span>.<br/>

<br/>
<span class="comment">(*&nbsp;invariants&nbsp;for&nbsp;memory,&nbsp;and&nbsp;a&nbsp;state&nbsp;interpretation&nbsp;for&nbsp;(mem,reg)&nbsp;*)</span><br/>
<span class="id" title="keyword">Global Instance</span> <a id="memG_irisG" class="idref" href="#memG_irisG"><span class="id" title="instance">memG_irisG</span></a> `{<a id="H:986" class="idref" href="#H:986"><span class="id" title="binder">MachineParameters</span></a>} `{<a id="H0:987" class="idref" href="#H0:987"><span class="id" title="binder">ReservedAddresses</span></a>} `{<a id="ceriseg:989" class="idref" href="#ceriseg:989"><span class="id" title="binder">ceriseg</span></a>: !<a class="idref" href="cap_machine.logical_mapsto.html#ceriseG"><span class="id" title="class">ceriseG</span></a> <a id="02d69d29dafcd5f31c67b99e179a7152" class="idref" href="#02d69d29dafcd5f31c67b99e179a7152"><span class="id" title="binder">Σ</span></a>} : <span class="id" title="abbreviation">irisGS</span> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#02d69d29dafcd5f31c67b99e179a7152"><span class="id" title="variable">Σ</span></a> := {<br/>
&nbsp;&nbsp;<span class="id" title="method">iris_invGS</span> := <a class="idref" href="cap_machine.logical_mapsto.html#cerise_invG"><span class="id" title="method">cerise_invG</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="method">state_interp</span> <a id="8cc5f07f607f76f6bb9ded69759a4390" class="idref" href="#8cc5f07f607f76f6bb9ded69759a4390"><span class="id" title="binder">σ</span></a> <span class="id" title="var">_</span> <a id="1f8f47cfe30896a8bfc313a489465019" class="idref" href="#1f8f47cfe30896a8bfc313a489465019"><span class="id" title="binder">κs</span></a> <span class="id" title="var">_</span> := <a class="idref" href="cap_machine.logical_mapsto.html#state_interp_logical"><span class="id" title="definition">state_interp_logical</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#8cc5f07f607f76f6bb9ded69759a4390"><span class="id" title="variable">σ</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="method">fork_post</span> <span class="id" title="var">_</span> := <span class="id" title="notation">True</span>%<span class="id" title="var">I</span>;<br/>
&nbsp;&nbsp;<span class="id" title="method">num_laters_per_step</span> <span class="id" title="var">_</span> := 0;<br/>
&nbsp;&nbsp;<span class="id" title="method">state_interp_mono</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> := <span class="id" title="lemma">fupd_intro</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
<span class="comment">(*&nbsp;Ltac&nbsp;destruct_cons_upd&nbsp;:=&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;Hupd&nbsp;:&nbsp;update_cur_version_region&nbsp;?lmem&nbsp;?lm&nbsp;?vmap&nbsp;(?a&nbsp;::&nbsp;?la)&nbsp;=&nbsp;(?lmem',&nbsp;?lm',&nbsp;?vmap')&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lmem0&nbsp;:=&nbsp;fresh&nbsp;lmem&nbsp;"0"&nbsp;in&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lm0&nbsp;:=&nbsp;fresh&nbsp;lm&nbsp;"0"&nbsp;in&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vmap0&nbsp;:=&nbsp;fresh&nbsp;vmap&nbsp;"0"&nbsp;in&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;Hupd0&nbsp;:=&nbsp;fresh&nbsp;Hupd&nbsp;"0"&nbsp;in&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;update_cur_version_region_cons&nbsp;in&nbsp;Hupd&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;destruct&nbsp;Hupd&nbsp;as&nbsp;(lmem0&nbsp;&amp;&nbsp;lm0&nbsp;&amp;&nbsp;vmap0&nbsp;&amp;&nbsp;Hupd&nbsp;&amp;&nbsp;Hupd0)&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Ltac&nbsp;destruct_cons_hook2&nbsp;:=&nbsp;destruct_cons_upd&nbsp;||&nbsp;destruct_cons_hook1.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Ltac&nbsp;destruct_cons_hook&nbsp;::=&nbsp;destruct_cons_hook2.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Notations&nbsp;for&nbsp;fragmental&nbsp;resources&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="d699e1eac025f99265fa61d377dbfa74" class="idref" href="#d699e1eac025f99265fa61d377dbfa74"><span class="id" title="notation">&quot;</span></a>EC⤇ n" := (<a class="idref" href="cap_machine.logical_mapsto.html#EC_frag"><span class="id" title="definition">EC_frag</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "EC⤇ n") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Points&nbsp;to&nbsp;predicates&nbsp;for&nbsp;logical&nbsp;registers&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="b4e695cd58dba538326a0ae97922fc83" class="idref" href="#b4e695cd58dba538326a0ae97922fc83"><span class="id" title="notation">&quot;</span></a>r ↦ᵣ{ q } lw" := (<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <span class="id" title="var">r</span> <span class="id" title="var">q</span> <span class="id" title="var">lw</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "r  ↦ᵣ{ q } lw") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="db884c99aed36a9ddaddcd7edc424755" class="idref" href="#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">&quot;</span></a>r ↦ᵣ lw" := (<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <span class="id" title="var">r</span> (<span class="id" title="constructor">DfracOwn</span> 1) <span class="id" title="var">lw</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Points-to&nbsp;predicates&nbsp;for&nbsp;logical&nbsp;memory&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="1f356528680e66e063184d2852c70086" class="idref" href="#1f356528680e66e063184d2852c70086"><span class="id" title="notation">&quot;</span></a>la ↦ₐ{ q } lw" := (<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <span class="id" title="var">la</span> <span class="id" title="var">q</span> <span class="id" title="var">lw</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "la  ↦ₐ{ q }  lw") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="e389c97555835874498bb08a394266c6" class="idref" href="#e389c97555835874498bb08a394266c6"><span class="id" title="notation">&quot;</span></a>la ↦ₐ lw" := (<span class="id" title="definition">mapsto</span> (<span class="id" title="var">L</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<span class="id" title="var">V</span>:=<a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <span class="id" title="var">la</span> (<span class="id" title="constructor">DfracOwn</span> 1) <span class="id" title="var">lw</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">LAddr_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">LAddr_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">la</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="eqb_laddr" class="idref" href="#eqb_laddr"><span class="id" title="abbreviation">eqb_laddr</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a1:992" class="idref" href="#a1:992"><span class="id" title="binder">a1</span></a> <a id="a2:993" class="idref" href="#a2:993"><span class="id" title="binder">a2</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#a1:992"><span class="id" title="variable">a1</span></a><span class="id" title="notation">.1</span> <a class="idref" href="cap_machine.addr_reg.html#78f5fa8e2bcce93d56bc8dcc902b0827"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a2:993"><span class="id" title="variable">a2</span></a><span class="id" title="notation">.1</span>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a1:992"><span class="id" title="variable">a1</span></a><span class="id" title="notation">.2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a2:993"><span class="id" title="variable">a2</span></a><span class="id" title="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="2075081701d58abc4fd86ad4dce27d74" class="idref" href="#2075081701d58abc4fd86ad4dce27d74"><span class="id" title="notation">&quot;</span></a>a1 =? a2" := (<a class="idref" href="cap_machine.logical_mapsto.html#eqb_laddr"><span class="id" title="abbreviation">eqb_laddr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>) : <span class="id" title="var">LAddr_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="machine_param" class="idref" href="#machine_param"><span class="id" title="section">machine_param</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:994" class="idref" href="#H:994"><span class="id" title="binder">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="decodeInstrWL" class="idref" href="#decodeInstrWL"><span class="id" title="definition">decodeInstrWL</span></a> (<a id="lw:995" class="idref" href="#lw:995"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_parameters.html#decodeInstrW"><span class="id" title="definition">decodeInstrW</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:995"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeInstrWL" class="idref" href="#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a> (<a id="i:996" class="idref" href="#i:996"><span class="id" title="binder">i</span></a> : <a class="idref" href="cap_machine.machine_base.html#instr"><span class="id" title="inductive">instr</span></a>) : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> := <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> (<a class="idref" href="cap_machine.machine_parameters.html#encodeInstr"><span class="id" title="method">encodeInstr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#i:996"><span class="id" title="variable">i</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decode_encode_instrLW_inv" class="idref" href="#decode_encode_instrLW_inv"><span class="id" title="lemma">decode_encode_instrLW_inv</span></a> (<a id="i:997" class="idref" href="#i:997"><span class="id" title="binder">i</span></a>: <a class="idref" href="cap_machine.machine_base.html#instr"><span class="id" title="inductive">instr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#decodeInstrWL"><span class="id" title="definition">decodeInstrWL</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#i:997"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#i:997"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.machine_parameters.html#decode_encode_instr_inv"><span class="id" title="method">decode_encode_instr_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeInstrsLW" class="idref" href="#encodeInstrsLW"><span class="id" title="definition">encodeInstrsLW</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#instr"><span class="id" title="inductive">instr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeLWordType" class="idref" href="#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a id="lw:998" class="idref" href="#lw:998"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.machine_parameters.html#encodeWordType"><span class="id" title="method">encodeWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw:998"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;decodeLWordType&nbsp;(z&nbsp;:&nbsp;Z)&nbsp;:&nbsp;LWord&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;(decodeWordType&nbsp;i).&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct" class="idref" href="#encodeLWordType_correct"><span class="id" title="lemma">encodeLWordType_correct</span></a> (<a id="w:999" class="idref" href="#w:999"><span class="id" title="binder">w</span></a> <a id="w':1000" class="idref" href="#w':1000"><span class="id" title="binder">w'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a>,<a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:999"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w':1000"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.machine_parameters.html#encodeWordType_correct"><span class="id" title="method">encodeWordType_correct</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">w</span>) (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">w'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span>, <span class="id" title="var">w'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_cap" class="idref" href="#lwt_cap"><span class="id" title="definition">lwt_cap</span></a> := <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.machine_base.html#O"><span class="id" title="constructor">O</span></a> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_sealrange" class="idref" href="#lwt_sealrange"><span class="id" title="definition">lwt_sealrange</span></a> := <a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> 0%<span class="id" title="var">ot</span> 0%<span class="id" title="var">ot</span> 0%<span class="id" title="var">ot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_sealed" class="idref" href="#lwt_sealed"><span class="id" title="definition">lwt_sealed</span></a> := <a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> 0%<span class="id" title="var">ot</span> (<a class="idref" href="cap_machine.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <a class="idref" href="cap_machine.machine_base.html#O"><span class="id" title="constructor">O</span></a> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_int" class="idref" href="#lwt_int"><span class="id" title="definition">lwt_int</span></a> := <a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.logical_mapsto.html#machine_param"><span class="id" title="section">machine_param</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_encodeLWordType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType_correct"><span class="id" title="axiom">encodeLWordType_correct</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.machine_parameters.html#wt_cap"><span class="id" title="definition">wt_cap</span></a>, <a class="idref" href="cap_machine.machine_parameters.html#wt_int"><span class="id" title="definition">wt_int</span></a>, <a class="idref" href="cap_machine.machine_parameters.html#wt_sealrange"><span class="id" title="definition">wt_sealrange</span></a>, <a class="idref" href="cap_machine.machine_parameters.html#wt_cap"><span class="id" title="definition">wt_cap</span></a> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_encodeLWordType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> ?<span class="id" title="var">p</span> ?<span class="id" title="var">b</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">v</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwt_cap"><span class="id" title="definition">lwt_cap</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> ?<span class="id" title="var">p</span> ?<span class="id" title="var">b</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">a</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwt_sealrange"><span class="id" title="definition">lwt_sealrange</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> ?<span class="id" title="var">n</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwt_int"><span class="id" title="definition">lwt_int</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> ?<span class="id" title="var">o</span> ?<span class="id" title="var">s</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lwt_sealed"><span class="id" title="definition">lwt_sealed</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_cap" class="idref" href="#encodeLWordType_correct_cap"><span class="id" title="lemma">encodeLWordType_correct_cap</span></a> `{<a id="H:1003" class="idref" href="#H:1003"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="p:1004" class="idref" href="#p:1004"><span class="id" title="binder">p</span></a> <a id="b:1005" class="idref" href="#b:1005"><span class="id" title="binder">b</span></a> <a id="e:1006" class="idref" href="#e:1006"><span class="id" title="binder">e</span></a> <a id="a:1007" class="idref" href="#a:1007"><span class="id" title="binder">a</span></a> <a id="v:1008" class="idref" href="#v:1008"><span class="id" title="binder">v</span></a> <a id="p':1009" class="idref" href="#p':1009"><span class="id" title="binder">p'</span></a> <a id="b':1010" class="idref" href="#b':1010"><span class="id" title="binder">b'</span></a> <a id="e':1011" class="idref" href="#e':1011"><span class="id" title="binder">e'</span></a> <a id="a':1012" class="idref" href="#a':1012"><span class="id" title="binder">a'</span></a> <a id="v':1013" class="idref" href="#v':1013"><span class="id" title="binder">v'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:1004"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1005"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1006"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:1007"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1008"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p':1009"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':1010"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':1011"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':1012"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1013"><span class="id" title="variable">v'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_int" class="idref" href="#encodeLWordType_correct_int"><span class="id" title="lemma">encodeLWordType_correct_int</span></a> `{<a id="H:1014" class="idref" href="#H:1014"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="z:1015" class="idref" href="#z:1015"><span class="id" title="binder">z</span></a> <a id="z':1016" class="idref" href="#z':1016"><span class="id" title="binder">z'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#z:1015"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#z':1016"><span class="id" title="variable">z'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_sealrange" class="idref" href="#encodeLWordType_correct_sealrange"><span class="id" title="lemma">encodeLWordType_correct_sealrange</span></a> `{<a id="H:1017" class="idref" href="#H:1017"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="p:1018" class="idref" href="#p:1018"><span class="id" title="binder">p</span></a> <a id="b:1019" class="idref" href="#b:1019"><span class="id" title="binder">b</span></a> <a id="e:1020" class="idref" href="#e:1020"><span class="id" title="binder">e</span></a> <a id="a:1021" class="idref" href="#a:1021"><span class="id" title="binder">a</span></a> <a id="p':1022" class="idref" href="#p':1022"><span class="id" title="binder">p'</span></a> <a id="b':1023" class="idref" href="#b':1023"><span class="id" title="binder">b'</span></a> <a id="e':1024" class="idref" href="#e':1024"><span class="id" title="binder">e'</span></a> <a id="a':1025" class="idref" href="#a':1025"><span class="id" title="binder">a'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:1018"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1019"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1020"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:1021"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p':1022"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':1023"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':1024"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a':1025"><span class="id" title="variable">a'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_sealed" class="idref" href="#encodeLWordType_correct_sealed"><span class="id" title="lemma">encodeLWordType_correct_sealed</span></a> `{<a id="H:1026" class="idref" href="#H:1026"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="o:1027" class="idref" href="#o:1027"><span class="id" title="binder">o</span></a> <a id="s:1028" class="idref" href="#s:1028"><span class="id" title="binder">s</span></a> <a id="o':1029" class="idref" href="#o':1029"><span class="id" title="binder">o'</span></a> <a id="s':1030" class="idref" href="#s':1030"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#o:1027"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#s:1028"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#o':1029"><span class="id" title="variable">o'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#s':1030"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Miscellaneous about logical regions 
</div>
<div class="code">
<span class="comment">(*&nbsp;TODO&nbsp;move&nbsp;definition&nbsp;to&nbsp;regions.v&nbsp;?&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_logical_region" class="idref" href="#elem_of_logical_region"><span class="id" title="lemma">elem_of_logical_region</span></a> (<a id="a:1031" class="idref" href="#a:1031"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:1032" class="idref" href="#la:1032"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1033" class="idref" href="#v:1033"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:1031"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1032"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1031"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1033"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1032"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1033"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_region_map" class="idref" href="#logical_region_map"><span class="id" title="definition">logical_region_map</span></a><br/>
&nbsp;&nbsp;(<a id="la:1034" class="idref" href="#la:1034"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1035" class="idref" href="#lws:1035"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1036" class="idref" href="#v:1036"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1034"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1036"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lws:1035"><span class="id" title="variable">lws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_notin" class="idref" href="#logical_region_notin"><span class="id" title="lemma">logical_region_notin</span></a><br/>
&nbsp;&nbsp;(<a id="la:1037" class="idref" href="#la:1037"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1038" class="idref" href="#a:1038"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1039" class="idref" href="#v:1039"><span class="id" title="binder">v</span></a> <a id="v':1040" class="idref" href="#v':1040"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1041" class="idref" href="#lws:1041"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1041"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1037"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:1038"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1037"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1037"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1041"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1039"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1038"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v':1040"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_version_neq" class="idref" href="#logical_region_version_neq"><span class="id" title="lemma">logical_region_version_neq</span></a><br/>
&nbsp;&nbsp;(<a id="la:1042" class="idref" href="#la:1042"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1043" class="idref" href="#a:1043"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1044" class="idref" href="#v:1044"><span class="id" title="binder">v</span></a> <a id="v':1045" class="idref" href="#v':1045"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1046" class="idref" href="#lws:1046"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1046"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1042"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1044"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1045"><span class="id" title="variable">v'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1042"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1046"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1044"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1043"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1045"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_cons" class="idref" href="#logical_region_map_cons"><span class="id" title="lemma">logical_region_map_cons</span></a><br/>
&nbsp;&nbsp;(<a id="la:1047" class="idref" href="#la:1047"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1048" class="idref" href="#a:1048"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1049" class="idref" href="#v:1049"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1050" class="idref" href="#lws:1050"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="lw:1051" class="idref" href="#lw:1051"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> ):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#a:1048"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1047"><span class="id" title="variable">la</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#lw:1051"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1050"><span class="id" title="variable">lws</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1049"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1048"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:1049"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw:1051"><span class="id" title="variable">lw</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">logical_region_map</span> <span class="id" title="notation">la</span> <span class="id" title="notation">lws</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_some_inv" class="idref" href="#logical_region_map_some_inv"><span class="id" title="lemma">logical_region_map_some_inv</span></a><br/>
&nbsp;&nbsp;(<a id="a:1052" class="idref" href="#a:1052"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:1053" class="idref" href="#v:1053"><span class="id" title="binder">v</span></a> <a id="v':1054" class="idref" href="#v':1054"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> )<br/>
&nbsp;&nbsp;(<a id="la:1055" class="idref" href="#la:1055"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1056" class="idref" href="#lws:1056"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1055"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1056"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1055"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1055"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1056"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1053"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1052"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1054"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v':1054"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1053"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1052"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1055"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hlen</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlw</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlw</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span>  (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_fmap</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Heq</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_lookup_versions" class="idref" href="#logical_region_map_lookup_versions"><span class="id" title="lemma">logical_region_map_lookup_versions</span></a><br/>
&nbsp;&nbsp;(<a id="la:1057" class="idref" href="#la:1057"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':1058" class="idref" href="#a':1058"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1059" class="idref" href="#v:1059"><span class="id" title="binder">v</span></a> <a id="v':1060" class="idref" href="#v':1060"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1061" class="idref" href="#lws:1061"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1057"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':1058"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1057"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1061"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1057"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1057"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1061"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1059"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':1058"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1059"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1057"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1061"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1060"><span class="id" title="variable">v'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':1058"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1060"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw</span> <span class="id" title="var">lws</span>] ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span>; <span class="id" title="var">cbn</span> ; <span class="id" title="var">simplify_map_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> /= ; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> /= ; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_inv" class="idref" href="#logical_region_map_inv"><span class="id" title="lemma">logical_region_map_inv</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1062" class="idref" href="#lmem:1062"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:1063" class="idref" href="#la:1063"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1064" class="idref" href="#v:1064"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1063"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1065" class="idref" href="#a:1065"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lmem:1062"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1065"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1064"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#la:1063"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lws:1066" class="idref" href="#lws:1066"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1066"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1063"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1063"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1066"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1064"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1062"><span class="id" title="variable">lmem</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">lmem</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">HnextMap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_empty_subseteq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">HnextMap_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HnextMap</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HnextMap</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lws</span> &amp; <span class="id" title="var">Hlen</span> &amp; <span class="id" title="var">Hincl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">lwa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">lws</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map_cons"><span class="id" title="axiom">logical_region_map_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_l</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_disjoint" class="idref" href="#logical_region_map_disjoint"><span class="id" title="lemma">logical_region_map_disjoint</span></a><br/>
&nbsp;&nbsp;(<a id="la1:1067" class="idref" href="#la1:1067"><span class="id" title="binder">la1</span></a> <a id="la2:1068" class="idref" href="#la2:1068"><span class="id" title="binder">la2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw1:1069" class="idref" href="#lw1:1069"><span class="id" title="binder">lw1</span></a> <a id="lw2:1070" class="idref" href="#lw2:1070"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v1:1071" class="idref" href="#v1:1071"><span class="id" title="binder">v1</span></a> <a id="v2:1072" class="idref" href="#v2:1072"><span class="id" title="binder">v2</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#la1:1067"><span class="id" title="variable">la1</span></a> <span class="id" title="notation">##</span> <a class="idref" href="cap_machine.logical_mapsto.html#la2:1068"><span class="id" title="variable">la2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la1:1067"><span class="id" title="variable">la1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lw1:1069"><span class="id" title="variable">lw1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la1:1067"><span class="id" title="variable">la1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw1:1069"><span class="id" title="variable">lw1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v1:1071"><span class="id" title="variable">v1</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la2:1068"><span class="id" title="variable">la2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lw2:1070"><span class="id" title="variable">lw2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v2:1072"><span class="id" title="variable">v2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdis</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span> &amp; -&gt; &amp; <span class="id" title="var">Hx</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ( [<span class="id" title="var">y</span> <span class="id" title="var">vy</span>] &amp; ? &amp; <span class="id" title="var">Hy</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y'</span> &amp; -&gt; &amp; <span class="id" title="var">Hy'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_NoDup" class="idref" href="#logical_region_NoDup"><span class="id" title="lemma">logical_region_NoDup</span></a> (<a id="la:1073" class="idref" href="#la:1073"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1074" class="idref" href="#v:1074"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1073"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1073"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1074"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_fmap</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">Hx</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_length" class="idref" href="#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a> (<a id="la:1075" class="idref" href="#la:1075"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1076" class="idref" href="#v:1076"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1075"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1076"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1075"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_range_map" class="idref" href="#logical_range_map"><span class="id" title="definition">logical_range_map</span></a><br/>
&nbsp;&nbsp;(<a id="b:1077" class="idref" href="#b:1077"><span class="id" title="binder">b</span></a> <a id="e:1078" class="idref" href="#e:1078"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1079" class="idref" href="#lws:1079"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1080" class="idref" href="#v:1080"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1077"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1078"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1080"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lws:1079"><span class="id" title="variable">lws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_notin" class="idref" href="#logical_range_notin"><span class="id" title="lemma">logical_range_notin</span></a><br/>
&nbsp;&nbsp;(<a id="b:1081" class="idref" href="#b:1081"><span class="id" title="binder">b</span></a> <a id="e:1082" class="idref" href="#e:1082"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1083" class="idref" href="#a:1083"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1084" class="idref" href="#v:1084"><span class="id" title="binder">v</span></a> <a id="v':1085" class="idref" href="#v':1085"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1086" class="idref" href="#lws:1086"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1086"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1081"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1082"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#a:1083"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1081"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1082"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1081"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1082"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1086"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1084"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1083"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v':1085"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_notin"><span class="id" title="axiom">logical_region_notin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_version_neq" class="idref" href="#logical_range_version_neq"><span class="id" title="lemma">logical_range_version_neq</span></a><br/>
&nbsp;&nbsp;(<a id="b:1087" class="idref" href="#b:1087"><span class="id" title="binder">b</span></a> <a id="e:1088" class="idref" href="#e:1088"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1089" class="idref" href="#a:1089"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1090" class="idref" href="#v:1090"><span class="id" title="binder">v</span></a> <a id="v':1091" class="idref" href="#v':1091"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1092" class="idref" href="#lws:1092"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1092"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1087"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1088"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1090"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1091"><span class="id" title="variable">v'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1087"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1088"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1092"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1090"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1089"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1091"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_version_neq"><span class="id" title="axiom">logical_region_version_neq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_some_inv" class="idref" href="#logical_range_map_some_inv"><span class="id" title="lemma">logical_range_map_some_inv</span></a><br/>
&nbsp;&nbsp;(<a id="a:1093" class="idref" href="#a:1093"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:1094" class="idref" href="#v:1094"><span class="id" title="binder">v</span></a> <a id="v':1095" class="idref" href="#v':1095"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> )<br/>
&nbsp;&nbsp;(<a id="b:1096" class="idref" href="#b:1096"><span class="id" title="binder">b</span></a> <a id="e:1097" class="idref" href="#e:1097"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1098" class="idref" href="#lws:1098"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1098"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1096"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1097"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1096"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1097"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1098"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1094"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1093"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1095"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v':1095"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1094"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1093"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1096"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1097"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map_some_inv"><span class="id" title="axiom">logical_region_map_some_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_lookup_versions" class="idref" href="#logical_range_map_lookup_versions"><span class="id" title="lemma">logical_range_map_lookup_versions</span></a><br/>
&nbsp;&nbsp;(<a id="b:1099" class="idref" href="#b:1099"><span class="id" title="binder">b</span></a> <a id="e:1100" class="idref" href="#e:1100"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':1101" class="idref" href="#a':1101"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1102" class="idref" href="#v:1102"><span class="id" title="binder">v</span></a> <a id="v':1103" class="idref" href="#v':1103"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1104" class="idref" href="#lws:1104"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a':1101"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1099"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1100"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1104"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1099"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1100"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1099"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1100"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1104"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1102"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':1101"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1102"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1099"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1100"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1104"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1103"><span class="id" title="variable">v'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a':1101"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1103"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map_lookup_versions"><span class="id" title="axiom">logical_region_map_lookup_versions</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_inv" class="idref" href="#logical_range_map_inv"><span class="id" title="lemma">logical_range_map_inv</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1105" class="idref" href="#lmem:1105"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:1106" class="idref" href="#b:1106"><span class="id" title="binder">b</span></a> <a id="e:1107" class="idref" href="#e:1107"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1108" class="idref" href="#v:1108"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1109" class="idref" href="#a:1109"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.logical_mapsto.html#lmem:1105"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1109"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1108"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1106"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1107"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lws:1110" class="idref" href="#lws:1110"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1110"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1106"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1107"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1106"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1107"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1110"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1108"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1105"><span class="id" title="variable">lmem</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map_inv"><span class="id" title="axiom">logical_region_map_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_insert" class="idref" href="#logical_range_map_insert"><span class="id" title="lemma">logical_range_map_insert</span></a> (<a id="b:1111" class="idref" href="#b:1111"><span class="id" title="binder">b</span></a> <a id="e:1112" class="idref" href="#e:1112"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1113" class="idref" href="#v:1113"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="w:1114" class="idref" href="#w:1114"><span class="id" title="binder">w</span></a> <a id="w':1115" class="idref" href="#w':1115"><span class="id" title="binder">w'</span></a>: <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="lw:1116" class="idref" href="#lw:1116"><span class="id" title="binder">lw</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.logical_mapsto.html#b:1111"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1112"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#b:1111"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:1113"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#w':1115"><span class="id" title="variable">w'</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">logical_range_map</span> <span class="id" title="notation">b</span> <span class="id" title="notation">e</span> <span class="id" title="notation">(</span><span class="id" title="notation">w</span><span class="id" title="notation">::</span><span class="id" title="notation">lw</span><span class="id" title="notation">)</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1111"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1112"><span class="id" title="variable">e</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#w':1115"><span class="id" title="variable">w'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="cap_machine.logical_mapsto.html#lw:1116"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1113"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="lemma">finz_seq_between_cons</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insert_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_disjoint" class="idref" href="#logical_range_map_disjoint"><span class="id" title="lemma">logical_range_map_disjoint</span></a><br/>
&nbsp;&nbsp;(<a id="b:1117" class="idref" href="#b:1117"><span class="id" title="binder">b</span></a> <a id="e:1118" class="idref" href="#e:1118"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1119" class="idref" href="#lws:1119"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1120" class="idref" href="#v:1120"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="b':1121" class="idref" href="#b':1121"><span class="id" title="binder">b'</span></a> <a id="e':1122" class="idref" href="#e':1122"><span class="id" title="binder">e'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws':1123" class="idref" href="#lws':1123"><span class="id" title="binder">lws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v':1124" class="idref" href="#v':1124"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1117"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1118"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1119"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1117"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1118"><span class="id" title="variable">e</span></a> <span class="id" title="notation">##</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':1121"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':1122"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1117"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1118"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1119"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1120"><span class="id" title="variable">v</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':1121"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':1122"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws':1123"><span class="id" title="variable">lws'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1124"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdis</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([ [<span class="id" title="var">y'</span> <span class="id" title="var">vy'</span>] <span class="id" title="var">wy'</span>] &amp; -&gt; &amp; <span class="id" title="var">Hcontra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>, <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>,<span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">Hy</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">Hy'</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_disjoint_version" class="idref" href="#logical_range_map_disjoint_version"><span class="id" title="lemma">logical_range_map_disjoint_version</span></a><br/>
&nbsp;&nbsp;(<a id="b:1125" class="idref" href="#b:1125"><span class="id" title="binder">b</span></a> <a id="e:1126" class="idref" href="#e:1126"><span class="id" title="binder">e</span></a> <a id="b':1127" class="idref" href="#b':1127"><span class="id" title="binder">b'</span></a> <a id="e':1128" class="idref" href="#e':1128"><span class="id" title="binder">e'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1129" class="idref" href="#lws:1129"><span class="id" title="binder">lws</span></a> <a id="lws':1130" class="idref" href="#lws':1130"><span class="id" title="binder">lws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1131" class="idref" href="#v:1131"><span class="id" title="binder">v</span></a> <a id="v':1132" class="idref" href="#v':1132"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1125"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1126"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1129"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#v:1131"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1132"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1125"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1126"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1129"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1131"><span class="id" title="variable">v</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b':1127"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e':1128"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws':1130"><span class="id" title="variable">lws'</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v':1132"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([ [<span class="id" title="var">y'</span> <span class="id" title="var">vy'</span>] <span class="id" title="var">wy'</span>] &amp; -&gt; &amp; <span class="id" title="var">Hcontra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>, <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>,<span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_delete_notin" class="idref" href="#hash_lmemory_range_delete_notin"><span class="id" title="lemma">hash_lmemory_range_delete_notin</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1133" class="idref" href="#lmem:1133"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="l:1134" class="idref" href="#l:1134"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1135" class="idref" href="#v:1135"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:1136" class="idref" href="#a:1136"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1137" class="idref" href="#lws:1137"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#a:1136"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.logical_mapsto.html#l:1134"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#l:1134"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1137"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#l:1134"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1136"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1135"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1133"><span class="id" title="variable">lmem</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#l:1134"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1135"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1133"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#l:1134"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1135"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw1</span> <span class="id" title="var">lws</span>] ; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_notin_l</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnotin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_neq_a'</span> <span class="id" title="var">Hnotin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">option_bind_ext_fun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_correct_aux" class="idref" href="#hash_lmemory_range_correct_aux"><span class="id" title="lemma">hash_lmemory_range_correct_aux</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1138" class="idref" href="#lmem:1138"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="l:1139" class="idref" href="#l:1139"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1140" class="idref" href="#v:1140"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1141" class="idref" href="#lws:1141"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.logical_mapsto.html#l:1139"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1141"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#l:1139"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#l:1139"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1140"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#lws:1141"><span class="id" title="variable">lws</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1138"><span class="id" title="variable">lmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1138"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#l:1139"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1140"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1141"><span class="id" title="variable">lws</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">nil_length_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">fmap_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw1</span> <span class="id" title="var">lws</span>] ; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_notin_l</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.stdpp_extra.html#insert_weaken"><span class="id" title="axiom">insert_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha_lmem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">fmap_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_delete_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">x</span> <span class="id" title="var">vx</span>] &amp; <span class="id" title="var">Hx</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHl</span> (<span class="id" title="definition">delete</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">lmem</span>) <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range_delete_notin"><span class="id" title="axiom">hash_lmemory_range_delete_notin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lmem</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span>) <span class="id" title="var">IH</span> /= <span class="id" title="var">Ha_lmem</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_correct" class="idref" href="#hash_lmemory_range_correct"><span class="id" title="lemma">hash_lmemory_range_correct</span></a> `{<a id="MP:1142" class="idref" href="#MP:1142"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} (<a id="lmem:1143" class="idref" href="#lmem:1143"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:1144" class="idref" href="#b:1144"><span class="id" title="binder">b</span></a> <a id="e:1145" class="idref" href="#e:1145"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1146" class="idref" href="#v:1146"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1147" class="idref" href="#lws:1147"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="eid:1148" class="idref" href="#eid:1148"><span class="id" title="binder">eid</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1147"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1144"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1145"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1144"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1145"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1147"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1146"><span class="id" title="variable">v</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1143"><span class="id" title="variable">lmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#lmem:1143"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#b:1144"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#e:1145"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1146"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#eid:1148"><span class="id" title="variable">eid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#eid:1148"><span class="id" title="variable">eid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.machine_parameters.html#hash"><span class="id" title="method">hash</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#lws:1147"><span class="id" title="variable">lws</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlmem</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhash</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">instrs</span> &amp; <span class="id" title="var">Hinstrs</span> &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="cap_machine.logical_mapsto.html#hash_lmemory_range_correct_aux"><span class="id" title="axiom">hash_lmemory_range_correct_aux</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinstrs</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transform&nbsp;Reg&nbsp;into&nbsp;LReg&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="register_to_lregister" class="idref" href="#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> (<a id="reg:1149" class="idref" href="#reg:1149"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) ( <a id="v:1150" class="idref" href="#v:1150"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) : <a class="idref" href="cap_machine.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">fmap</span> (<span class="id" title="keyword">fun</span> <a id="w:1151" class="idref" href="#w:1151"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1151"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1150"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#reg:1149"><span class="id" title="variable">reg</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="register_to_lregister_lookup" class="idref" href="#register_to_lregister_lookup"><span class="id" title="lemma">register_to_lregister_lookup</span></a> (<a id="reg:1152" class="idref" href="#reg:1152"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="r:1153" class="idref" href="#r:1153"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="w:1154" class="idref" href="#w:1154"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:1155" class="idref" href="#v:1155"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#reg:1152"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:1153"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1154"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1152"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1155"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:1153"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1154"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1155"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="var">Hr</span> /=.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="register_to_lregister_delete" class="idref" href="#register_to_lregister_delete"><span class="id" title="lemma">register_to_lregister_delete</span></a> (<a id="reg:1156" class="idref" href="#reg:1156"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="r:1157" class="idref" href="#r:1157"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="v:1158" class="idref" href="#v:1158"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:1157"><span class="id" title="variable">r</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1156"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1158"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.logical_mapsto.html#r:1157"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1156"><span class="id" title="variable">reg</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1158"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="lemma">fmap_delete</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_strip_register_to_lregister" class="idref" href="#lreg_strip_register_to_lregister"><span class="id" title="lemma">lreg_strip_register_to_lregister</span></a> (<a id="reg:1159" class="idref" href="#reg:1159"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="v:1160" class="idref" href="#v:1160"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1159"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1160"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1159"><span class="id" title="variable">reg</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">reg</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">map_ind</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> !<span class="id" title="lemma">fmap_insert</span> <a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word_to_lword"><span class="id" title="axiom">lword_get_word_to_lword</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span>) -/(<a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHreg</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transform&nbsp;Mem&nbsp;into&nbsp;LMem&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="memory_to_lmemory" class="idref" href="#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<a id="mem:1161" class="idref" href="#mem:1161"><span class="id" title="binder">mem</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) ( <a id="v:1162" class="idref" href="#v:1162"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) : <a class="idref" href="cap_machine.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">kmap</span> (<span class="id" title="keyword">fun</span> <a id="a:1164" class="idref" href="#a:1164"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1164"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:1162"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="definition">fmap</span> (<span class="id" title="keyword">fun</span> <a id="w:1163" class="idref" href="#w:1163"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1163"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1162"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#mem:1161"><span class="id" title="variable">mem</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_insert" class="idref" href="#memory_to_lmemory_insert"><span class="id" title="lemma">memory_to_lmemory_insert</span></a> (<a id="m:1165" class="idref" href="#m:1165"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="a:1166" class="idref" href="#a:1166"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="w:1167" class="idref" href="#w:1167"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:1168" class="idref" href="#v:1168"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.logical_mapsto.html#a:1166"><span class="id" title="variable">a</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.logical_mapsto.html#w:1167"><span class="id" title="variable">w</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">m</span>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1168"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1166"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.logical_mapsto.html#v:1168"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1167"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1168"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">memory_to_lmemory</span> <span class="id" title="notation">m</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span> <span class="id" title="lemma">kmap_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_lookup" class="idref" href="#memory_to_lmemory_lookup"><span class="id" title="lemma">memory_to_lmemory_lookup</span></a> (<a id="m:1169" class="idref" href="#m:1169"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="a:1170" class="idref" href="#a:1170"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1171" class="idref" href="#v:1171"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1169"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1171"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#a:1170"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1171"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1172" class="idref" href="#w:1172"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1172"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1171"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#m:1169"><span class="id" title="variable">m</span></a><span class="id" title="notation">!!</span><a class="idref" href="cap_machine.logical_mapsto.html#a:1170"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="method">lookup_fmap</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_union" class="idref" href="#memory_to_lmemory_union"><span class="id" title="lemma">memory_to_lmemory_union</span></a> (<a id="m1:1173" class="idref" href="#m1:1173"><span class="id" title="binder">m1</span></a> <a id="m2:1174" class="idref" href="#m2:1174"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1175" class="idref" href="#v:1175"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#m1:1173"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1174"><span class="id" title="variable">m2</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1175"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m1:1173"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1175"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∪</span>  <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1174"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1175"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="lemma">map_fmap_union</span> <span class="id" title="lemma">kmap_union</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_subseteq" class="idref" href="#memory_to_lmemory_subseteq"><span class="id" title="lemma">memory_to_lmemory_subseteq</span></a> (<a id="m1:1176" class="idref" href="#m1:1176"><span class="id" title="binder">m1</span></a> <a id="m2:1177" class="idref" href="#m2:1177"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1178" class="idref" href="#v:1178"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#m1:1176"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1177"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m1:1176"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1178"><span class="id" title="variable">v</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1177"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1178"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">kmap_subseteq</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_fmap_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_disjoint" class="idref" href="#memory_to_lmemory_disjoint"><span class="id" title="lemma">memory_to_lmemory_disjoint</span></a> (<a id="m1:1179" class="idref" href="#m1:1179"><span class="id" title="binder">m1</span></a> <a id="m2:1180" class="idref" href="#m2:1180"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1181" class="idref" href="#v:1181"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.logical_mapsto.html#m1:1179"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1180"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m1:1179"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1181"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">##ₘ</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m2:1180"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1181"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_kmap</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_fmap</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_mk_logical_region_map" class="idref" href="#memory_to_lmemory_mk_logical_region_map"><span class="id" title="lemma">memory_to_lmemory_mk_logical_region_map</span></a> <a id="la:1182" class="idref" href="#la:1182"><span class="id" title="binder">la</span></a> <a id="ws:1183" class="idref" href="#ws:1183"><span class="id" title="binder">ws</span></a> <a id="v:1184" class="idref" href="#v:1184"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> <a class="idref" href="cap_machine.logical_mapsto.html#la:1182"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#ws:1183"><span class="id" title="variable">ws</span></a>)) <a class="idref" href="cap_machine.logical_mapsto.html#v:1184"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#la:1182"><span class="id" title="variable">la</span></a> (<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1185" class="idref" href="#w:1185"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1185"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1184"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.logical_mapsto.html#ws:1183"><span class="id" title="variable">ws</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#v:1184"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">la</span> <span class="id" title="var">ws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ws</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_empty</span> <span class="id" title="lemma">kmap_empty</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">w</span> <span class="id" title="var">ws</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_empty</span> <span class="id" title="lemma">kmap_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory_insert"><span class="id" title="axiom">memory_to_lmemory_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHla</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;When&nbsp;reasoning&nbsp;about&nbsp;initial&nbsp;state,&nbsp;memory&nbsp;must&nbsp;be&nbsp;complete&nbsp;w.r.t.&nbsp;the&nbsp;registers.<br/>
&nbsp;&nbsp;&nbsp;In&nbsp;other&nbsp;words,&nbsp;every&nbsp;reachable&nbsp;addresses&nbsp;must&nbsp;be&nbsp;contained&nbsp;in&nbsp;the&nbsp;memory.<br/>
&nbsp;&nbsp;&nbsp;That's&nbsp;required&nbsp;by&nbsp;`state_phys_log_corresponds`<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_word" class="idref" href="#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> (<a id="w:1186" class="idref" href="#w:1186"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="m:1187" class="idref" href="#m:1187"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#w:1186"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:1189" class="idref" href="#a:1189"><span class="id" title="binder"><span id="a:1190" class="id">a</span></span></a> =&gt; <span class="id" title="definition">is_Some</span>( <a class="idref" href="cap_machine.logical_mapsto.html#m:1187"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.logical_mapsto.html#a:1189"><span class="id" title="variable">a</span></a> ) ) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_registers" class="idref" href="#is_complete_registers"><span class="id" title="definition">is_complete_registers</span></a> (<a id="reg:1191" class="idref" href="#reg:1191"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="m:1192" class="idref" href="#m:1192"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> ( <span class="id" title="keyword">fun</span> <a id="r:1193" class="idref" href="#r:1193"><span class="id" title="binder">r</span></a> <a id="w:1194" class="idref" href="#w:1194"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1194"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1192"><span class="id" title="variable">m</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#reg:1191"><span class="id" title="variable">reg</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_memory" class="idref" href="#is_complete_memory"><span class="id" title="definition">is_complete_memory</span></a> (<a id="m:1195" class="idref" href="#m:1195"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> ( <span class="id" title="keyword">fun</span> <a id="r:1196" class="idref" href="#r:1196"><span class="id" title="binder">r</span></a> <a id="w:1197" class="idref" href="#w:1197"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.logical_mapsto.html#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#w:1197"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1195"><span class="id" title="variable">m</span></a>) <a class="idref" href="cap_machine.logical_mapsto.html#m:1195"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_phys_log_corresponds_complete" class="idref" href="#state_phys_log_corresponds_complete"><span class="id" title="lemma">state_phys_log_corresponds_complete</span></a> `{<a id="H:1198" class="idref" href="#H:1198"><span class="id" title="binder">ReservedAddresses</span></a>} (<a id="m:1199" class="idref" href="#m:1199"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:1200" class="idref" href="#reg:1200"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="v:1201" class="idref" href="#v:1201"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)  :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#v:1201"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_complete_memory"><span class="id" title="definition">is_complete_memory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1199"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#is_complete_registers"><span class="id" title="definition">is_complete_registers</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1200"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1199"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1200"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1199"><span class="id" title="variable">m</span></a> (<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#reg:1200"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1201"><span class="id" title="variable">v</span></a>) (<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#m:1199"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#v:1201"><span class="id" title="variable">v</span></a>) (<span class="id" title="definition">gset_to_gmap</span> <a class="idref" href="cap_machine.logical_mapsto.html#v:1201"><span class="id" title="variable">v</span></a> (<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.logical_mapsto.html#m:1199"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hm_complete</span> <span class="id" title="var">Hreg_complete</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.logical_mapsto.html#lreg_strip_register_to_lregister"><span class="id" title="axiom">lreg_strip_register_to_lregister</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">z</span> | <span class="id" title="var">sb</span> | <span class="id" title="var">ot</span> <span class="id" title="var">sb</span> ] ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="lemma">lookup_fmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">Hw</span> &amp; <span class="id" title="var">Hwr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> | <span class="id" title="var">sb'</span> | <span class="id" title="var">ot'</span> <span class="id" title="var">sb'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kx</span> <span class="id" title="var">Hkx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_legal_address"><span class="id" title="definition">is_legal_address</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a'</span>, <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v'</span>)) ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_kmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="cap_machine.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="lemma">lookup_fmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">Hlw</span> &amp; <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w'</span> <span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <span class="id" title="var">w'</span> <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="var">Ha'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha'</span> /<a class="idref" href="cap_machine.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> /<a class="idref" href="cap_machine.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kx</span> <span class="id" title="var">Hkx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Ha'</span> <span class="id" title="var">Ha'_reserved</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isPermLWord" class="idref" href="#isPermLWord"><span class="id" title="definition">isPermLWord</span></a> (<a id="w:1202" class="idref" href="#w:1202"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:1203" class="idref" href="#p:1203"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.logical_mapsto.html#w:1202"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="cap_machine.machine_base.html#isPerm"><span class="id" title="definition">isPerm</span></a> <a class="idref" href="cap_machine.logical_mapsto.html#p:1203"><span class="id" title="variable">p</span></a> <span class="id" title="var">p'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
