<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.examples.template_adequacy</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#"><span class="id" title="library">auth</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.agree.html#"><span class="id" title="library">agree</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#"><span class="id" title="library">excl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.gset.html#"><span class="id" title="library">gset</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.frac.html#"><span class="id" title="library">frac</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.proofmode.html#"><span class="id" title="library">proofmode</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#"><span class="id" title="library">invariants</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.adequacy.html#"><span class="id" title="library">adequacy</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.iris_extra.html#"><span class="id" title="library">iris_extra</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.rules.html#"><span class="id" title="library">rules</span></a> <a class="idref" href="cap_machine.logrel.html#"><span class="id" title="library">logrel</span></a> <a class="idref" href="cap_machine.fundamental.html#"><span class="id" title="library">fundamental</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine.examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="cap_machine.examples.addr_reg_sample.html#"><span class="id" title="library">addr_reg_sample</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine.examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="cap_machine.examples.mkregion_helpers.html#"><span class="id" title="library">mkregion_helpers</span></a> <a class="idref" href="cap_machine.examples.disjoint_regions_tactics.html#"><span class="id" title="library">disjoint_regions_tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="prog" class="idref" href="#prog"><span class="id" title="record">prog</span></a> := <span class="id" title="var">MkProg</span> {<br/>
&nbsp;&nbsp;<a id="prog_start" class="idref" href="#prog_start"><span class="id" title="projection">prog_start</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="prog_end" class="idref" href="#prog_end"><span class="id" title="projection">prog_end</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="prog_instrs" class="idref" href="#prog_instrs"><span class="id" title="projection">prog_instrs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="prog_size" class="idref" href="#prog_size"><span class="id" title="projection">prog_size</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start:2"><span class="id" title="method">prog_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs:4"><span class="id" title="method">prog_instrs</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end:3"><span class="id" title="method">prog_end</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="prog_region" class="idref" href="#prog_region"><span class="id" title="definition">prog_region</span></a> (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>): <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:6"><span class="id" title="variable">P</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prog_region_dom" class="idref" href="#prog_region_dom"><span class="id" title="lemma">prog_region_dom</span></a> (<a id="P:7" class="idref" href="#P:7"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:7"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:7"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:7"><span class="id" title="variable">P</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_list_to_map_L"><span class="id" title="lemma">dom_list_to_map_L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fst_zip"><span class="id" title="lemma">fst_zip</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_length"><span class="id" title="lemma">finz_seq_between_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_size"><span class="id" title="projection">prog_size</span></a> <span class="id" title="var">P</span>). <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="memory_inv" class="idref" href="#memory_inv"><span class="id" title="record">memory_inv</span></a> := <span class="id" title="var">MkMemoryInv</span> {<br/>
&nbsp;&nbsp;<a id="minv" class="idref" href="#minv"><span class="id" title="projection">minv</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="minv_dom" class="idref" href="#minv_dom"><span class="id" title="projection">minv_dom</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="minv_dom_correct" class="idref" href="#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="m:11" class="idref" href="#m:11"><span class="id" title="binder">m</span></a> <a id="m':12" class="idref" href="#m':12"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:13" class="idref" href="#a:13"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:13"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom:10"><span class="id" title="method">minv_dom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:11"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:13"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':12"><span class="id" title="variable">m'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:13"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#x:14"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv:9"><span class="id" title="method">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:11"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv:9"><span class="id" title="method">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':12"><span class="id" title="variable">m'</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minv_sub_extend" class="idref" href="#minv_sub_extend"><span class="id" title="lemma">minv_sub_extend</span></a> (<a id="m:16" class="idref" href="#m:16"><span class="id" title="binder">m</span></a> <a id="m':17" class="idref" href="#m':17"><span class="id" title="binder">m'</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="I:18" class="idref" href="#I:18"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:18"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':17"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:18"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:18"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':17"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">m</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#elem_of_gmap_dom"><span class="id" title="axiom">elem_of_gmap_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_subseteq"><span class="id" title="lemma">elem_of_subseteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsub</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minv_sub_restrict" class="idref" href="#minv_sub_restrict"><span class="id" title="lemma">minv_sub_restrict</span></a> (<a id="m:19" class="idref" href="#m:19"><span class="id" title="binder">m</span></a> <a id="m':20" class="idref" href="#m':20"><span class="id" title="binder">m'</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="I:21" class="idref" href="#I:21"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:21"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:19"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#m:19"><span class="id" title="variable">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':20"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:21"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':20"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:21"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:19"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom_correct"><span class="id" title="projection">minv_dom_correct</span></a>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">m</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#elem_of_gmap_dom"><span class="id" title="axiom">elem_of_gmap_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_subseteq"><span class="id" title="lemma">elem_of_subseteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_dom_is_dom" class="idref" href="#filter_dom_is_dom"><span class="id" title="lemma">filter_dom_is_dom</span></a> (<a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="d:23" class="idref" href="#d:23"><span class="id" title="binder">d</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#d:23"><span class="id" title="variable">d</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:25" class="idref" href="#pat:25"><span class="id" title="binder">(</span></a><a id="pat:25" class="idref" href="#pat:25"><span class="id" title="binder">a</span></a><a id="pat:25" class="idref" href="#pat:25"><span class="id" title="binder">,</span></a> <a id="pat:25" class="idref" href="#pat:25"><span class="id" title="binder">_</span></a><a id="pat:25" class="idref" href="#pat:25"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#d:23"><span class="id" title="variable">d</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:22"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#d:23"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#set_eq"><span class="id" title="lemma">set_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_filter_L"><span class="id" title="lemma">dom_filter_L</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#elem_of_subseteq"><span class="id" title="lemma">elem_of_subseteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span> |- *. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hd</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#elem_of_gmap_dom"><span class="id" title="axiom">elem_of_gmap_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="minv_sep" class="idref" href="#minv_sep"><span class="id" title="definition">minv_sep</span></a> `{<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">memG</span></a> <a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">Σ</span></a>} (<a id="I:28" class="idref" href="#I:28"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>): <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="m:29" class="idref" href="#m:29"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:30" class="idref" href="#a:30"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:31" class="idref" href="#w:31"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:29"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:30"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:31"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:29"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:28"><span class="id" title="variable">I</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:28"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:29"><span class="id" title="variable">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="basic" class="idref" href="#basic"><span class="id" title="module">basic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="basic.is_initial_registers" class="idref" href="#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:32" class="idref" href="#P:32"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:33" class="idref" href="#reg:33"><span class="id" title="binder">reg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:33"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:32"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:32"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:32"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:34" class="idref" href="#r:34"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:34"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:35" class="idref" href="#w:35"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:33"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:34"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:35"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:35"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic.initial_registers_full_map" class="idref" href="#basic.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:36" class="idref" href="#P:36"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:37" class="idref" href="#reg:37"><span class="id" title="binder">reg</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:36"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:37"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:38" class="idref" href="#r:38"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:37"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:38"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="basic.is_initial_memory" class="idref" href="#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:40" class="idref" href="#m:40"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:39"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:40"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="basic.Adequacy" class="idref" href="#basic.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="b2fa38fbaf9e73dda3ce249d373db916" class="idref" href="#b2fa38fbaf9e73dda3ce249d373db916"><span class="id" title="binder">Σ</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:42" class="idref" href="#inv_preg:42"><span class="id" title="binder">inv_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#invGpreS"><span class="id" title="class">invGpreS</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:43" class="idref" href="#mem_preg:43"><span class="id" title="binder">mem_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:44" class="idref" href="#reg_preg:44"><span class="id" title="binder">reg_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:45" class="idref" href="#na_invg:45"><span class="id" title="binder">na_invg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_invG"><span class="id" title="class">na_invG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:46" class="idref" href="#MP:46"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:47" class="idref" href="#P:47"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:48" class="idref" href="#I:48"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="basic.invN" class="idref" href="#basic.invN"><span class="id" title="definition">invN</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nroot"><span class="id" title="definition">nroot</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "templateadequacy" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="basic.template_adequacy'" class="idref" href="#basic.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:49" class="idref" href="#m:49"><span class="id" title="binder">m</span></a> <a id="m':50" class="idref" href="#m':50"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:51" class="idref" href="#reg:51"><span class="id" title="binder">reg</span></a> <a id="reg':52" class="idref" href="#reg':52"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:53" class="idref" href="#es:53"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:51"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:56" class="idref" href="#prog_map:56"><span class="id" title="binder">prog_map</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">(</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">a</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">,</span></a> <a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">_</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:57" class="idref" href="#H:57"><span class="id" title="binder">memG</span></a> <a id="H:57" class="idref" href="#H:57"><span class="id" title="binder">Σ</span></a>, <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">regG</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">Σ</span></a>, <a id="H1:59" class="idref" href="#H1:59"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H1:59" class="idref" href="#H1:59"><span class="id" title="binder">Σ</span></a>} <a id="rmap:60" class="idref" href="#rmap:60"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:60"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:61" class="idref" href="#r:61"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:62" class="idref" href="#w:62"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:60"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:61"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:62"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:62"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:64" class="idref" href="#w:64"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:56"><span class="id" title="variable">prog_map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:63"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:64"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:51"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:49"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:53"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':52"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':50"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':50"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.adequacy.html#wp_invariance"><span class="id" title="definition">wp_invariance</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:66" class="idref" href="#c:66"><span class="id" title="binder">c</span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:65"><span class="id" title="variable">c</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. 2: <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_alloc"><span class="id" title="lemma">na_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#1b745b820c3c4bf923d16f413ab8eaad"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_subseteq"><span class="id" title="lemma">big_sepM_subseteq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Hprog". <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">(</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">a</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">,</span></a> <a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">_</span></a><a id="pat:72" class="idref" href="#pat:72"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:67"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">prog_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_union_complement"><span class="id" title="lemma">map_filter_union_complement</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hprog"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hprog_inv Hprog]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_disjoint_filter_complement"><span class="id" title="lemma">map_disjoint_filter_complement</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv_alloc"><span class="id" title="lemma">inv_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hprog_inv]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region_dom"><span class="id" title="axiom">prog_region_dom</span></a>//. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy.P"><span class="id" title="variable">P</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_filter_sub"><span class="id" title="axiom">map_filter_sub</span></a>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_delete"><span class="id" title="lemma">big_sepM_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:75" class="idref" href="#r:75"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:76" class="idref" href="#w:76"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <span class="id" title="var">rmap</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:73"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:74"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:74"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_mono"><span class="id" title="lemma">big_sepM_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">feed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:78" class="idref" href="#r:78"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">reg</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:77"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">Hspec</span> <span class="id" title="var">rmap</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$HPC $Hreg $Hprog $Hinv]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_delete_L"><span class="id" title="lemma">dom_delete_L</span></a> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="9f1fea059ff9a29e6ea0ea539097f3b5" class="idref" href="#9f1fea059ff9a29e6ea0ea539097f3b5"><span class="id" title="binder">σ</span></a> <a id="b277c9198fe6fdc3213f823b73f35955" class="idref" href="#b277c9198fe6fdc3213f823b73f35955"><span class="id" title="binder">κs</span></a> <span class="id" title="var">_</span> =&gt; (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#36a428aee24e113c951be020d2a663a9"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#36a428aee24e113c951be020d2a663a9"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem' Hmi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="basic.template_adequacy" class="idref" href="#basic.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:83" class="idref" href="#H:83"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:84" class="idref" href="#P:84"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:85" class="idref" href="#I:85"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:86" class="idref" href="#m:86"><span class="id" title="binder">m</span></a> <a id="m':87" class="idref" href="#m':87"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:88" class="idref" href="#reg:88"><span class="id" title="binder">reg</span></a> <a id="reg':89" class="idref" href="#reg':89"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:90" class="idref" href="#es:90"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:88"><span class="id" title="variable">reg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:85"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:85"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:93" class="idref" href="#prog_map:93"><span class="id" title="binder">prog_map</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:92" class="idref" href="#pat:92"><span class="id" title="binder">(</span></a><a id="pat:92" class="idref" href="#pat:92"><span class="id" title="binder">a</span></a><a id="pat:92" class="idref" href="#pat:92"><span class="id" title="binder">,</span></a> <a id="pat:92" class="idref" href="#pat:92"><span class="id" title="binder">_</span></a><a id="pat:92" class="idref" href="#pat:92"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:85"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:95" class="idref" href="#H0:95"><span class="id" title="binder">memG</span></a> <a id="H0:95" class="idref" href="#H0:95"><span class="id" title="binder">Σ</span></a>, <a id="H1:96" class="idref" href="#H1:96"><span class="id" title="binder">regG</span></a> <a id="H1:96" class="idref" href="#H1:96"><span class="id" title="binder">Σ</span></a>, <a id="H2:97" class="idref" href="#H2:97"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H2:97" class="idref" href="#H2:97"><span class="id" title="binder">Σ</span></a>} <a id="rmap:98" class="idref" href="#rmap:98"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:98"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:85"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:84"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:99" class="idref" href="#r:99"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:100" class="idref" href="#w:100"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:98"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:99"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:100"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:100"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:101" class="idref" href="#a:101"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:102" class="idref" href="#w:102"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:93"><span class="id" title="variable">prog_map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:101"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:102"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:88"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:86"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:90"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':89"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':87"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:85"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':87"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">#[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#d17c486acc3778a154f537facd0c2bab"><span class="id" title="definition">invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#b1086b00bafe3080063c17dfaac2bf69"><span class="id" title="definition">na_invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#basic.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#basic"><span class="id" title="module">basic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv" class="idref" href="#with_adv"><span class="id" title="module">with_adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv.is_initial_registers" class="idref" href="#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:103" class="idref" href="#P:103"><span class="id" title="binder">P</span></a> <a id="Adv:104" class="idref" href="#Adv:104"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="reg:105" class="idref" href="#reg:105"><span class="id" title="binder">reg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:106" class="idref" href="#r_adv:106"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:105"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:103"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:103"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:103"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:105"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:106"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:104"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:104"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:104"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:106"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:107" class="idref" href="#r:107"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:107"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:106"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:108" class="idref" href="#w:108"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:105"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:107"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:108"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:108"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv.initial_registers_full_map" class="idref" href="#with_adv.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:109" class="idref" href="#P:109"><span class="id" title="binder">P</span></a> <a id="Adv:110" class="idref" href="#Adv:110"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) <a id="reg:111" class="idref" href="#reg:111"><span class="id" title="binder">reg</span></a> <a id="r_adv:112" class="idref" href="#r_adv:112"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:109"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:110"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:111"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:112"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:113" class="idref" href="#r:113"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:111"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:113"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv.is_initial_memory" class="idref" href="#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:114" class="idref" href="#P:114"><span class="id" title="binder">P</span></a> <a id="Adv:115" class="idref" href="#Adv:115"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="m:116" class="idref" href="#m:116"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:116"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:115"><span class="id" title="variable">Adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:116"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:115"><span class="id" title="variable">Adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_adv.Adequacy" class="idref" href="#with_adv.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="388873efb4be7b6002f3f68ecd6fa136" class="idref" href="#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="binder">Σ</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:118" class="idref" href="#inv_preg:118"><span class="id" title="binder">inv_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#invGpreS"><span class="id" title="class">invGpreS</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:119" class="idref" href="#mem_preg:119"><span class="id" title="binder">mem_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:120" class="idref" href="#reg_preg:120"><span class="id" title="binder">reg_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:121" class="idref" href="#na_invg:121"><span class="id" title="binder">na_invg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_invG"><span class="id" title="class">na_invG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:122" class="idref" href="#MP:122"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:123" class="idref" href="#P:123"><span class="id" title="binder">P</span></a> <a id="Adv:124" class="idref" href="#Adv:124"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:125" class="idref" href="#I:125"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:126" class="idref" href="#r_adv:126"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv.invN" class="idref" href="#with_adv.invN"><span class="id" title="definition">invN</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nroot"><span class="id" title="definition">nroot</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "templateadequacy" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv.template_adequacy'" class="idref" href="#with_adv.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> (<a id="m:127" class="idref" href="#m:127"><span class="id" title="binder">m</span></a> <a id="m':128" class="idref" href="#m':128"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:129" class="idref" href="#reg:129"><span class="id" title="binder">reg</span></a> <a id="reg':130" class="idref" href="#reg':130"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:131" class="idref" href="#es:131"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:127"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:129"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:132" class="idref" href="#w:132"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:132"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:127"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:135" class="idref" href="#prog_map:135"><span class="id" title="binder">prog_map</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:134" class="idref" href="#pat:134"><span class="id" title="binder">(</span></a><a id="pat:134" class="idref" href="#pat:134"><span class="id" title="binder">a</span></a><a id="pat:134" class="idref" href="#pat:134"><span class="id" title="binder">,</span></a> <a id="pat:134" class="idref" href="#pat:134"><span class="id" title="binder">_</span></a><a id="pat:134" class="idref" href="#pat:134"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:133"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">memG</span></a> <a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">Σ</span></a>, <a id="H0:137" class="idref" href="#H0:137"><span class="id" title="binder">regG</span></a> <a id="H0:137" class="idref" href="#H0:137"><span class="id" title="binder">Σ</span></a>, <a id="NA:138" class="idref" href="#NA:138"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a>} <a id="rmap:139" class="idref" href="#rmap:139"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:139"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> @<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_own"><span class="id" title="definition">na_own</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:138"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:140" class="idref" href="#r:140"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:141" class="idref" href="#w:141"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:139"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:140"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:141"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:141"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:142" class="idref" href="#a:142"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:143" class="idref" href="#w:143"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:142"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:143"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:144" class="idref" href="#a:144"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:145" class="idref" href="#w:145"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:135"><span class="id" title="variable">prog_map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:144"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:145"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:129"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:127"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:131"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':130"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':128"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':128"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.adequacy.html#wp_invariance"><span class="id" title="definition">wp_invariance</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:147" class="idref" href="#c:147"><span class="id" title="binder">c</span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:146"><span class="id" title="variable">c</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_alloc"><span class="id" title="lemma">na_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#4db696db7c826beae150366e76dfd19e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">Hdisj</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_subseteq"><span class="id" title="lemma">big_sepM_subseteq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hprogadv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hprog Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">assumption</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">(</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">a</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">,</span></a> <a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">_</span></a><a id="pat:153" class="idref" href="#pat:153"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:148"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">prog_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_union_complement"><span class="id" title="lemma">map_filter_union_complement</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hprog"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hprog_inv Hprog]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_disjoint_filter_complement"><span class="id" title="lemma">map_disjoint_filter_complement</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv_alloc"><span class="id" title="lemma">inv_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hprog_inv]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region_dom"><span class="id" title="axiom">prog_region_dom</span></a>//. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.P"><span class="id" title="variable">P</span></a>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_filter_sub"><span class="id" title="axiom">map_filter_sub</span></a>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_delete"><span class="id" title="lemma">big_sepM_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_delete"><span class="id" title="lemma">big_sepM_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:156" class="idref" href="#r:156"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:157" class="idref" href="#w:157"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <span class="id" title="var">rmap</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:154"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:155"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:155"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_mono"><span class="id" title="lemma">big_sepM_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">feed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:159" class="idref" href="#r:159"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">reg</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:158"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">Hspec</span> <span class="id" title="var">rmap</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$HPC $Hr0 $Hreg $Hprog $Hadv $Hinv $Hna]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_delete_L"><span class="id" title="lemma">dom_delete_L</span></a> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="6d733b1b659b1451b713428138e97350" class="idref" href="#6d733b1b659b1451b713428138e97350"><span class="id" title="binder">σ</span></a> <a id="67a46213d628fe16b757cbb8feb04292" class="idref" href="#67a46213d628fe16b757cbb8feb04292"><span class="id" title="binder">κs</span></a> <span class="id" title="var">_</span> =&gt; (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#ed30a7df6ace31f68ea71d6053409f99"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#ed30a7df6ace31f68ea71d6053409f99"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem' Hmi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv.template_adequacy" class="idref" href="#with_adv.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:164" class="idref" href="#H:164"><span class="id" title="binder">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:165" class="idref" href="#P:165"><span class="id" title="binder">P</span></a> <a id="Adv:166" class="idref" href="#Adv:166"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="I:167" class="idref" href="#I:167"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:168" class="idref" href="#r_adv:168"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:169" class="idref" href="#m:169"><span class="id" title="binder">m</span></a> <a id="m':170" class="idref" href="#m':170"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:171" class="idref" href="#reg:171"><span class="id" title="binder">reg</span></a> <a id="reg':172" class="idref" href="#reg':172"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:173" class="idref" href="#es:173"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:169"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:171"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:168"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:174" class="idref" href="#w:174"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:174"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:167"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:169"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:167"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="prog_map:177" class="idref" href="#prog_map:177"><span class="id" title="binder">prog_map</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">(</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">a</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">,</span></a> <a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">_</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:175"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:167"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:179" class="idref" href="#H0:179"><span class="id" title="binder">memG</span></a> <a id="H0:179" class="idref" href="#H0:179"><span class="id" title="binder">Σ</span></a>, <a id="H1:180" class="idref" href="#H1:180"><span class="id" title="binder">regG</span></a> <a id="H1:180" class="idref" href="#H1:180"><span class="id" title="binder">Σ</span></a>, <a id="H2:181" class="idref" href="#H2:181"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H2:181" class="idref" href="#H2:181"><span class="id" title="binder">Σ</span></a>} <a id="rmap:182" class="idref" href="#rmap:182"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:182"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:168"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:167"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_own"><span class="id" title="definition">na_own</span></a> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:165"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:168"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:183" class="idref" href="#r:183"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:184" class="idref" href="#w:184"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:182"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:183"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:184"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:184"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:185" class="idref" href="#a:185"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:186" class="idref" href="#w:186"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:166"><span class="id" title="variable">Adv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:185"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:186"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:187" class="idref" href="#a:187"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:188" class="idref" href="#w:188"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_map:177"><span class="id" title="variable">prog_map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:188"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:171"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:169"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:173"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':172"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':170"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:167"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':170"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">#[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#d17c486acc3778a154f537facd0c2bab"><span class="id" title="definition">invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#b1086b00bafe3080063c17dfaac2bf69"><span class="id" title="definition">na_invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv"><span class="id" title="module">with_adv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="with_adv_and_link" class="idref" href="#with_adv_and_link"><span class="id" title="module">with_adv_and_link</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="with_adv_and_link.lib_entry" class="idref" href="#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a> := <span class="id" title="var">MkLibEntry</span> {<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.lib_start" class="idref" href="#with_adv_and_link.lib_start"><span class="id" title="projection">lib_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.lib_end" class="idref" href="#with_adv_and_link.lib_end"><span class="id" title="projection">lib_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.lib_entrypoint" class="idref" href="#with_adv_and_link.lib_entrypoint"><span class="id" title="projection">lib_entrypoint</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.lib_full_content" class="idref" href="#with_adv_and_link.lib_full_content"><span class="id" title="projection">lib_full_content</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.entry_points" class="idref" href="#with_adv_and_link.entry_points"><span class="id" title="definition">entry_points</span></a> (<a id="l:194" class="idref" href="#l:194"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="entry:195" class="idref" href="#entry:195"><span class="id" title="binder">entry</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#E"><span class="id" title="constructor">E</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_start"><span class="id" title="projection">lib_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:195"><span class="id" title="variable">entry</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_end"><span class="id" title="projection">lib_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:195"><span class="id" title="variable">entry</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entrypoint"><span class="id" title="projection">lib_entrypoint</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#entry:195"><span class="id" title="variable">entry</span></a>)) <a class="idref" href="cap_machine.examples.template_adequacy.html#l:194"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="with_adv_and_link.lib" class="idref" href="#with_adv_and_link.lib"><span class="id" title="record">lib</span></a> := <span class="id" title="var">MkLib</span> {<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.pub_libs" class="idref" href="#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a>;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.priv_libs" class="idref" href="#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="with_adv_and_link.tbl" class="idref" href="#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> {<a id="p:199" class="idref" href="#p:199"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>} {<a id="l:200" class="idref" href="#l:200"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a>} := <span class="id" title="var">MkTbl</span> {<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.prog_lower_bound" class="idref" href="#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.tbl_start" class="idref" href="#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.tbl_end" class="idref" href="#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.tbl_size" class="idref" href="#with_adv_and_link.tbl_size"><span class="id" title="projection">tbl_size</span></a> : (<a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:203"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:200"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:204"><span class="id" title="method">tbl_end</span></a> ;<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.tbl_prog_link" class="idref" href="#with_adv_and_link.tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> : (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound:202"><span class="id" title="method">prog_lower_bound</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:199"><span class="id" title="variable">p</span></a>) ;<br/>
<br/>
&nbsp;&nbsp;<a id="with_adv_and_link.tbl_disj" class="idref" href="#with_adv_and_link.tbl_disj"><span class="id" title="projection">tbl_disj</span></a> : <a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:203"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:204"><span class="id" title="method">tbl_end</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.entry_points"><span class="id" title="definition">entry_points</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:200"><span class="id" title="variable">l</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_lower_bound:202"><span class="id" title="method">prog_lower_bound</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:199"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:203"><span class="id" title="method">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_end:204"><span class="id" title="method">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#tbl_start:203"><span class="id" title="method">tbl_start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:199"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.tbl_region" class="idref" href="#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> {<a id="p:208" class="idref" href="#p:208"><span class="id" title="binder">p</span></a> <a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a>} (<a id="t:210" class="idref" href="#t:210"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:208"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:209"><span class="id" title="variable">l</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:210"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:210"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.entry_points"><span class="id" title="definition">entry_points</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:209"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.prog_lower_bound_region" class="idref" href="#with_adv_and_link.prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> {<a id="l:211" class="idref" href="#l:211"><span class="id" title="binder">l</span></a>} (<a id="p:212" class="idref" href="#p:212"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:213" class="idref" href="#t:213"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:212"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:211"><span class="id" title="variable">l</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:213"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:212"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:213"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:213"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:213"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:212"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.prog_tbl_region" class="idref" href="#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> {<a id="l:214" class="idref" href="#l:214"><span class="id" title="binder">l</span></a>} (<a id="p:215" class="idref" href="#p:215"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:216" class="idref" href="#t:216"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:214"><span class="id" title="variable">l</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:216"><span class="id" title="variable">t</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:216"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.prog_lower_bound_region_cons" class="idref" href="#with_adv_and_link.prog_lower_bound_region_cons"><span class="id" title="lemma">prog_lower_bound_region_cons</span></a> {<a id="l:217" class="idref" href="#l:217"><span class="id" title="binder">l</span></a>} (<a id="p:218" class="idref" href="#p:218"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="t:219" class="idref" href="#t:219"><span class="id" title="binder">t</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:218"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:217"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:218"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">):=</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">prog_region</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:218"><span class="id" title="variable">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#t:219"><span class="id" title="variable">t</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound_region"><span class="id" title="definition">prog_lower_bound_region</span></a> /<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_singleton"><span class="id" title="axiom">finz_seq_between_singleton</span></a>// <span class="id" title="var">e</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_empty"><span class="id" title="axiom">finz_seq_between_empty</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_size"><span class="id" title="projection">prog_size</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <span class="id" title="var">p</span> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <span class="id" title="var">p</span>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="axiom">finz_seq_between_cons</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <span class="id" title="var">t</span>));[|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.addr_reg.html#addr_incr_eq"><span class="id" title="abbreviation">addr_incr_eq</span></a> <span class="id" title="var">Ht</span>) /=. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> /<a class="idref" href="cap_machine.examples.mkregion_helpers.html#mkregion"><span class="id" title="definition">mkregion</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#not_elem_of_list_to_map"><span class="id" title="lemma">not_elem_of_list_to_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fst_zip"><span class="id" title="lemma">fst_zip</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#not_elem_of_finz_seq_between"><span class="id" title="axiom">not_elem_of_finz_seq_between</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_length"><span class="id" title="lemma">finz_seq_between_length</span></a> /<a class="idref" href="machine_utils.finz_interval.html#finz.dist"><span class="id" title="definition">finz.dist</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="with_adv_and_link.lib_region" class="idref" href="#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a id="l:220" class="idref" href="#l:220"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_entry"><span class="id" title="record">lib_entry</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:220"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.examples.addr_reg_sample.html#e"><span class="id" title="definition">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_full_content"><span class="id" title="projection">lib_full_content</span></a> <span class="id" title="var">e</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#lib_region:221"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:220"><span class="id" title="variable">l</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.lib_region_app" class="idref" href="#with_adv_and_link.lib_region_app"><span class="id" title="lemma">lib_region_app</span></a> <a id="l1:223" class="idref" href="#l1:223"><span class="id" title="binder">l1</span></a> <a id="l2:224" class="idref" href="#l2:224"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#l1:223"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l2:224"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l1:223"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l2:224"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_empty_union"><span class="id" title="instance">map_empty_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IHl1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_union_assoc"><span class="id" title="instance">map_union_assoc</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.tbl_pub" class="idref" href="#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> (<a id="p:225" class="idref" href="#p:225"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="l:226" class="idref" href="#l:226"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) := @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:225"><span class="id" title="variable">p</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:226"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.tbl_priv" class="idref" href="#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> (<a id="p:227" class="idref" href="#p:227"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="l:228" class="idref" href="#l:228"><span class="id" title="binder">l</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) := @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl"><span class="id" title="record">tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#p:227"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:228"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#l:228"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.is_initial_registers" class="idref" href="#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> (<a id="P:229" class="idref" href="#P:229"><span class="id" title="binder">P</span></a> <a id="Adv:230" class="idref" href="#Adv:230"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:231" class="idref" href="#Lib:231"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:232" class="idref" href="#P_tbl:232"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:229"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:231"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:233" class="idref" href="#Adv_tbl:233"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:230"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:231"><span class="id" title="variable">Lib</span></a>) (<a id="reg:234" class="idref" href="#reg:234"><span class="id" title="binder">reg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="r_adv:235" class="idref" href="#r_adv:235"><span class="id" title="binder">r_adv</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:234"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:232"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:229"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:229"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:234"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:235"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:233"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:230"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:230"><span class="id" title="variable">Adv</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:235"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="r:236" class="idref" href="#r:236"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:236"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:235"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="w:237" class="idref" href="#w:237"><span class="id" title="binder">w</span></a>:<a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:234"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:236"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:237"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:237"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.initial_registers_full_map" class="idref" href="#with_adv_and_link.initial_registers_full_map"><span class="id" title="lemma">initial_registers_full_map</span></a> (<a id="P:238" class="idref" href="#P:238"><span class="id" title="binder">P</span></a> <a id="Adv:239" class="idref" href="#Adv:239"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:240" class="idref" href="#Lib:240"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:241" class="idref" href="#P_tbl:241"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:238"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:240"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:242" class="idref" href="#Adv_tbl:242"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:239"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:240"><span class="id" title="variable">Lib</span></a>) <a id="reg:243" class="idref" href="#reg:243"><span class="id" title="binder">reg</span></a> <a id="r_adv:244" class="idref" href="#r_adv:244"><span class="id" title="binder">r_adv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:238"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:239"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:240"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:241"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:242"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:243"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:244"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:245" class="idref" href="#r:245"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#reg:243"><span class="id" title="variable">reg</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:245"><span class="id" title="variable">r</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hothers</span>) <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r_adv</span>)) <span class="id" title="keyword">as</span> [-&gt;|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; ? &amp; ?); [| <span class="id" title="tactic">eauto</span>]. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.is_initial_memory" class="idref" href="#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> (<a id="P:246" class="idref" href="#P:246"><span class="id" title="binder">P</span></a> <a id="Adv:247" class="idref" href="#Adv:247"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:248" class="idref" href="#Lib:248"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:249" class="idref" href="#P_tbl:249"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:250" class="idref" href="#Adv_tbl:250"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:247"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a>) (<a id="m:251" class="idref" href="#m:251"><span class="id" title="binder">m</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:249"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:251"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:247"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:250"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:251"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:251"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:249"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:247"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:250"><span class="id" title="variable">Adv_tbl</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:246"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:249"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:247"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:250"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:248"><span class="id" title="variable">Lib</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.initial_memory_domain" class="idref" href="#with_adv_and_link.initial_memory_domain"><span class="id" title="definition">initial_memory_domain</span></a> (<a id="P:252" class="idref" href="#P:252"><span class="id" title="binder">P</span></a> <a id="Adv:253" class="idref" href="#Adv:253"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:254" class="idref" href="#Lib:254"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>) (<a id="P_tbl:255" class="idref" href="#P_tbl:255"><span class="id" title="binder">P_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:252"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:254"><span class="id" title="variable">Lib</span></a>) (<a id="Adv_tbl:256" class="idref" href="#Adv_tbl:256"><span class="id" title="binder">Adv_tbl</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:253"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:254"><span class="id" title="variable">Lib</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:252"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:255"><span class="id" title="variable">P_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:253"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:256"><span class="id" title="variable">Adv_tbl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:254"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:254"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_adv_and_link.Adequacy" class="idref" href="#with_adv_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="d6611e95b2ae2e50ea08ba3a2d60dea1" class="idref" href="#d6611e95b2ae2e50ea08ba3a2d60dea1"><span class="id" title="binder">Σ</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="inv_preg:258" class="idref" href="#inv_preg:258"><span class="id" title="binder">inv_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#invGpreS"><span class="id" title="class">invGpreS</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mem_preg:259" class="idref" href="#mem_preg:259"><span class="id" title="binder">mem_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="reg_preg:260" class="idref" href="#reg_preg:260"><span class="id" title="binder">reg_preg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heapGpreS"><span class="id" title="class">gen_heapGpreS</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="na_invg:261" class="idref" href="#na_invg:261"><span class="id" title="binder">na_invg</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_invG"><span class="id" title="class">na_invG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="MP:262" class="idref" href="#MP:262"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P:263" class="idref" href="#P:263"><span class="id" title="binder">P</span></a> <a id="Adv:264" class="idref" href="#Adv:264"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Lib:265" class="idref" href="#Lib:265"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="P_tbl:266" class="idref" href="#P_tbl:266"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Adv_tbl:267" class="idref" href="#Adv_tbl:267"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="I:268" class="idref" href="#I:268"><span class="id" title="binder">I</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="r_adv:269" class="idref" href="#r_adv:269"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="with_adv_and_link.invN" class="idref" href="#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nroot"><span class="id" title="definition">nroot</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "templateadequacy" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#e79e436c08f66d063bd17fb4bcd1cac6"><span class="id" title="notation">.@</span></a> "inv".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="with_adv_and_link.template_adequacy'" class="idref" href="#with_adv_and_link.template_adequacy'"><span class="id" title="lemma">template_adequacy'</span></a> `{<a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">subG</span></a> <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">Σ'</span></a> <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">Σ</span></a>} (<a id="m:272" class="idref" href="#m:272"><span class="id" title="binder">m</span></a> <a id="m':273" class="idref" href="#m':273"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:274" class="idref" href="#reg:274"><span class="id" title="binder">reg</span></a> <a id="reg':275" class="idref" href="#reg':275"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:276" class="idref" href="#es:276"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:272"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:274"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:277" class="idref" href="#w:277"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:277"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:272"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:281" class="idref" href="#filtered_map:281"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:278" class="idref" href="#m:278"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">(</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">a</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">,</span></a> <a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">_</span></a><a id="pat:280" class="idref" href="#pat:280"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:279"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:278"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:282" class="idref" href="#H0:282"><span class="id" title="binder">memG</span></a> <a id="H0:282" class="idref" href="#H0:282"><span class="id" title="binder">Σ</span></a>, <a id="H1:283" class="idref" href="#H1:283"><span class="id" title="binder">regG</span></a> <a id="H1:283" class="idref" href="#H1:283"><span class="id" title="binder">Σ</span></a>, <a id="NA:284" class="idref" href="#NA:284"><span class="id" title="binder">NA</span></a>: <a class="idref" href="cap_machine.logrel.html#logrel_na_invs"><span class="id" title="class">logrel_na_invs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a>, <a id="H2:285" class="idref" href="#H2:285"><span class="id" title="binder">subG</span></a> <a id="H2:285" class="idref" href="#H2:285"><span class="id" title="binder">Σ'</span></a> <a id="H2:285" class="idref" href="#H2:285"><span class="id" title="binder">Σ</span></a>} <a id="rmap:286" class="idref" href="#rmap:286"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:286"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> @<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_own"><span class="id" title="definition">na_own</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="cap_machine.logrel.html#logrel_na_invG"><span class="id" title="method">logrel_na_invG</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#NA:284"><span class="id" title="variable">NA</span></a>) <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <span class="comment">(*XXX*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:287" class="idref" href="#r:287"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:288" class="idref" href="#w:288"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:286"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:287"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:288"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:288"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:289" class="idref" href="#a:289"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:290" class="idref" href="#w:290"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:289"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:290"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:291" class="idref" href="#a:291"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:292" class="idref" href="#w:292"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:291"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:292"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:293" class="idref" href="#a:293"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:294" class="idref" href="#w:294"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:293"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:294"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:295" class="idref" href="#a:295"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:296" class="idref" href="#w:296"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:295"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:296"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:297" class="idref" href="#a:297"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:298" class="idref" href="#w:298"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:297"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:298"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:299" class="idref" href="#a:299"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:300" class="idref" href="#w:300"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:281"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:299"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:300"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:274"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:272"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:276"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':275"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':273"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':273"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hadv</span> <span class="id" title="var">HI</span> <span class="id" title="var">HIdom</span> <span class="id" title="var">prog_map</span> <span class="id" title="var">Hspec</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.adequacy.html#wp_invariance"><span class="id" title="definition">wp_invariance</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.cap_lang.html#cap_lang"><span class="id" title="definition">cap_lang</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">WPI</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="c:302" class="idref" href="#c:302"><span class="id" title="binder">c</span></a>:<a class="idref" href="cap_machine.cap_lang.html#ExecConf"><span class="id" title="definition">ExecConf</span></a>) =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#c:301"><span class="id" title="variable">c</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_is_good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WPI</span> (<a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">es</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">state_is_good</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">reg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WPI</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">κs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">WPI</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_heapg</span>) "(Hmem_ctx &amp; Hmem &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> (<span class="id" title="var">reg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a><a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">reg_heapg</span>) "(Hreg_ctx &amp; Hreg &amp; _)" .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_alloc"><span class="id" title="lemma">na_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">logrel_nais</span>) "Hna".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">memg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#MemG"><span class="id" title="constructor">MemG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">mem_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">regg</span> := <a class="idref" href="cap_machine.rules.rules_base.html#RegG"><span class="id" title="constructor">RegG</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#9e646ca1763983acf2c68977b48036aa"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Hinv</span> <span class="id" title="var">reg_heapg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">logrel_na_invs</span> := <a class="idref" href="cap_machine.logrel.html#Build_logrel_na_invs"><span class="id" title="constructor">Build_logrel_na_invs</span></a> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.na_invg"><span class="id" title="variable">na_invg</span></a> <span class="id" title="var">logrel_nais</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hspec</span> <span class="id" title="var">memg</span> <span class="id" title="var">regg</span> <span class="id" title="var">logrel_na_invs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HM</span> &amp; <span class="id" title="var">HA</span> &amp; <span class="id" title="var">HL</span> &amp; (<span class="id" title="var">Hdisj1</span> &amp; <span class="id" title="var">Hdisj2</span> &amp; <span class="id" title="var">Hdisj3</span> &amp; <span class="id" title="var">Hdisj4</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_subseteq"><span class="id" title="lemma">big_sepM_subseteq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Hprogadv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_tbl_region"><span class="id" title="definition">prog_tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hprogadv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hprog Hlib]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>;<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hprog"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hp Hadv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_disj"><span class="id" title="projection">tbl_disj</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdisjtbl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_prog_link"><span class="id" title="projection">tbl_prog_link</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlink2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hp Hp_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hadv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hadv Hadv_tbl]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlib"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlib_pub Hlib_priv]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_in_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:308" class="idref" href="#pat:308"><span class="id" title="binder">(</span></a><a id="pat:308" class="idref" href="#pat:308"><span class="id" title="binder">a</span></a><a id="pat:308" class="idref" href="#pat:308"><span class="id" title="binder">,</span></a> <a id="pat:308" class="idref" href="#pat:308"><span class="id" title="binder">_</span></a><a id="pat:308" class="idref" href="#pat:308"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:303"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">prog_nin_inv</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:314" class="idref" href="#pat:314"><span class="id" title="binder">(</span></a><a id="pat:314" class="idref" href="#pat:314"><span class="id" title="binder">a</span></a><a id="pat:314" class="idref" href="#pat:314"><span class="id" title="binder">,</span></a> <a id="pat:314" class="idref" href="#pat:314"><span class="id" title="binder">_</span></a><a id="pat:314" class="idref" href="#pat:314"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:309"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prog_in_inv</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">prog_nin_inv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_filter_union_complement"><span class="id" title="lemma">map_filter_union_complement</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_union"><span class="id" title="lemma">big_sepM_union</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hlib_priv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlib_inv Hlib_priv]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_disjoint_filter_complement"><span class="id" title="lemma">map_disjoint_filter_complement</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv_alloc"><span class="id" title="lemma">inv_alloc</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hlib_inv]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#Hinv".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iNext</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iExists</span> <span class="id" title="var">prog_in_inv</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.I"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">HIdom</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_restrict"><span class="id" title="axiom">minv_sub_restrict</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">HI</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#filter_dom_is_dom"><span class="id" title="axiom">filter_dom_is_dom</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">prog_in_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.stdpp_extra.html#map_filter_sub"><span class="id" title="axiom">map_filter_sub</span></a>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Lib"><span class="id" title="variable">Lib</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region_app"><span class="id" title="axiom">lib_region_app</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_union_subseteq_r"><span class="id" title="lemma">map_union_subseteq_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">HPC</span> &amp; <span class="id" title="var">Hr0</span> &amp; <span class="id" title="var">Hne</span> &amp; <span class="id" title="var">Hrothers</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_delete"><span class="id" title="lemma">big_sepM_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[HPC Hreg]"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_delete"><span class="id" title="lemma">big_sepM_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hr0 Hreg]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">rmap</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <span class="id" title="var">reg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:317" class="idref" href="#r:317"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:318" class="idref" href="#w:318"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <span class="id" title="var">rmap</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:315"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:316"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:316"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> "[Hreg]" <span class="id" title="keyword">as</span> "Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_mono"><span class="id" title="lemma">big_sepM_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hreg"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">w</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">feed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [? (? &amp; ?)]. <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="var">iIntros</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="r:320" class="idref" href="#r:320"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">reg</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:319"><span class="id" title="variable">r</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreg_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.r_adv"><span class="id" title="variable">r_adv</span></a>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrothers</span> <span class="id" title="var">r</span>) <span class="id" title="keyword">as</span> [? [? ?] ]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">set_solver</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.P_tbl"><span class="id" title="variable">P_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqP</span> <span class="id" title="var">HNoneP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound_region_cons"><span class="id" title="axiom">prog_lower_bound_region_cons</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy.Adv_tbl"><span class="id" title="variable">Adv_tbl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAdv</span> <span class="id" title="var">HNoneAdv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP</span> <span class="id" title="var">HeqAdv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlinkp Hp]";[<span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepM_insert"><span class="id" title="lemma">big_sepM_insert</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hadv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hlinkadv Hadv]";[<span class="id" title="tactic">auto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">Hspec</span> <span class="id" title="var">_</span> <span class="id" title="var">rmap</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$HPC $Hr0 $Hreg $Hlinkp $Hp $Hlinkadv $Hadv $Hp_tbl $Hadv_tbl $Hlib_pub $Hlib_priv $Hinv $Hna]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Spec".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">rmap</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_map_dom.html#dom_delete_L"><span class="id" title="lemma">dom_delete_L</span></a> <a class="idref" href="cap_machine.addr_reg.html#regmap_full_dom"><span class="id" title="axiom">regmap_full_dom</span></a>. <span class="id" title="var">set_solver</span>+. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreg_full</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <a id="8347a874f5bbaf2f97103be5f9278334" class="idref" href="#8347a874f5bbaf2f97103be5f9278334"><span class="id" title="binder">σ</span></a> <a id="167a723575bd20b7a0c8253b2c9f41d4" class="idref" href="#167a723575bd20b7a0c8253b2c9f41d4"><span class="id" title="binder">κs</span></a> <span class="id" title="var">_</span> =&gt; (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#6eb0b20e8cb6ee64853408bd3ef6873c"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#gen_heap_interp"><span class="id" title="definition">gen_heap_interp</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#6eb0b20e8cb6ee64853408bd3ef6873c"><span class="id" title="variable">σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>)%<span class="id" title="var">I</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hreg' Hmem']". <span class="id" title="var">iExists</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iInv</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> <span class="id" title="keyword">as</span> "&gt;Hx" "_".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a>. <span class="id" title="var">iDestruct</span> "Hx" <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span>) "(Hmi &amp; Hmi_dom &amp; %)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hmi_dom" <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.rules.rules_base.html#gen_heap_valid_inclSepM"><span class="id" title="axiom">gen_heap_valid_inclSepM</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hmem' Hmi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hmi_incl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">state_is_good</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sub_extend"><span class="id" title="axiom">minv_sub_extend</span></a>; [| |<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmi_dom</span> //. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.Adequacy"><span class="id" title="section">Adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="with_adv_and_link.template_adequacy" class="idref" href="#with_adv_and_link.template_adequacy"><span class="id" title="lemma">template_adequacy</span></a> `{<a id="H:325" class="idref" href="#H:325"><span class="id" title="binder">MachineParameters</span></a>} (<a id="4a71d8014be45b8930cc05a0c5ed961a" class="idref" href="#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="record">gFunctors</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:327" class="idref" href="#P:327"><span class="id" title="binder">P</span></a> <a id="Adv:328" class="idref" href="#Adv:328"><span class="id" title="binder">Adv</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#prog"><span class="id" title="record">prog</span></a>) (<a id="Lib:329" class="idref" href="#Lib:329"><span class="id" title="binder">Lib</span></a> : <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib"><span class="id" title="record">lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_tbl:330" class="idref" href="#P_tbl:330"><span class="id" title="binder">P_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_priv"><span class="id" title="definition">tbl_priv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Adv_tbl:331" class="idref" href="#Adv_tbl:331"><span class="id" title="binder">Adv_tbl</span></a> : @<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_pub"><span class="id" title="definition">tbl_pub</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a>) (<a id="I:332" class="idref" href="#I:332"><span class="id" title="binder">I</span></a>: <a class="idref" href="cap_machine.examples.template_adequacy.html#memory_inv"><span class="id" title="record">memory_inv</span></a>) (<a id="r_adv:333" class="idref" href="#r_adv:333"><span class="id" title="binder">r_adv</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:334" class="idref" href="#m:334"><span class="id" title="binder">m</span></a> <a id="m':335" class="idref" href="#m':335"><span class="id" title="binder">m'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:336" class="idref" href="#reg:336"><span class="id" title="binder">reg</span></a> <a id="reg':337" class="idref" href="#reg':337"><span class="id" title="binder">reg'</span></a>: <a class="idref" href="cap_machine.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="es:338" class="idref" href="#es:338"><span class="id" title="binder">es</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.cap_lang.html#expr"><span class="id" title="inductive">cap_lang.expr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_memory"><span class="id" title="definition">is_initial_memory</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:334"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.is_initial_registers"><span class="id" title="definition">is_initial_registers</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#reg:336"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:333"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:339" class="idref" href="#w:339"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:339"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_instrs"><span class="id" title="projection">prog_instrs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:332"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:334"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:332"><span class="id" title="variable">I</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="filtered_map:343" class="idref" href="#filtered_map:343"><span class="id" title="binder">filtered_map</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="m:340" class="idref" href="#m:340"><span class="id" title="binder">m</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:342" class="idref" href="#pat:342"><span class="id" title="binder">(</span></a><a id="pat:342" class="idref" href="#pat:342"><span class="id" title="binder">a</span></a><a id="pat:342" class="idref" href="#pat:342"><span class="id" title="binder">,</span></a> <a id="pat:342" class="idref" href="#pat:342"><span class="id" title="binder">_</span></a><a id="pat:342" class="idref" href="#pat:342"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="cap_machine.examples.template_adequacy.html#a:341"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#minv_dom"><span class="id" title="projection">minv_dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:332"><span class="id" title="variable">I</span></a>) <a class="idref" href="cap_machine.examples.template_adequacy.html#m:340"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="H0:345" class="idref" href="#H0:345"><span class="id" title="binder">memG</span></a> <a id="H0:345" class="idref" href="#H0:345"><span class="id" title="binder">Σ'</span></a>, <a id="H1:346" class="idref" href="#H1:346"><span class="id" title="binder">regG</span></a> <a id="H1:346" class="idref" href="#H1:346"><span class="id" title="binder">Σ'</span></a>, <a id="H2:347" class="idref" href="#H2:347"><span class="id" title="binder">logrel_na_invs</span></a> <a id="H2:347" class="idref" href="#H2:347"><span class="id" title="binder">Σ'</span></a>, <a id="H3:348" class="idref" href="#H3:348"><span class="id" title="binder">subG</span></a> <a id="H3:348" class="idref" href="#H3:348"><span class="id" title="binder">Σ</span></a> <a id="H3:348" class="idref" href="#H3:348"><span class="id" title="binder">Σ'</span></a>} <a id="rmap:349" class="idref" href="#rmap:349"><span class="id" title="binder">rmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:349"><span class="id" title="variable">rmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">{[</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:333"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bebef1a62e28683a8f3abfde589fcd1d"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.invN"><span class="id" title="definition">invN</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#minv_sep"><span class="id" title="definition">minv_sep</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:332"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#na_own"><span class="id" title="definition">na_own</span></a> <a class="idref" href="cap_machine.logrel.html#logrel_nais"><span class="id" title="method">logrel_nais</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r_adv:333"><span class="id" title="variable">r_adv</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_end"><span class="id" title="projection">prog_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#prog_start"><span class="id" title="projection">prog_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="r:350" class="idref" href="#r:350"><span class="id" title="binder">r</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:351" class="idref" href="#w:351"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#rmap:349"><span class="id" title="variable">rmap</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#r:350"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#db884c99aed36a9ddaddcd7edc424755"><span class="id" title="notation">↦ᵣ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:351"><span class="id" title="variable">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="cap_machine.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:351"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;P&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:352" class="idref" href="#a:352"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:353" class="idref" href="#w:353"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P_tbl:330"><span class="id" title="variable">P_tbl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:352"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:353"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:354" class="idref" href="#a:354"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:355" class="idref" href="#w:355"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#P:327"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:354"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:355"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Adv&nbsp;program&nbsp;and&nbsp;table&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.prog_lower_bound"><span class="id" title="projection">prog_lower_bound</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.machine_base.html#WCap"><span class="id" title="constructor">WCap</span></a> <a class="idref" href="cap_machine.machine_base.html#RO"><span class="id" title="constructor">RO</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_end"><span class="id" title="projection">tbl_end</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a>) (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_start"><span class="id" title="projection">tbl_start</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a>)<a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:356" class="idref" href="#a:356"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:357" class="idref" href="#w:357"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.tbl_region"><span class="id" title="definition">tbl_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv_tbl:331"><span class="id" title="variable">Adv_tbl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:356"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:357"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:358" class="idref" href="#a:358"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:359" class="idref" href="#w:359"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#prog_region"><span class="id" title="definition">prog_region</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Adv:328"><span class="id" title="variable">Adv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:358"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:359"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;filtered&nbsp;entries&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:360" class="idref" href="#a:360"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:361" class="idref" href="#w:361"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.pub_libs"><span class="id" title="projection">pub_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:360"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:361"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <a id="a:362" class="idref" href="#a:362"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a><a id="w:363" class="idref" href="#w:363"><span class="id" title="binder">w</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#filtered_map:343"><span class="id" title="variable">filtered_map</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.lib_region"><span class="id" title="definition">lib_region</span></a> (<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.priv_libs"><span class="id" title="projection">priv_libs</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#Lib:329"><span class="id" title="variable">Lib</span></a>))<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#a:362"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#w:363"><span class="id" title="variable">w</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">WP</span></a> <a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">{{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#7cc0c88f7179b685cc79734f30ca004b"><span class="id" title="notation">}}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.cap_lang.html#Seq"><span class="id" title="constructor">Seq</span></a> (<a class="idref" href="cap_machine.cap_lang.html#Instr"><span class="id" title="constructor">Instr</span></a> <a class="idref" href="cap_machine.cap_lang.html#Executable"><span class="id" title="constructor">Executable</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg:336"><span class="id" title="variable">reg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m:334"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#es:338"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.examples.template_adequacy.html#reg':337"><span class="id" title="variable">reg'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':335"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.examples.template_adequacy.html#minv"><span class="id" title="projection">minv</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#I:332"><span class="id" title="variable">I</span></a> <a class="idref" href="cap_machine.examples.template_adequacy.html#m':335"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">#[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#d17c486acc3778a154f537facd0c2bab"><span class="id" title="definition">invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.na_invariants.html#b1086b00bafe3080063c17dfaac2bf69"><span class="id" title="definition">na_invΣ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a> <span class="id" title="var">Σ</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link.template_adequacy'"><span class="id" title="axiom">template_adequacy'</span></a> <span class="id" title="var">Σ'</span>); <span class="id" title="tactic">eauto</span>; <span class="comment">(*&nbsp;rewrite&nbsp;/invGpreS.&nbsp;solve_inG.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.examples.template_adequacy.html#with_adv_and_link"><span class="id" title="module">with_adv_and_link</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
