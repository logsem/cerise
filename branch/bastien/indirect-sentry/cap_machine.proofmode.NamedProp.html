<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.proofmode.NamedProp</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span> <span class="id" title="library">environments</span> <span class="id" title="library">intro_patterns</span> <span class="id" title="library">string_ident</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="comment">(*&nbsp;NamedProps&nbsp;implements&nbsp;<span class="inlinecode"><span class="id" title="var">named</span></span> <span class="inlinecode"><span class="id" title="var">name</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span>,&nbsp;which&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;P&nbsp;but&nbsp;knows&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;name&nbsp;itself&nbsp;<span class="inlinecode"><span class="id" title="var">name</span></span>&nbsp;when&nbsp;iIntro'd.&nbsp;The&nbsp;syntax&nbsp;looks&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="var">name</span></span> <span class="inlinecode">∷</span> <span class="inlinecode"><span class="id" title="var">P</span></span>,&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;analogy&nbsp;to&nbsp;in&nbsp;Gallina&nbsp;where&nbsp;you&nbsp;might&nbsp;write&nbsp;<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode">(<span class="id" title="var">Hfoo</span>:</span> <span class="inlinecode">3</span> <span class="inlinecode">&lt;</span> <span class="inlinecode">4),</span> <span class="inlinecode">...</span>&nbsp;for&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;hypothesis&nbsp;that&nbsp;would&nbsp;be&nbsp;introduced&nbsp;as&nbsp;`Hfoo`&nbsp;using&nbsp;automatic&nbsp;names.<br/>
<br/>
&nbsp;&nbsp;To&nbsp;use&nbsp;this&nbsp;library,&nbsp;write&nbsp;your&nbsp;definitions&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">name</span></span> <span class="inlinecode">∷</span> <span class="inlinecode"><span class="id" title="var">P</span></span>&nbsp;for&nbsp;each&nbsp;conjunct.<br/>
&nbsp;&nbsp;Then,&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span> <span class="inlinecode">&quot;<span class="id" title="var">H</span>&quot;</span>&nbsp;to&nbsp;destruct&nbsp;an&nbsp;invariant&nbsp;"H"&nbsp;into&nbsp;its&nbsp;conjuncts,&nbsp;using<br/>
&nbsp;&nbsp;their&nbsp;specified&nbsp;names.&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span>&nbsp;also&nbsp;introduces&nbsp;existentials&nbsp;with&nbsp;the&nbsp;names<br/>
&nbsp;&nbsp;for&nbsp;the&nbsp;Coq&nbsp;binders.<br/>
<br/>
&nbsp;&nbsp;The&nbsp;names&nbsp;in&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">named</span></span>&nbsp;are&nbsp;not&nbsp;actually&nbsp;names&nbsp;but&nbsp;full-blown&nbsp;Iris&nbsp;intro<br/>
&nbsp;&nbsp;patterns.&nbsp;This&nbsp;means&nbsp;you&nbsp;can&nbsp;write&nbsp;<span class="inlinecode">#<span class="id" title="var">H</span></span>&nbsp;to&nbsp;automatically&nbsp;introduce&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;persistent&nbsp;context,&nbsp;<span class="inlinecode">%<span class="id" title="var">H</span></span>&nbsp;to&nbsp;name&nbsp;a&nbsp;pure&nbsp;fact&nbsp;(using&nbsp;string_to_ident),&nbsp;or&nbsp;even<br/>
&nbsp;&nbsp;something&nbsp;crazy&nbsp;like&nbsp;<span class="inlinecode">&quot;[&lt;-</span> <span class="inlinecode"><span class="id" title="var">H</span>]&quot;</span>&nbsp;to&nbsp;destruct&nbsp;the&nbsp;hypothesis&nbsp;and&nbsp;rewrite&nbsp;by&nbsp;the<br/>
&nbsp;&nbsp;first&nbsp;conjunct.<br/>
<br/>
&nbsp;&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;more&nbsp;top-level&nbsp;tactics&nbsp;provided&nbsp;to&nbsp;work&nbsp;with&nbsp;named<br/>
&nbsp;&nbsp;propositions:<br/>
&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span>&nbsp;names&nbsp;any&nbsp;anonymous&nbsp;hypotheses&nbsp;(without&nbsp;destructing&nbsp;them)<br/>
&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span> <span class="inlinecode">1</span>&nbsp;on&nbsp;a&nbsp;wand&nbsp;introduces&nbsp;and&nbsp;destructs&nbsp;the&nbsp;premise.<br/>
&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">iNamedAccu</span></span>&nbsp;is&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="var">iAccu</span></span>&nbsp;-&nbsp;it&nbsp;solves&nbsp;a&nbsp;goal&nbsp;which&nbsp;is&nbsp;an&nbsp;evar&nbsp;with&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;conjunction&nbsp;of&nbsp;all&nbsp;the&nbsp;hypotheses&nbsp;-&nbsp;but&nbsp;produces&nbsp;a&nbsp;conjunction&nbsp;of&nbsp;named<br/>
&nbsp;&nbsp;&nbsp;&nbsp;hypotheses.&nbsp;This&nbsp;is&nbsp;especially&nbsp;useful&nbsp;when&nbsp;that&nbsp;evar&nbsp;?Q&nbsp;shows&nbsp;up&nbsp;as&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;premise&nbsp;in&nbsp;a&nbsp;wand,&nbsp;<span class="inlinecode">?<span class="id" title="var">Q</span></span> <span class="inlinecode">-∗</span> <span class="inlinecode">...</span>,&nbsp;at&nbsp;which&nbsp;point&nbsp;you&nbsp;can&nbsp;do&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span> <span class="inlinecode">1</span>&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;restore&nbsp;the&nbsp;context,&nbsp;including&nbsp;all&nbsp;the&nbsp;names.<br/>
&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">iFrameNamed</span></span>&nbsp;is&nbsp;a&nbsp;work-in-progress&nbsp;tactic&nbsp;to&nbsp;frame&nbsp;a&nbsp;goal&nbsp;with&nbsp;named<br/>
&nbsp;&nbsp;&nbsp;&nbsp;conjuncts&nbsp;with&nbsp;the&nbsp;hypotheses&nbsp;using&nbsp;the&nbsp;names.&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;much<br/>
&nbsp;&nbsp;&nbsp;&nbsp;faster&nbsp;than&nbsp;framing&nbsp;the&nbsp;entire&nbsp;persistent&nbsp;and&nbsp;spatial&nbsp;contexts.<br/>
<br/>
&nbsp;&nbsp;Note&nbsp;that&nbsp;this&nbsp;library&nbsp;provides&nbsp;general&nbsp;support&nbsp;for&nbsp;propositions&nbsp;and&nbsp;is&nbsp;not<br/>
&nbsp;&nbsp;specific&nbsp;to&nbsp;definitions.&nbsp;You&nbsp;can&nbsp;use&nbsp;named&nbsp;hypotheses&nbsp;in&nbsp;Hoare&nbsp;logic<br/>
&nbsp;&nbsp;preconditions&nbsp;(to&nbsp;make&nbsp;the&nbsp;first&nbsp;iIntros&nbsp;more&nbsp;stable),&nbsp;in&nbsp;the&nbsp;postcondition<br/>
&nbsp;&nbsp;(to&nbsp;make&nbsp;it&nbsp;easier&nbsp;for&nbsp;the&nbsp;caller&nbsp;to&nbsp;re-introduce&nbsp;hypotheses),&nbsp;or&nbsp;in&nbsp;loop<br/>
&nbsp;&nbsp;invariants&nbsp;(to&nbsp;serve&nbsp;both&nbsp;of&nbsp;these&nbsp;purposes).&nbsp;If&nbsp;they&nbsp;ever&nbsp;get&nbsp;in&nbsp;the&nbsp;way&nbsp;you<br/>
&nbsp;&nbsp;can&nbsp;always&nbsp;<span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> <span class="inlinecode">/<span class="id" title="var">named</span></span>&nbsp;to&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;names.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Named&nbsp;props&nbsp;are&nbsp;just&nbsp;the&nbsp;underlying&nbsp;prop.&nbsp;We&nbsp;used&nbsp;to&nbsp;have&nbsp;this&nbsp;sealed,&nbsp;but&nbsp;it<br/>
turns&nbsp;out&nbsp;that&nbsp;this&nbsp;inconveniently&nbsp;required&nbsp;many&nbsp;forwarding&nbsp;typeclass&nbsp;instances<br/>
(for&nbsp;things&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="var">IntoPure</span></span>,&nbsp;<span class="inlinecode"><span class="id" title="var">Persistent</span></span>,&nbsp;and&nbsp;framing)&nbsp;and&nbsp;we&nbsp;didn't&nbsp;run&nbsp;into<br/>
any&nbsp;issues&nbsp;making&nbsp;it&nbsp;completely&nbsp;transparent.<br/>
<br/>
For&nbsp;efficiency&nbsp;reasons,&nbsp;don't&nbsp;even&nbsp;bother&nbsp;requiring&nbsp;P&nbsp;to&nbsp;be&nbsp;a&nbsp;PROP&nbsp;(this<br/>
introduces&nbsp;an&nbsp;extra&nbsp;coercion&nbsp;to&nbsp;the&nbsp;carrier)&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="named" class="idref" href="#named"><span class="id" title="definition">named</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>} (<a id="name:2" class="idref" href="#name:2"><span class="id" title="binder">name</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="P:3" class="idref" href="#P:3"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#A:1"><span class="id" title="variable">A</span></a>): <a class="idref" href="cap_machine.proofmode.NamedProp.html#A:1"><span class="id" title="variable">A</span></a> := <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:3"><span class="id" title="variable">P</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="named" class="idref" href="#named"><span class="id" title="section">named</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="PROP:4" class="idref" href="#PROP:4"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="to_named" class="idref" href="#to_named"><span class="id" title="lemma">to_named</span></a> <a id="name:5" class="idref" href="#name:5"><span class="id" title="binder">name</span></a> (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:6"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#name:5"><span class="id" title="variable">name</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:6"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="from_named" class="idref" href="#from_named"><span class="id" title="lemma">from_named</span></a> <a id="name:7" class="idref" href="#name:7"><span class="id" title="binder">name</span></a> (<a id="P:8" class="idref" href="#P:8"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#name:7"><span class="id" title="variable">name</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:8"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:8"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;implementation&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">iNamedAccu</span></span>;&nbsp;the&nbsp;soundness&nbsp;proof&nbsp;basically&nbsp;shows&nbsp;these<br/>
&nbsp;&nbsp;definitions&nbsp;are&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;ones&nbsp;used&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">iAccu</span></span>&nbsp;implementation,<br/>
&nbsp;&nbsp;since&nbsp;we&nbsp;can&nbsp;simply&nbsp;unfold&nbsp;<span class="inlinecode"><span class="id" title="var">named</span>,</span> <span class="inlinecode"><span class="id" title="var">since</span></span> <span class="inlinecode"><span class="id" title="var">we</span></span> <span class="inlinecode"><span class="id" title="var">can</span></span> <span class="inlinecode"><span class="id" title="var">simply</span></span> <span class="inlinecode"><span class="id" title="tactic">unfold</span></span> <span class="inlinecode">[<span class="id" title="var">named</span>]</span>&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="env_to_named_prop_go" class="idref" href="#env_to_named_prop_go"><span class="id" title="definition">env_to_named_prop_go</span></a> (<a id="acc:9" class="idref" href="#acc:9"><span class="id" title="binder">acc</span></a> : <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) (<a id="2c1ebf9f6f644b76d36a0d699f8e9ac4" class="idref" href="#2c1ebf9f6f644b76d36a0d699f8e9ac4"><span class="id" title="binder">Γ</span></a> : <span class="id" title="inductive">env</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#2c1ebf9f6f644b76d36a0d699f8e9ac4"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Enil</span> =&gt; <a class="idref" href="cap_machine.proofmode.NamedProp.html#acc:9"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Esnoc</span> <span class="id" title="var">Γ</span> (<span class="id" title="constructor">INamed</span> <span class="id" title="var">name</span>) <span class="id" title="var">P</span> =&gt; <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go:11"><span class="id" title="definition">env_to_named_prop_go</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">name</span> <span class="id" title="var">P</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#acc:9"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#2c1ebf9f6f644b76d36a0d699f8e9ac4"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Esnoc</span> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go:11"><span class="id" title="definition">env_to_named_prop_go</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "?" <span class="id" title="var">P</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#acc:9"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#2c1ebf9f6f644b76d36a0d699f8e9ac4"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="env_to_named_prop" class="idref" href="#env_to_named_prop"><span class="id" title="definition">env_to_named_prop</span></a> (<a id="a57704a48aaf9a67d8a3df75d6eea365" class="idref" href="#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="binder">Γ</span></a> : <span class="id" title="inductive">env</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Enil</span> =&gt; <span class="id" title="notation">emp</span>%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Esnoc</span> <span class="id" title="var">Γ</span> (<span class="id" title="constructor">INamed</span> <span class="id" title="var">name</span>) <span class="id" title="var">P</span> =&gt; <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go"><span class="id" title="definition">env_to_named_prop_go</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">name</span> <span class="id" title="var">P</span>) <a class="idref" href="cap_machine.proofmode.NamedProp.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Esnoc</span> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go"><span class="id" title="definition">env_to_named_prop_go</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "?" <span class="id" title="var">P</span>) <a class="idref" href="cap_machine.proofmode.NamedProp.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="env_to_named_prop_go_unname" class="idref" href="#env_to_named_prop_go_unname"><span class="id" title="lemma">env_to_named_prop_go_unname</span></a> (<a id="acc:15" class="idref" href="#acc:15"><span class="id" title="binder">acc</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) <a id="a2b47ff948e41f039782f954507c588d" class="idref" href="#a2b47ff948e41f039782f954507c588d"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go"><span class="id" title="definition">env_to_named_prop_go</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#acc:15"><span class="id" title="variable">acc</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">env_to_prop_go</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#acc:15"><span class="id" title="variable">acc</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="env_to_named_prop_unname" class="idref" href="#env_to_named_prop_unname"><span class="id" title="lemma">env_to_named_prop_unname</span></a> (<a id="de99c0e007bd311d76da1801ff347713" class="idref" href="#de99c0e007bd311d76da1801ff347713"><span class="id" title="binder">Γ</span></a>: <span class="id" title="inductive">env</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop"><span class="id" title="definition">env_to_named_prop</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">env_to_prop</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go_unname"><span class="id" title="axiom">env_to_named_prop_go_unname</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="env_to_named_prop_sound" class="idref" href="#env_to_named_prop_sound"><span class="id" title="lemma">env_to_named_prop_sound</span></a> (<a id="f0fc26962fbc1476a5f5245f565ffb72" class="idref" href="#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="binder">Γ</span></a>: <span class="id" title="inductive">env</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop"><span class="id" title="definition">env_to_named_prop</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">≡</span> (<span class="id" title="notation">[∗]</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_unname"><span class="id" title="axiom">env_to_named_prop_unname</span></a> <span class="id" title="lemma">env_to_prop_sound</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tac_named_accu" class="idref" href="#tac_named_accu"><span class="id" title="lemma">tac_named_accu</span></a> <a id="d64880f3ffaeeca885046d3f9bc5cd33" class="idref" href="#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="binder">Δ</span></a> (<a id="P:20" class="idref" href="#P:20"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#named.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop"><span class="id" title="definition">env_to_named_prop</span></a> (<span class="id" title="projection">env_spatial</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:20"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">envs_entails</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="variable">Δ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:20"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_unname"><span class="id" title="axiom">env_to_named_prop_unname</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">coq_tactics.tac_accu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="section">named</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">to_pm_ident</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="constructor">INamed</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="inductive">ident</span> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iDeex_as</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">iDestructHyp</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>) <span class="id" title="var">i</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iDeex</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="constructor">Esnoc</span> <span class="id" title="var">_</span> ?<span class="id" title="var">i</span> (<span class="id" title="projection">bi_exist</span> (<span class="id" title="keyword">fun</span> <a id="x:21" class="idref" href="#x:21"><span class="id" title="binder"><span id="x:22" class="id">x</span></span></a> =&gt; <span class="id" title="var">_</span>))] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDeex_as</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="cap_machine.proofmode.NamedProp.html#IsExistential"><span class="id" title="record">IsExistential</span></a></span> identifies propositions that should be destructed as
existentials by <span class="inlinecode"><span class="id" title="var">iDeex</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="IsExistential" class="idref" href="#IsExistential"><span class="id" title="record">IsExistential</span></a> {<a id="PROP:23" class="idref" href="#PROP:23"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} (<a id="P:24" class="idref" href="#P:24"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:23"><span class="id" title="variable">PROP</span></a>) := <span class="id" title="var">is_existential</span> {}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#is_existential"><span class="id" title="constructor">is_existential</span></a> {<span class="id" title="var">PROP</span> <span class="id" title="var">P</span>} : <span class="id" title="tactic">assert</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="is_existential_exist" class="idref" href="#is_existential_exist"><span class="id" title="instance">is_existential_exist</span></a> {<a id="PROP:26" class="idref" href="#PROP:26"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} {<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a>} (<a id="24a55b0b220e98811e5f8dd9beb73568" class="idref" href="#24a55b0b220e98811e5f8dd9beb73568"><span class="id" title="binder">Φ</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#A:27"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:26"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#IsExistential"><span class="id" title="class">IsExistential</span></a> (<span class="id" title="projection">bi_exist</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#24a55b0b220e98811e5f8dd9beb73568"><span class="id" title="variable">Φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="cap_machine.proofmode.NamedProp.html#IsSplittable"><span class="id" title="record">IsSplittable</span></a></span> identifies separating conjunction-like propositions that
should be split by <span class="inlinecode"><span class="id" title="var">iNamed</span></span> as it traverses a proposition for named conjuncts.

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="IsSplittable" class="idref" href="#IsSplittable"><span class="id" title="record">IsSplittable</span></a> {<a id="PROP:29" class="idref" href="#PROP:29"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} (<a id="P:30" class="idref" href="#P:30"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:29"><span class="id" title="variable">PROP</span></a>) := <span class="id" title="var">is_splittable</span> {}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#IsSplittable"><span class="id" title="class">IsSplittable</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>%<span class="id" title="var">I</span> : <span class="id" title="tactic">assert</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#is_splittable"><span class="id" title="constructor">is_splittable</span></a> {<span class="id" title="var">PROP</span> <span class="id" title="var">P</span>} : <span class="id" title="tactic">assert</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="is_splittable_sep" class="idref" href="#is_splittable_sep"><span class="id" title="instance">is_splittable_sep</span></a> {<a id="PROP:32" class="idref" href="#PROP:32"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} (<a id="P:33" class="idref" href="#P:33"><span class="id" title="binder">P</span></a> <a id="Q:34" class="idref" href="#Q:34"><span class="id" title="binder">Q</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:32"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#IsSplittable"><span class="id" title="class">IsSplittable</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:33"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:34"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
tc_is_inhabited succeeds if P is an inhabited typeclass and fails otherwise.

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tc_is_inhabited</span> <span class="id" title="var">P</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tc_solve</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">P</span>) <span class="id" title="tactic">in</span> <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "could not satisfy" <span class="id" title="var">P</span> ].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iDeex_one</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">iTypeOf</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">P</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tc_is_inhabited</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#IsExistential"><span class="id" title="class">IsExistential</span></a> <span class="id" title="var">P</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (?) <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="tactic">fail</span> 1 "iDeexHyp:" <span class="id" title="var">H</span> "not found"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;iDeexHyp&nbsp;is&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="var">iDestruct</span></span> <span class="inlinecode">&quot;<span class="id" title="var">H</span>&quot;</span> <span class="inlinecode"><span class="id" title="keyword">as</span></span> <span class="inlinecode">(?)</span> <span class="inlinecode">&quot;<span class="id" title="var">H</span>&quot;</span>&nbsp;except&nbsp;that&nbsp;it&nbsp;preserves&nbsp;the&nbsp;name<br/>
of&nbsp;the&nbsp;binder&nbsp;and&nbsp;repeats&nbsp;while&nbsp;the&nbsp;goal&nbsp;is&nbsp;an&nbsp;existential&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iDeexHyp</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iDeex_one</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">iDeex_one</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_name_replace" class="idref" href="#tac_name_replace"><span class="id" title="lemma">tac_name_replace</span></a> {<a id="PROP:35" class="idref" href="#PROP:35"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} (<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a>: <span class="id" title="inductive">ident</span>) <a id="77e0d0de3367d6e853ec4390bc2e7dbf" class="idref" href="#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="binder">Δ</span></a> <a id="p:38" class="idref" href="#p:38"><span class="id" title="binder">p</span></a> (<a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:35"><span class="id" title="variable">PROP</span></a>) <a id="Q:40" class="idref" href="#Q:40"><span class="id" title="binder">Q</span></a> <a id="name:41" class="idref" href="#name:41"><span class="id" title="binder">name</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">envs_lookup</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#i:36"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.proofmode.NamedProp.html#p:38"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#name:41"><span class="id" title="variable">name</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:39"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">envs_simple_replace</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#i:36"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#p:38"><span class="id" title="variable">p</span></a> (<span class="id" title="constructor">Esnoc</span> <span class="id" title="constructor">Enil</span> (<span class="id" title="constructor">INamed</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#name:41"><span class="id" title="variable">name</span></a>) <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:39"><span class="id" title="variable">P</span></a>) <a class="idref" href="cap_machine.proofmode.NamedProp.html#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">Δ'</span> =&gt; <span class="id" title="definition">envs_entails</span> <span class="id" title="var">Δ'</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:40"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">envs_entails</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="variable">Δ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:40"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">coq_tactics.tac_rename</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iNameReplace</span> <span class="id" title="var">i</span> <span class="id" title="var">name</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#tac_name_replace"><span class="id" title="lemma">tac_name_replace</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">name</span>);<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">first</span> [ <span class="id" title="var">reduction.pm_reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "iNamed: could not find" <span class="id" title="var">i</span> ]<br/>
&nbsp;&nbsp;| <span class="id" title="var">reduction.pm_reduce</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="notation">False</span> =&gt; <span class="id" title="tactic">fail</span> 1 "iNamed: name in not fresh" <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tac_name_intuitionistic" class="idref" href="#tac_name_intuitionistic"><span class="id" title="lemma">tac_name_intuitionistic</span></a> {<a id="PROP:42" class="idref" href="#PROP:42"><span class="id" title="binder">PROP</span></a>:<span class="id" title="record">bi</span>} <a id="8607d6c2a9ec9a03517c9fec6401a571" class="idref" href="#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="binder">Δ</span></a> <a id="i:44" class="idref" href="#i:44"><span class="id" title="binder">i</span></a> <a id="i':45" class="idref" href="#i':45"><span class="id" title="binder">i'</span></a> <a id="p:46" class="idref" href="#p:46"><span class="id" title="binder">p</span></a> (<a id="P:47" class="idref" href="#P:47"><span class="id" title="binder">P</span></a> <a id="P':48" class="idref" href="#P':48"><span class="id" title="binder">P'</span></a> <a id="Q:49" class="idref" href="#Q:49"><span class="id" title="binder">Q</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:42"><span class="id" title="variable">PROP</span></a>) <a id="name:50" class="idref" href="#name:50"><span class="id" title="binder">name</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">envs_lookup</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.proofmode.NamedProp.html#p:46"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#name:50"><span class="id" title="variable">name</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:47"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="class">IntoPersistent</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:47"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P':48"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="class">TCTrue</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="class">TCOr</span> (<span class="id" title="class">Affine</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:47"><span class="id" title="variable">P</span></a>) (<span class="id" title="class">Absorbing</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:49"><span class="id" title="variable">Q</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">envs_replace</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<span class="id" title="constructor">Esnoc</span> <span class="id" title="constructor">Enil</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#i':45"><span class="id" title="variable">i'</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P':48"><span class="id" title="variable">P'</span></a>) <a class="idref" href="cap_machine.proofmode.NamedProp.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">Δ'</span> =&gt; <span class="id" title="definition">envs_entails</span> <span class="id" title="var">Δ'</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:49"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">envs_entails</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:49"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">envs_entails_unseal</span> =&gt; ? <span class="id" title="var">HP'</span> <span class="id" title="var">HPQ</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">envs_replace</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hrep</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">envs_replace_singleton_sound</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HQ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[#HP HQ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HP".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[#HP HQ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "HQ"; <span class="id" title="var">iFrame</span> "#".<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iNameIntuitionistic</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#tac_name_intuitionistic"><span class="id" title="axiom">tac_name_intuitionistic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;[ <span class="id" title="var">reduction.pm_reflexivity</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">simpl</span>; <span class="id" title="var">tc_solve</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">reduction.pm_reduce</span><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iNamePure</span> <span class="id" title="var">i</span> <span class="id" title="var">name</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">string_to_ident_cps</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">id</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">iPure</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">id</span>).<br/>

<br/>
<span class="comment">(*&nbsp;iNameHyp&nbsp;implements&nbsp;naming&nbsp;a&nbsp;hypothesis&nbsp;of&nbsp;the&nbsp;form&nbsp;<span class="inlinecode"><span class="id" title="var">H</span>:</span> <span class="inlinecode"><span class="id" title="var">name</span></span> <span class="inlinecode">∷</span> <span class="inlinecode"><span class="id" title="var">P</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;The&nbsp;complete&nbsp;tactic&nbsp;is&nbsp;mutually&nbsp;recursive&nbsp;with&nbsp;iNamed_go&nbsp;for&nbsp;*&nbsp;patterns;&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;self-contained&nbsp;version&nbsp;takes&nbsp;iNamed_go&nbsp;as&nbsp;a&nbsp;parameter&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iNameHyp_go_rx</span> <span class="id" title="var">H</span> <span class="id" title="var">iNamed_go</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i</span> := <span class="id" title="var">to_pm_ident</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="constructor">Esnoc</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> ?<span class="id" title="var">name</span> ?<span class="id" title="var">P</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;we&nbsp;check&nbsp;for&nbsp;some&nbsp;simple&nbsp;special-cases:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pat</span> := <span class="id" title="var">intro_pat.parse_one</span> <span class="id" title="var">name</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">pat</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IIdent</span> (<span class="id" title="constructor">INamed</span> ?<span class="id" title="var">name</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;just&nbsp;rename&nbsp;one&nbsp;hypothesis&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameReplace</span> <span class="id" title="var">i</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IIntuitionistic</span> (<span class="id" title="constructor">IIdent</span> ?<span class="id" title="var">i'</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameIntuitionistic</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;pure&nbsp;intros&nbsp;need&nbsp;to&nbsp;be&nbsp;freshened&nbsp;(otherwise&nbsp;they&nbsp;block&nbsp;using&nbsp;iNamed)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IPure</span> (<span class="id" title="constructor">IGallinaNamed</span> ?<span class="id" title="var">name</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamePure</span> <span class="id" title="var">i</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;token&nbsp;"*"&nbsp;causes&nbsp;iNamed&nbsp;to&nbsp;recurse&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IForall</span> =&gt; <span class="id" title="tactic">change</span> (<span class="id" title="constructor">Esnoc</span> ?<span class="id" title="var">Δ</span> <span class="id" title="var">i</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">name</span> <span class="id" title="var">P</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="constructor">Esnoc</span> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span>); <span class="id" title="var">iNamed_go</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;we&nbsp;now&nbsp;do&nbsp;this&nbsp;only&nbsp;for&nbsp;backwards&nbsp;compatibility,&nbsp;which&nbsp;is&nbsp;a&nbsp;completely<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;safe&nbsp;but&nbsp;inefficient&nbsp;sequence&nbsp;that&nbsp;handles&nbsp;persistent/non-persistent<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;things&nbsp;correctly&nbsp;(most&nbsp;likely&nbsp;few&nbsp;patterns&nbsp;not&nbsp;covered&nbsp;above&nbsp;should&nbsp;even<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;supported)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Htmp</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRename</span> <span class="id" title="var">i</span> <span class="id" title="var">into</span> <span class="id" title="var">Htmp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#from_named"><span class="id" title="lemma">from_named</span></a> <span class="id" title="notation">with</span> <span class="id" title="var">Htmp</span><span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> <span class="id" title="var">pat</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">iClear</span> <span class="id" title="var">Htmp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="constructor">Esnoc</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> "iNameHyp: hypothesis" <span class="id" title="var">H</span> "is not a named"<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "iNameHyp: hypothesis" <span class="id" title="var">H</span> "not found"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;core&nbsp;of&nbsp;iNamed&nbsp;is&nbsp;destructing&nbsp;a&nbsp;spine&nbsp;of&nbsp;separating&nbsp;conjuncts&nbsp;and&nbsp;naming<br/>
&nbsp;&nbsp;each&nbsp;conjunct&nbsp;with&nbsp;iNameHyp;&nbsp;the&nbsp;implementation&nbsp;currently&nbsp;just&nbsp;calls&nbsp;iDestruct<br/>
&nbsp;&nbsp;and&nbsp;then&nbsp;attempts&nbsp;to&nbsp;name&nbsp;the&nbsp;new&nbsp;anonymous&nbsp;hypotheses,&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;better<br/>
&nbsp;&nbsp;to&nbsp;parametrize&nbsp;the&nbsp;splitting&nbsp;and&nbsp;naming&nbsp;into&nbsp;a&nbsp;typeclass.&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iNamedDestruct_go_rx</span> <span class="id" title="var">H</span> <span class="id" title="var">iNameHyp</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;we&nbsp;track&nbsp;the&nbsp;original&nbsp;name&nbsp;H0&nbsp;here&nbsp;so&nbsp;that&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;we&nbsp;can&nbsp;name&nbsp;the<br/>
&nbsp;&nbsp;last&nbsp;conjunct&nbsp;if&nbsp;it&nbsp;isn't&nbsp;named&nbsp;(this&nbsp;is&nbsp;what&nbsp;PropRestore&nbsp;runs&nbsp;into&nbsp;-&nbsp;it&nbsp;can<br/>
&nbsp;&nbsp;be&nbsp;destructed&nbsp;until&nbsp;a&nbsp;final&nbsp;Restore&nbsp;hypothesis)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="id" title="var">iNameHyp</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">iTypeOf</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">tc_is_inhabited</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#IsSplittable"><span class="id" title="class">IsSplittable</span></a> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="tactic">fail</span> 1 "iNamed: hypothesis" <span class="id" title="var">H</span> "not found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Htmp1</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Htmp2</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pat</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="constructor">IList</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><span class="id" title="constructor">IIdent</span> <span class="id" title="var">Htmp1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="constructor">IIdent</span> <span class="id" title="var">Htmp2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">pat</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp</span> <span class="id" title="var">Htmp1</span>; <span class="id" title="var">go</span> <span class="id" title="var">H0</span> <span class="id" title="var">Htmp2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="comment">(*&nbsp;reaching&nbsp;here&nbsp;means&nbsp;the&nbsp;last&nbsp;conjunct&nbsp;could&nbsp;not&nbsp;be&nbsp;named&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iNameHyp;&nbsp;rather&nbsp;than&nbsp;leave&nbsp;it&nbsp;anonymous,&nbsp;restore&nbsp;the&nbsp;original<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(note&nbsp;this&nbsp;could&nbsp;fail&nbsp;if&nbsp;that&nbsp;name&nbsp;was&nbsp;used&nbsp;by&nbsp;one&nbsp;of&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inner&nbsp;names,&nbsp;which&nbsp;we&nbsp;don't&nbsp;handle&nbsp;here)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">H0</span> ] <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">H</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;declaration&nbsp;defines&nbsp;iNamed&nbsp;by&nbsp;tying&nbsp;together&nbsp;all&nbsp;the&nbsp;mutual&nbsp;recursion&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">iNamed_go</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 1%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">i</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span> <span class="id" title="var">iIntros</span> <span class="id" title="var">i</span>; <span class="id" title="var">iNamed_go</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| 1%<span class="id" title="var">nat</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">i</span> := <span class="id" title="var">iFresh</span> <span class="id" title="tactic">in</span> <span class="id" title="var">iIntros</span> <span class="id" title="var">i</span>; <span class="id" title="var">iNamed_go</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;first&nbsp;destruct&nbsp;the&nbsp;existentials,&nbsp;then&nbsp;split&nbsp;the&nbsp;conjuncts&nbsp;(but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;importantly&nbsp;only&nbsp;these&nbsp;two&nbsp;levels;&nbsp;the&nbsp;user&nbsp;must&nbsp;explicitly&nbsp;opt-in&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destructing&nbsp;more&nbsp;existentials&nbsp;for&nbsp;conjuncts)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">iDeexHyp</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamedDestruct_go</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Ltac&nbsp;*)</span> <span class="id" title="var">iNameHyp_go</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iNameHyp_go_rx</span> <span class="id" title="var">H</span> <span class="id" title="var">iNamed_go</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Ltac&nbsp;*)</span> <span class="id" title="var">iNamedDestruct_go</span> <span class="id" title="var">H</span> := <span class="id" title="var">iNamedDestruct_go_rx</span> <span class="id" title="var">H</span> <span class="id" title="var">iNameHyp_go</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "iNamedDestruct" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) := <span class="id" title="var">iNamedDestruct_go</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "iNamed" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) := <span class="id" title="var">iNamed_go</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="comment">(*&nbsp;iNamed&nbsp;names&nbsp;any&nbsp;hypotheses&nbsp;that&nbsp;are&nbsp;anonymous&nbsp;but&nbsp;have&nbsp;a&nbsp;name.&nbsp;This&nbsp;is<br/>
primarily&nbsp;useful&nbsp;when&nbsp;you&nbsp;for&nbsp;some&nbsp;reason&nbsp;need&nbsp;to&nbsp;introduce&nbsp;using&nbsp;?&nbsp;and&nbsp;then<br/>
separately&nbsp;name&nbsp;(this&nbsp;can&nbsp;arise&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">iNamed</span></span>&nbsp;isn't&nbsp;doing&nbsp;the&nbsp;right&nbsp;thing,&nbsp;or<br/>
wouldn't&nbsp;work&nbsp;for&nbsp;all&nbsp;the&nbsp;conjuncts)&nbsp;*)</span><br/>
<span class="id" title="keyword">Tactic Notation</span> "iNamed" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="constructor">Esnoc</span> <span class="id" title="var">_</span> ?<span class="id" title="var">i</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> ?<span class="id" title="var">name</span> ?<span class="id" title="var">P</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp_go</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;debug&nbsp;this&nbsp;for&nbsp;destructing&nbsp;anonymous&nbsp;composites&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;|&nbsp;|-&nbsp;context<span class="inlinecode"><span class="id" title="var">Esnoc</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">?<span class="id" title="var">i</span></span> <span class="inlinecode">?<span class="id" title="var">P</span></span>&nbsp;=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazymatch&nbsp;P&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;context<span class="inlinecode"><span class="id" title="var">named</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>&nbsp;=&gt;&nbsp;progress&nbsp;iNamed&nbsp;i<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;iNameHyp&nbsp;only&nbsp;introduces&nbsp;names&nbsp;for&nbsp;a&nbsp;single&nbsp;hypothesis&nbsp;(and&nbsp;is&nbsp;usually&nbsp;not<br/>
useful&nbsp;on&nbsp;its&nbsp;own)&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iNameHyp</span> <span class="id" title="var">H</span> := <span class="id" title="var">iNameHyp_go</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "iNamedAccu" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iStartProof</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tac_named_accu"><span class="id" title="axiom">tac_named_accu</span></a>; [ <span class="comment">(*&nbsp;only&nbsp;one&nbsp;goal&nbsp;should&nbsp;spawn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [ <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop"><span class="id" title="definition">env_to_named_prop</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#env_to_named_prop_go"><span class="id" title="definition">env_to_named_prop_go</span></a> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reduction.pm_reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "iNamedAccu: not an evar"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iRed</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id" title="definition">envs_entails</span> <span class="id" title="var">_</span> ?<span class="id" title="var">g</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g'</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">g</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_no_check</span> <span class="id" title="var">g</span> <span class="id" title="keyword">with</span> <span class="id" title="var">g'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iHnf</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id" title="definition">envs_entails</span> <span class="id" title="var">_</span> ?<span class="id" title="var">g</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g'</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">g</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_no_check</span> <span class="id" title="var">g</span> <span class="id" title="keyword">with</span> <span class="id" title="var">g'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iFrameNamed</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id" title="definition">envs_entails</span> <span class="id" title="var">_</span> ?<span class="id" title="var">g</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="var">g</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> ?<span class="id" title="var">p</span> ?<span class="id" title="var">P</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pat</span> := <span class="id" title="var">intro_patterns.intro_pat.parse_one</span> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">pat</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IIdent</span> ?<span class="id" title="var">name</span> =&gt; <span class="id" title="var">iFrame</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IIntuitionistic</span> (<span class="id" title="constructor">IIdent</span> ?<span class="id" title="var">name</span>) =&gt; <span class="id" title="var">iFrame</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IPure</span> (<span class="id" title="constructor">IGallinaNamed</span> ?<span class="id" title="var">name</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">string_to_ident_cps</span> <span class="id" title="var">name</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">iFrame</span> (<span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prove_named</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iEval</span> (<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;is&nbsp;crucially&nbsp;placed&nbsp;just&nbsp;below&nbsp;level&nbsp;80,&nbsp;which&nbsp;is&nbsp;where&nbsp;∗&nbsp;is,&nbsp;so&nbsp;that<br/>
you&nbsp;can&nbsp;change&nbsp;<span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">∗</span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;to&nbsp;<span class="inlinecode">&quot;<span class="id" title="var">HP</span>&quot;</span> <span class="inlinecode">∷</span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode">∗</span> <span class="inlinecode">&quot;<span class="id" title="var">HQ</span>&quot;</span> <span class="inlinecode">∷</span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;without&nbsp;adding&nbsp;parentheses&nbsp;to<br/>
attach&nbsp;the&nbsp;names&nbsp;correctly&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="1350428996423bbb1e504ad829ea6ae0" class="idref" href="#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">&quot;</span></a>name ∷ P" := (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">name</span> <span class="id" title="var">P</span>%<span class="id" title="var">I</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 79).<br/>

<br/>
<span class="comment">(*&nbsp;Enable&nbsp;eauto&nbsp;to&nbsp;solve&nbsp;goals&nbsp;where&nbsp;the&nbsp;top-level&nbsp;is&nbsp;<span class="inlinecode"><span class="id" title="var">named</span></span>&nbsp;*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 0 (<span class="id" title="definition">environments.envs_entails</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;maybe&nbsp;we&nbsp;should&nbsp;move&nbsp;tests&nbsp;out&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <a id="tests" class="idref" href="#tests"><span class="id" title="module">tests</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "All".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="tests.tests" class="idref" href="#tests.tests"><span class="id" title="section">tests</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="PROP:51" class="idref" href="#PROP:51"><span class="id" title="binder">PROP</span></a>: <span class="id" title="record">bi</span>} {<a id="Haffine:52" class="idref" href="#Haffine:52"><span class="id" title="binder">Haffine</span></a>: <span class="id" title="class">BiAffine</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#PROP:51"><span class="id" title="variable">PROP</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">R</span> : <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">Ψ</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (φ: <span class="id" title="keyword">Prop</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_name_named_1" class="idref" href="#tests.test_name_named_1"><span class="id" title="definition">test_name_named_1</span></a> <a id="P:53" class="idref" href="#P:53"><span class="id" title="binder">P</span></a> <a id="Q:54" class="idref" href="#Q:54"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:53"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:54"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:53"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:54"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "? ?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "H1"; [ <span class="id" title="var">iExact</span> "H1" | <span class="id" title="var">iExact</span> "H2" ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_name_named_2" class="idref" href="#tests.test_name_named_2"><span class="id" title="definition">test_name_named_2</span></a> <a id="P:55" class="idref" href="#P:55"><span class="id" title="binder">P</span></a> <a id="Q:56" class="idref" href="#Q:56"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:55"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:56"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:55"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:56"><span class="id" title="variable">Q</span></a>%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H₁ H₂".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp</span> "H₁".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp</span> "H₂".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "H1"; [ <span class="id" title="var">iExact</span> "H1" | <span class="id" title="var">iExact</span> "H2" ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_pure_pattern_freshen" class="idref" href="#tests.test_pure_pattern_freshen"><span class="id" title="definition">test_pure_pattern_freshen</span></a> <a id="446d542474945d9a4049ff0cab088f3f" class="idref" href="#446d542474945d9a4049ff0cab088f3f"><span class="id" title="binder">φ</span></a> <a id="4f61487d0058cceb75d9257330a37361" class="idref" href="#4f61487d0058cceb75d9257330a37361"><span class="id" title="binder">φ'</span></a> <a id="P:59" class="idref" href="#P:59"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "%H" <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#446d542474945d9a4049ff0cab088f3f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "%H" <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#4f61487d0058cceb75d9257330a37361"><span class="id" title="variable">φ'</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:59"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#446d542474945d9a4049ff0cab088f3f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#4f61487d0058cceb75d9257330a37361"><span class="id" title="variable">φ'</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:59"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2 $".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp</span> "H1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNameHyp</span> "H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_destruct_named" class="idref" href="#tests.test_destruct_named"><span class="id" title="definition">test_destruct_named</span></a> <a id="P:60" class="idref" href="#P:60"><span class="id" title="binder">P</span></a> <a id="Q:61" class="idref" href="#Q:61"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:60"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:61"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H3" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:60"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "H4" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:61"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:60"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:61"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:60"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:61"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamedDestruct</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_destruct_pat" class="idref" href="#tests.test_destruct_pat"><span class="id" title="definition">test_destruct_pat</span></a> (<a id="foo:62" class="idref" href="#foo:62"><span class="id" title="binder">foo</span></a>: <span class="id" title="keyword">Prop</span>) <a id="P:63" class="idref" href="#P:63"><span class="id" title="binder">P</span></a> <a id="Q:64" class="idref" href="#Q:64"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "[%Hfoo HP]" (<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#foo:62"><span class="id" title="variable">foo</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:63"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:64"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:63"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#foo:62"><span class="id" title="variable">foo</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:63"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:64"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:63"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamedDestruct</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "HP HQ HP2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Hfoo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_frame_named" class="idref" href="#tests.test_frame_named"><span class="id" title="definition">test_frame_named</span></a> <a id="P:65" class="idref" href="#P:65"><span class="id" title="binder">P</span></a> <a id="Q:66" class="idref" href="#Q:66"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:65"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:66"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:65"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:66"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "HQ HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_frame_named_sep" class="idref" href="#tests.test_frame_named_sep"><span class="id" title="definition">test_frame_named_sep</span></a> <a id="P:67" class="idref" href="#P:67"><span class="id" title="binder">P</span></a> <a id="Q:68" class="idref" href="#Q:68"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:67"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:68"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HPQ" (<a class="idref" href="cap_machine.proofmode.NamedProp.html#P:67"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:68"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_remove_named_in_goal" class="idref" href="#tests.test_remove_named_in_goal"><span class="id" title="definition">test_remove_named_in_goal</span></a> <a id="P:69" class="idref" href="#P:69"><span class="id" title="binder">P</span></a> <a id="Q:70" class="idref" href="#Q:70"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:69"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:70"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:69"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:70"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prove_named</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_exist_destruct" class="idref" href="#tests.test_exist_destruct"><span class="id" title="definition">test_exist_destruct</span></a> <a id="002c85c7260c5ca4f9f74fb7f2897e14" class="idref" href="#002c85c7260c5ca4f9f74fb7f2897e14"><span class="id" title="binder">Ψ</span></a> <a id="Q:72" class="idref" href="#Q:72"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" (<a class="idref" href="cap_machine.proofmode.NamedProp.html#002c85c7260c5ca4f9f74fb7f2897e14"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:73"><span class="id" title="variable">x</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:72"><span class="id" title="variable">Q</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:74" class="idref" href="#x:74"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#002c85c7260c5ca4f9f74fb7f2897e14"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:74"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:72"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HP"; [ <span class="id" title="var">iExists</span> <span class="id" title="var">x</span> | ]; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="tests.rep_invariant" class="idref" href="#tests.rep_invariant"><span class="id" title="definition">rep_invariant</span></a> <a id="079462249c791f398e0e3ace2029ce20" class="idref" href="#079462249c791f398e0e3ace2029ce20"><span class="id" title="binder">Ψ</span></a> <a id="Q:76" class="idref" href="#Q:76"><span class="id" title="binder">Q</span></a> : <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests.PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∃</span> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" (<a class="idref" href="cap_machine.proofmode.NamedProp.html#079462249c791f398e0e3ace2029ce20"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:77"><span class="id" title="variable">x</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:76"><span class="id" title="variable">Q</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_exist_destruct_under_definition" class="idref" href="#tests.test_exist_destruct_under_definition"><span class="id" title="definition">test_exist_destruct_under_definition</span></a> <a id="bfa9a646bda31f7aebead368a3d194f9" class="idref" href="#bfa9a646bda31f7aebead368a3d194f9"><span class="id" title="binder">Ψ</span></a> <a id="Q:79" class="idref" href="#Q:79"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.rep_invariant"><span class="id" title="definition">rep_invariant</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#bfa9a646bda31f7aebead368a3d194f9"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:79"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:80" class="idref" href="#x:80"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#bfa9a646bda31f7aebead368a3d194f9"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:80"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:79"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "HP"; [ <span class="id" title="var">iExists</span> <span class="id" title="var">x</span> | ]; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_exist_destruct_no_naming" class="idref" href="#tests.test_exist_destruct_no_naming"><span class="id" title="definition">test_exist_destruct_no_naming</span></a> <a id="f8475ea26e8d7496570fc3069bb8a03d" class="idref" href="#f8475ea26e8d7496570fc3069bb8a03d"><span class="id" title="binder">Ψ</span></a> <a id="Q:82" class="idref" href="#Q:82"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#f8475ea26e8d7496570fc3069bb8a03d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:83"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#f8475ea26e8d7496570fc3069bb8a03d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:84"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x</span>; <span class="id" title="var">iFrame</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_multiple_exist_destruct" class="idref" href="#tests.test_multiple_exist_destruct"><span class="id" title="definition">test_multiple_exist_destruct</span></a> <a id="55c5f259ec8620f8950a823ac94763fd" class="idref" href="#55c5f259ec8620f8950a823ac94763fd"><span class="id" title="binder">Ψ</span></a> <a id="Q:86" class="idref" href="#Q:86"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a> <a id="y:88" class="idref" href="#y:88"><span class="id" title="binder">y</span></a> <a id="z:89" class="idref" href="#z:89"><span class="id" title="binder">z</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#55c5f259ec8620f8950a823ac94763fd"><span class="id" title="variable">Ψ</span></a> (<a class="idref" href="cap_machine.proofmode.NamedProp.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#y:88"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#z:89"><span class="id" title="variable">z</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#55c5f259ec8620f8950a823ac94763fd"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:90"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">z</span>); <span class="id" title="var">iFrame</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_iNamed_destruct_pat" class="idref" href="#tests.test_iNamed_destruct_pat"><span class="id" title="definition">test_iNamed_destruct_pat</span></a> <a id="4b232bbfab81806905812416467e9f5f" class="idref" href="#4b232bbfab81806905812416467e9f5f"><span class="id" title="binder">φ</span></a> <a id="P:92" class="idref" href="#P:92"><span class="id" title="binder">P</span></a> <a id="Q:93" class="idref" href="#Q:93"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "[%Hfoo HP]" (<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#4b232bbfab81806905812416467e9f5f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:92"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HQ" <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:93"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:92"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#4b232bbfab81806905812416467e9f5f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:92"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:93"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:92"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "HP HQ HP2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Hfoo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_into_pure" class="idref" href="#tests.test_named_into_pure"><span class="id" title="definition">test_named_into_pure</span></a> <a id="d5b93cc29a7c58afda78c3e94af09715" class="idref" href="#d5b93cc29a7c58afda78c3e94af09715"><span class="id" title="binder">φ</span></a> <a id="Q:95" class="idref" href="#Q:95"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "N" <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#d5b93cc29a7c58afda78c3e94af09715"><span class="id" title="variable">φ</span></a><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:95"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:95"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%HP HQ]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_persistent" class="idref" href="#tests.test_named_persistent"><span class="id" title="definition">test_named_persistent</span></a> <a id="P:96" class="idref" href="#P:96"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#H" (<span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:96"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">-∗</span> <span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:96"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExact</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_persistent_same_name" class="idref" href="#tests.test_named_persistent_same_name"><span class="id" title="definition">test_named_persistent_same_name</span></a> <a id="P:97" class="idref" href="#P:97"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#H" (<span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:97"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">-∗</span> <span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:97"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExact</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_persistent_conjuncts" class="idref" href="#tests.test_named_persistent_conjuncts"><span class="id" title="definition">test_named_persistent_conjuncts</span></a> <a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a> <a id="Q:99" class="idref" href="#Q:99"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#H" (<span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:98"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#HQ" (<span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:99"><span class="id" title="variable">Q</span></a>) <span class="id" title="notation">-∗</span> <span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:98"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:99"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "[Htmp1 H]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_persistent_context" class="idref" href="#tests.test_named_persistent_context"><span class="id" title="definition">test_named_persistent_context</span></a> <a id="P:100" class="idref" href="#P:100"><span class="id" title="binder">P</span></a> <a id="Q:101" class="idref" href="#Q:101"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#H" (<span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:100"><span class="id" title="variable">P</span></a>) <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#HQ" (<span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:101"><span class="id" title="variable">Q</span></a>) <span class="id" title="notation">-∗</span> <span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:100"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:101"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_already_persistent" class="idref" href="#tests.test_named_already_persistent"><span class="id" title="definition">test_named_already_persistent</span></a> `{<a id="Persistent0:103" class="idref" href="#Persistent0:103"><span class="id" title="binder">!</span></a><a id="Persistent0:103" class="idref" href="#Persistent0:103"><span class="id" title="binder">Persistent</span></a> <a id="P:102" class="idref" href="#P:102"><span class="id" title="binder"><span id="Persistent0:103" class="id">P</span></span></a>} <a id="Q:104" class="idref" href="#Q:104"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#H" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:102"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "#HQ" (<span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:104"><span class="id" title="variable">Q</span></a>) <span class="id" title="notation">-∗</span> <span class="id" title="notation">□</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#P:102"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:104"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_last_not_named" class="idref" href="#tests.test_named_last_not_named"><span class="id" title="definition">test_named_last_not_named</span></a> <a id="P:105" class="idref" href="#P:105"><span class="id" title="binder">P</span></a> <a id="Q:106" class="idref" href="#Q:106"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:105"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:106"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:105"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:106"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span> "HQ"; <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_from_pure" class="idref" href="#tests.test_named_from_pure"><span class="id" title="definition">test_named_from_pure</span></a> <a id="ed678cdb7c1d8e54466c4dd1f3ef04b3" class="idref" href="#ed678cdb7c1d8e54466c4dd1f3ef04b3"><span class="id" title="binder">φ</span></a> <a id="Q:108" class="idref" href="#Q:108"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#ed678cdb7c1d8e54466c4dd1f3ef04b3"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:108"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:108"><span class="id" title="variable">Q</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "N" <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.proofmode.NamedProp.html#ed678cdb7c1d8e54466c4dd1f3ef04b3"><span class="id" title="variable">φ</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">HP</span>) "HQ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_named_not_found" class="idref" href="#tests.test_named_not_found"><span class="id" title="definition">test_named_not_found</span></a> <a id="P:109" class="idref" href="#P:109"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:109"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:109"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="var">iNamed</span> "foo". <span class="comment">(*&nbsp;hypothesis&nbsp;"foo"&nbsp;not&nbsp;found&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExact</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_exists" class="idref" href="#tests.test_exists"><span class="id" title="definition">test_exists</span></a> <a id="0d00dc1b62649a5f8e78ff705c7ad42d" class="idref" href="#0d00dc1b62649a5f8e78ff705c7ad42d"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP2" (<span class="id" title="notation">∃</span> <a id="my_name:111" class="idref" href="#my_name:111"><span class="id" title="binder">my_name</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#0d00dc1b62649a5f8e78ff705c7ad42d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#my_name:111"><span class="id" title="variable">my_name</span></a>) <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" (<span class="id" title="notation">∃</span> <a id="x:112" class="idref" href="#x:112"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#0d00dc1b62649a5f8e78ff705c7ad42d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:112"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "?"; <span class="id" title="var">iNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDeexHyp</span> "HP2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">my_name</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_exists_freshen" class="idref" href="#tests.test_exists_freshen"><span class="id" title="definition">test_exists_freshen</span></a> <a id="x:113" class="idref" href="#x:113"><span class="id" title="binder">x</span></a> <a id="c8d147ad32ba7792603b4f22c23265db" class="idref" href="#c8d147ad32ba7792603b4f22c23265db"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" (<a class="idref" href="cap_machine.proofmode.NamedProp.html#c8d147ad32ba7792603b4f22c23265db"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:113"><span class="id" title="variable">x</span></a>) <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP2" (<span class="id" title="notation">∃</span> <a id="x:115" class="idref" href="#x:115"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#c8d147ad32ba7792603b4f22c23265db"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:115"><span class="id" title="variable">x</span></a>) <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#named"><span class="id" title="definition">named</span></a> "HP" (<span class="id" title="notation">∃</span> <a id="x:116" class="idref" href="#x:116"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#c8d147ad32ba7792603b4f22c23265db"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:116"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "? ?"; <span class="id" title="var">iNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDeexHyp</span> "HP2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x0</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="tests.simple_rep" class="idref" href="#tests.simple_rep"><span class="id" title="definition">simple_rep</span></a> <a id="P:117" class="idref" href="#P:117"><span class="id" title="binder">P</span></a> := "HP" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:117"><span class="id" title="variable">P</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;is&nbsp;a&nbsp;bug&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_destruct_singleton_under_definition" class="idref" href="#tests.test_destruct_singleton_under_definition"><span class="id" title="definition">test_destruct_singleton_under_definition</span></a> <a id="P:118" class="idref" href="#P:118"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.simple_rep"><span class="id" title="definition">simple_rep</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:118"><span class="id" title="variable">P</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:118"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="var">iExact</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_nested_destruct" class="idref" href="#tests.test_nested_destruct"><span class="id" title="definition">test_nested_destruct</span></a> <a id="5cf341e35a3448dfb29485f2585ace53" class="idref" href="#5cf341e35a3448dfb29485f2585ace53"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> <span class="id" title="notation">(</span>"%wf" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">⌜</span><span class="id" title="notation">True</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"*" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">∃</span> <a id="y:120" class="idref" href="#y:120"><span class="id" title="binder">y</span></a><span class="id" title="notation">,</span> "psi" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#5cf341e35a3448dfb29485f2585ace53"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#y:120"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#5cf341e35a3448dfb29485f2585ace53"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:121"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y</span>; <span class="id" title="var">iExact</span> "psi".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_nested_destruct_conjuncts" class="idref" href="#tests.test_nested_destruct_conjuncts"><span class="id" title="definition">test_nested_destruct_conjuncts</span></a> <a id="48994674ee8a17f292cd57fc8962bd6d" class="idref" href="#48994674ee8a17f292cd57fc8962bd6d"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span>"%wf" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">⌜</span><span class="id" title="notation">True</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"*" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">∃</span> <a id="y:123" class="idref" href="#y:123"><span class="id" title="binder">y</span></a><span class="id" title="notation">,</span> "psi" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#48994674ee8a17f292cd57fc8962bd6d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#y:123"><span class="id" title="variable">y</span></a> <span class="id" title="notation">∗</span> "psi2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#48994674ee8a17f292cd57fc8962bd6d"><span class="id" title="variable">Ψ</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="cap_machine.proofmode.NamedProp.html#y:123"><span class="id" title="variable">y</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="x:124" class="idref" href="#x:124"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#48994674ee8a17f292cd57fc8962bd6d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:124"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">y</span>); <span class="id" title="var">iExact</span> "psi2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_nested_destruct_middle" class="idref" href="#tests.test_nested_destruct_middle"><span class="id" title="definition">test_nested_destruct_middle</span></a> <a id="P:125" class="idref" href="#P:125"><span class="id" title="binder">P</span></a> <a id="e9b55f8f4df0ac0fcdfb44ff92838b7a" class="idref" href="#e9b55f8f4df0ac0fcdfb44ff92838b7a"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span>"HP1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:125"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"*" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">(</span></a><span class="id" title="notation">∃</span> <a id="y:127" class="idref" href="#y:127"><span class="id" title="binder">y</span></a><span class="id" title="notation">,</span> "psi" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#e9b55f8f4df0ac0fcdfb44ff92838b7a"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#y:127"><span class="id" title="variable">y</span></a> <span class="id" title="notation">∗</span> "psi2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#e9b55f8f4df0ac0fcdfb44ff92838b7a"><span class="id" title="variable">Ψ</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="cap_machine.proofmode.NamedProp.html#y:127"><span class="id" title="variable">y</span></a>)<a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"HP2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:125"><span class="id" title="variable">P</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#e9b55f8f4df0ac0fcdfb44ff92838b7a"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#x:128"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P:125"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">y</span>); <span class="id" title="var">iFrame</span> "psi2 HP2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_frame_named_spatial" class="idref" href="#tests.test_frame_named_spatial"><span class="id" title="definition">test_frame_named_spatial</span></a> <a id="P1:129" class="idref" href="#P1:129"><span class="id" title="binder">P1</span></a> <a id="P2:130" class="idref" href="#P2:130"><span class="id" title="binder">P2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:129"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:130"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:129"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:130"><span class="id" title="variable">P2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "I". <span class="id" title="var">iNamed</span> "I".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrameNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_frame_named_persistent" class="idref" href="#tests.test_frame_named_persistent"><span class="id" title="definition">test_frame_named_persistent</span></a> <a id="P1:131" class="idref" href="#P1:131"><span class="id" title="binder">P1</span></a> <a id="P2:132" class="idref" href="#P2:132"><span class="id" title="binder">P2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"#H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:131"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:132"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"#H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:131"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:132"><span class="id" title="variable">P2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "I".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iNamed</span> "I".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrameNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_frame_named_pure" class="idref" href="#tests.test_frame_named_pure"><span class="id" title="definition">test_frame_named_pure</span></a> <a id="P1:133" class="idref" href="#P1:133"><span class="id" title="binder">P1</span></a> <a id="P2:134" class="idref" href="#P2:134"><span class="id" title="binder">P2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%Hwf" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">⌜</span><span class="id" title="notation">False</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> "#H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">□</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:133"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:134"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%Hwf" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <span class="id" title="notation">⌜</span><span class="id" title="notation">False</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∗</span> "#H1" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:133"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> "H2" <a class="idref" href="cap_machine.proofmode.NamedProp.html#1350428996423bbb1e504ad829ea6ae0"><span class="id" title="notation">∷</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:134"><span class="id" title="variable">P2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "I". <span class="id" title="var">iNamed</span> "I".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrameNamed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tests.env_modus_ponens" class="idref" href="#tests.env_modus_ponens"><span class="id" title="lemma">env_modus_ponens</span></a> (<a id="95a2dff135c0b1fef773df5f3c6e831b" class="idref" href="#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="binder">Γ</span></a>: <span class="id" title="record">envs</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests.PROP"><span class="id" title="variable">PROP</span></a>) (<a id="Q:136" class="idref" href="#Q:136"><span class="id" title="binder">Q</span></a> <a id="Q':137" class="idref" href="#Q':137"><span class="id" title="binder">Q'</span></a>: <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">envs_entails</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q':137"><span class="id" title="variable">Q'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.proofmode.NamedProp.html#Q':137"><span class="id" title="variable">Q'</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:136"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">envs_entails</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="cap_machine.proofmode.NamedProp.html#Q:136"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> &lt;- =&gt; //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="tests.test_inamedaccu_serialize" class="idref" href="#tests.test_inamedaccu_serialize"><span class="id" title="definition">test_inamedaccu_serialize</span></a> <a id="P1:138" class="idref" href="#P1:138"><span class="id" title="binder">P1</span></a> <a id="P2:139" class="idref" href="#P2:139"><span class="id" title="binder">P2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P1:138"><span class="id" title="variable">P1</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#P2:139"><span class="id" title="variable">P2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(H1&amp;?&amp;?&amp;H2&amp;?&amp;?)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.env_modus_ponens"><span class="id" title="lemma">env_modus_ponens</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iNamedAccu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iNamed</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;should&nbsp;recover&nbsp;the&nbsp;same&nbsp;context&nbsp;(modulo&nbsp;renaming&nbsp;of&nbsp;anonymous<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hypotheses)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests.tests"><span class="id" title="section">tests</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.proofmode.NamedProp.html#tests"><span class="id" title="module">tests</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
